var Servantdb=new Object();document.write('<script src="js\\ServantDBData.min.js?230515"><\/script> ');var BronzeMaterialCount=13;var SilverMaterialCount=22;var GoldMaterialCount=18;var EventMaterialCount=38;var ServantClassCount=15;const myServantdbRowidxAppend1From=11;const myServantdbRowidxAppend1To=12;const myServantdbRowidxAppend2From=13;const myServantdbRowidxAppend2To=14;const myServantdbRowidxAppend3From=15;const myServantdbRowidxAppend3To=16;const TargetPatternAppend1=4;const TargetPatternAppend2=5;const TargetPatternAppend3=6;const lockingPatternAll=-1;const NameAppend1LockSelect="stage3_1_";const NameAppend2LockSelect="stage3_2_";const NameAppend3LockSelect="stage3_3_";const IDAppend1From="#askill1_from_";const IDAppend1To="#askill1_to_";const IDAppend2From="#askill2_from_";const IDAppend2To="#askill2_to_";const IDAppend3From="#askill3_from_";const IDAppend3To="#askill3_to_";const GetTextAscension=0;const GetTextNoServantReg=1;const GetTextDeleteAllServants=2;var mTotalNum=new Object();mTotalNum={100:0,101:0,102:0,103:0,104:0,105:0,106:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0,310:0,311:0,312:0,400:0,401:0,402:0,403:0,404:0,405:0,406:0,407:0,408:0,409:0,410:0,411:0,412:0,413:0,414:0,415:0,416:0,417:0,418:0,419:0,420:0,421:0,500:0,501:0,502:0,503:0,504:0,505:0,506:0,507:0,508:0,509:0,510:0,511:0,512:0,513:0,514:0,515:0,516:0,517:0,600:0,601:0,602:0,603:0,604:0,605:0,606:0,607:0,608:0,609:0,610:0,611:0,612:0,613:0,614:0,615:0,616:0,617:0,618:0,619:0,620:0,621:0,622:0,623:0,624:0,625:0,626:0,627:0,628:0,629:0,630:0,631:0,632:0,633:0,634:0,635:0,636:0,637:0,800:0,900:0,sithona:0};var mTotalUsed=new Object();mTotalUsed={100:0,101:0,102:0,103:0,104:0,105:0,106:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0,310:0,311:0,312:0,400:0,401:0,402:0,403:0,404:0,405:0,406:0,407:0,408:0,409:0,410:0,411:0,412:0,413:0,414:0,415:0,416:0,417:0,418:0,419:0,420:0,421:0,500:0,501:0,502:0,503:0,504:0,505:0,506:0,507:0,508:0,509:0,510:0,511:0,512:0,513:0,514:0,515:0,516:0,517:0,600:0,601:0,602:0,603:0,604:0,605:0,606:0,607:0,608:0,609:0,610:0,611:0,612:0,613:0,614:0,615:0,616:0,617:0,618:0,619:0,620:0,621:0,622:0,623:0,624:0,625:0,626:0,627:0,628:0,629:0,630:0,631:0,632:0,633:0,634:0,635:0,636:0,637:0,800:0,900:0};var mTotalChaldea=new Object();mTotalChaldea={100:0,101:0,102:0,103:0,104:0,105:0,106:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0,310:0,311:0,312:0,400:0,401:0,402:0,403:0,404:0,405:0,406:0,407:0,408:0,409:0,410:0,411:0,412:0,413:0,414:0,415:0,416:0,417:0,418:0,419:0,420:0,421:0,500:0,501:0,502:0,503:0,504:0,505:0,506:0,507:0,508:0,509:0,510:0,511:0,512:0,513:0,514:0,515:0,516:0,517:0,600:0,601:0,602:0,603:0,604:0,605:0,606:0,607:0,608:0,609:0,610:0,611:0,612:0,613:0,614:0,615:0,616:0,617:0,618:0,619:0,620:0,621:0,622:0,623:0,624:0,625:0,626:0,627:0,628:0,629:0,630:0,631:0,632:0,633:0,634:0,635:0,636:0,637:0,800:0,900:0};var mUsedChaldea=new Object();mUsedChaldea={100:0,101:0,102:0,103:0,104:0,105:0,106:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0,310:0,311:0,312:0,400:0,401:0,402:0,403:0,404:0,405:0,406:0,407:0,408:0,409:0,410:0,411:0,412:0,413:0,414:0,415:0,416:0,417:0,418:0,419:0,420:0,421:0,500:0,501:0,502:0,503:0,504:0,505:0,506:0,507:0,508:0,509:0,510:0,511:0,512:0,513:0,514:0,515:0,516:0,517:0,600:0,601:0,602:0,603:0,604:0,605:0,606:0,607:0,608:0,609:0,610:0,611:0,612:0,613:0,614:0,615:0,616:0,617:0,618:0,619:0,620:0,621:0,622:0,623:0,624:0,625:0,626:0,627:0,628:0,629:0,630:0,631:0,632:0,633:0,634:0,635:0,636:0,637:0,800:0,900:0};var inventoryNum=new Object();inventoryNum={100:0,101:0,102:0,103:0,104:0,105:0,106:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0,310:0,311:0,312:0,400:0,401:0,402:0,403:0,404:0,405:0,406:0,407:0,408:0,409:0,410:0,411:0,412:0,413:0,414:0,415:0,416:0,417:0,418:0,419:0,420:0,421:0,500:0,501:0,502:0,503:0,504:0,505:0,506:0,507:0,508:0,509:0,510:0,511:0,512:0,513:0,514:0,515:0,516:0,517:0,600:0,601:0,602:0,603:0,604:0,605:0,606:0,607:0,608:0,609:0,610:0,611:0,612:0,613:0,614:0,615:0,616:0,617:0,618:0,619:0,620:0,621:0,622:0,623:0,624:0,625:0,626:0,627:0,628:0,629:0,630:0,631:0,632:0,633:0,634:0,635:0,636:0,637:0,800:0,900:0};var sairinQP=new Array();sairinQP=[[10000,30000,90000,300000],[15000,45000,150000,450000],[30000,100000,300000,900000],[50000,150000,500000,1500000],[100000,300000,1000000,3000000]];var skillQP=new Array();skillQP=[[10000,20000,60000,80000,200000,250000,500000,600000,1000000],[20000,40000,120000,160000,400000,500000,1000000,1200000,2000000],[50000,100000,300000,400000,1000000,1250000,2500000,3000000,5000000],[100000,200000,600000,800000,2000000,2500000,5000000,6000000,10000000],[200000,400000,1200000,1600000,4000000,5000000,10000000,12000000,20000000]];var language=0;var showBox=0;var numServantSelect;var numCalcServantId=new Array();var numCalcServantMaterial=new Object();var numIndividual=0;var lockSetting=new Array();var FormidNum=new Object();var FormidUsed=new Object();var FormChaldeaNum=new Object();var FormChaldeaUsed=new Object();var myServantdb=new Array();var clnum=200;var renum=0;var rev=10;var statusnum=0;var filternum=0;var statusArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var chaldeanum=0;var chaldeaFuncnum=0;var tempNum;var tempNumtotal;var numItems=64;var numInv;var useInv=0;function initLockSettingRow(){return[0,0,0,0,1,1,1]}function initmyServantdbRow(){return[0,0,4,1,10,1,10,1,10,0,0,1,1,1,1,1,1]}function GetText(a){var b="";if(language==0){switch(a){case GetTextAscension:b="霊基再臨";break;case GetTextNoServantReg:b="サーヴァントの登録がありません";break;case GetTextDeleteAllServants:b="登録したサーヴァントを<br />全て削除します";break}}else{switch(a){case GetTextAscension:b="Ascension";break;case GetTextNoServantReg:b="No servant registration.";break;case GetTextDeleteAllServants:b="Delete all registered servants.";break}}return b}$(function(){$(document).ready(function(){for(var a=0;a<Servantdb.length;a++){numCalcServantId[a]=0;numCalcServantMaterial[a]={};numCalcServantMaterial[a]={100:[0,0,0,0,0,0,0],101:[0,0,0,0,0,0,0],102:[0,0,0,0,0,0,0],103:[0,0,0,0,0,0,0],104:[0,0,0,0,0,0,0],105:[0,0,0,0,0,0,0],106:[0,0,0,0,0,0,0],110:[0,0,0,0,0,0,0],111:[0,0,0,0,0,0,0],112:[0,0,0,0,0,0,0],113:[0,0,0,0,0,0,0],114:[0,0,0,0,0,0,0],115:[0,0,0,0,0,0,0],116:[0,0,0,0,0,0,0],200:[0,0,0,0,0,0,0],201:[0,0,0,0,0,0,0],202:[0,0,0,0,0,0,0],203:[0,0,0,0,0,0,0],204:[0,0,0,0,0,0,0],205:[0,0,0,0,0,0,0],206:[0,0,0,0,0,0,0],210:[0,0,0,0,0,0,0],211:[0,0,0,0,0,0,0],212:[0,0,0,0,0,0,0],213:[0,0,0,0,0,0,0],214:[0,0,0,0,0,0,0],215:[0,0,0,0,0,0,0],216:[0,0,0,0,0,0,0],220:[0,0,0,0,0,0,0],221:[0,0,0,0,0,0,0],222:[0,0,0,0,0,0,0],223:[0,0,0,0,0,0,0],224:[0,0,0,0,0,0,0],225:[0,0,0,0,0,0,0],226:[0,0,0,0,0,0,0],300:[0,0,0,0,0,0,0],301:[0,0,0,0,0,0,0],302:[0,0,0,0,0,0,0],303:[0,0,0,0,0,0,0],304:[0,0,0,0,0,0,0],305:[0,0,0,0,0,0,0],306:[0,0,0,0,0,0,0],307:[0,0,0,0,0,0,0],308:[0,0,0,0,0,0,0],309:[0,0,0,0,0,0,0],310:[0,0,0,0,0,0,0],311:[0,0,0,0,0,0,0],312:[0,0,0,0,0,0,0],400:[0,0,0,0,0,0,0],401:[0,0,0,0,0,0,0],402:[0,0,0,0,0,0,0],403:[0,0,0,0,0,0,0],404:[0,0,0,0,0,0,0],405:[0,0,0,0,0,0,0],406:[0,0,0,0,0,0,0],407:[0,0,0,0,0,0,0],408:[0,0,0,0,0,0,0],409:[0,0,0,0,0,0,0],410:[0,0,0,0,0,0,0],411:[0,0,0,0,0,0,0],412:[0,0,0,0,0,0,0],413:[0,0,0,0,0,0,0],414:[0,0,0,0,0,0,0],415:[0,0,0,0,0,0,0],416:[0,0,0,0,0,0,0],417:[0,0,0,0,0,0,0],418:[0,0,0,0,0,0,0],419:[0,0,0,0,0,0,0],420:[0,0,0,0,0,0,0],421:[0,0,0,0,0,0,0],500:[0,0,0,0,0,0,0],501:[0,0,0,0,0,0,0],502:[0,0,0,0,0,0,0],503:[0,0,0,0,0,0,0],504:[0,0,0,0,0,0,0],505:[0,0,0,0,0,0,0],506:[0,0,0,0,0,0,0],507:[0,0,0,0,0,0,0],508:[0,0,0,0,0,0,0],509:[0,0,0,0,0,0,0],510:[0,0,0,0,0,0,0],511:[0,0,0,0,0,0,0],512:[0,0,0,0,0,0,0],513:[0,0,0,0,0,0,0],514:[0,0,0,0,0,0,0],515:[0,0,0,0,0,0,0],516:[0,0,0,0,0,0,0],517:[0,0,0,0,0,0,0],600:[0,0,0,0,0,0,0],601:[0,0,0,0,0,0,0],602:[0,0,0,0,0,0,0],603:[0,0,0,0,0,0,0],604:[0,0,0,0,0,0,0],605:[0,0,0,0,0,0,0],606:[0,0,0,0,0,0,0],607:[0,0,0,0,0,0,0],608:[0,0,0,0,0,0,0],609:[0,0,0,0,0,0,0],610:[0,0,0,0,0,0,0],611:[0,0,0,0,0,0,0],612:[0,0,0,0,0,0,0],613:[0,0,0,0,0,0,0],614:[0,0,0,0,0,0,0],615:[0,0,0,0,0,0,0],616:[0,0,0,0,0,0,0],617:[0,0,0,0,0,0,0],618:[0,0,0,0,0,0,0],619:[0,0,0,0,0,0,0],620:[0,0,0,0,0,0,0],621:[0,0,0,0,0,0,0],622:[0,0,0,0,0,0,0],623:[0,0,0,0,0,0,0],624:[0,0,0,0,0,0,0],625:[0,0,0,0,0,0,0],626:[0,0,0,0,0,0,0],627:[0,0,0,0,0,0,0],628:[0,0,0,0,0,0,0],629:[0,0,0,0,0,0,0],630:[0,0,0,0,0,0,0],631:[0,0,0,0,0,0,0],632:[0,0,0,0,0,0,0],633:[0,0,0,0,0,0,0],634:[0,0,0,0,0,0,0],635:[0,0,0,0,0,0,0],636:[0,0,0,0,0,0,0],637:[0,0,0,0,0,0,0],800:[0,0,0,0,0,0,0],900:[0,0,0,0,0,0,0]};lockSetting[a]=initLockSettingRow();FormidNum[a]=[{100:0,101:0,102:0,103:0,104:0,105:0,106:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0,310:0,311:0,312:0,400:0,401:0,402:0,403:0,404:0,405:0,406:0,407:0,408:0,409:0,410:0,411:0,412:0,413:0,414:0,415:0,416:0,417:0,418:0,419:0,420:0,421:0,500:0,501:0,502:0,503:0,504:0,505:0,506:0,507:0,508:0,509:0,510:0,511:0,512:0,513:0,514:0,515:0,516:0,517:0,600:0,601:0,602:0,603:0,604:0,605:0,606:0,607:0,608:0,609:0,610:0,611:0,612:0,613:0,614:0,615:0,616:0,617:0,618:0,619:0,620:0,621:0,622:0,623:0,624:0,625:0,626:0,627:0,628:0,629:0,630:0,631:0,632:0,633:0,634:0,635:0,636:0,637:0,800:0,900:0}];myServantdb[a]=initmyServantdbRow();FormidUsed[a]=[{100:0,101:0,102:0,103:0,104:0,105:0,106:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0,310:0,311:0,312:0,400:0,401:0,402:0,403:0,404:0,405:0,406:0,407:0,408:0,409:0,410:0,411:0,412:0,413:0,414:0,415:0,416:0,417:0,418:0,419:0,420:0,421:0,500:0,501:0,502:0,503:0,504:0,505:0,506:0,507:0,508:0,509:0,510:0,511:0,512:0,513:0,514:0,515:0,516:0,517:0,600:0,601:0,602:0,603:0,604:0,605:0,606:0,607:0,608:0,609:0,610:0,611:0,612:0,613:0,614:0,615:0,616:0,617:0,618:0,619:0,620:0,621:0,622:0,623:0,624:0,625:0,626:0,627:0,628:0,629:0,630:0,631:0,632:0,633:0,634:0,635:0,636:0,637:0,800:0,900:0}];FormChaldeaNum[a]=[{100:0,101:0,102:0,103:0,104:0,105:0,106:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0,310:0,311:0,312:0,400:0,401:0,402:0,403:0,404:0,405:0,406:0,407:0,408:0,409:0,410:0,411:0,412:0,413:0,414:0,415:0,416:0,417:0,418:0,419:0,420:0,421:0,500:0,501:0,502:0,503:0,504:0,505:0,506:0,507:0,508:0,509:0,510:0,511:0,512:0,513:0,514:0,515:0,516:0,517:0,600:0,601:0,602:0,603:0,604:0,605:0,606:0,607:0,608:0,609:0,610:0,611:0,612:0,613:0,614:0,615:0,616:0,617:0,618:0,619:0,620:0,621:0,622:0,623:0,624:0,625:0,626:0,627:0,628:0,629:0,630:0,631:0,632:0,633:0,634:0,635:0,636:0,637:0,800:0,900:0}];FormChaldeaUsed[a]=[{100:0,101:0,102:0,103:0,104:0,105:0,106:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0,310:0,311:0,312:0,400:0,401:0,402:0,403:0,404:0,405:0,406:0,407:0,408:0,409:0,410:0,411:0,412:0,413:0,414:0,415:0,416:0,417:0,418:0,419:0,420:0,421:0,500:0,501:0,502:0,503:0,504:0,505:0,506:0,507:0,508:0,509:0,510:0,511:0,512:0,513:0,514:0,515:0,516:0,517:0,600:0,601:0,602:0,603:0,604:0,605:0,606:0,607:0,608:0,609:0,610:0,611:0,612:0,613:0,614:0,615:0,616:0,617:0,618:0,619:0,620:0,621:0,622:0,623:0,624:0,625:0,626:0,627:0,628:0,629:0,630:0,631:0,632:0,633:0,634:0,635:0,636:0,637:0,800:0,900:0}]}if(Cookies.get("fgosm_com")!=null||Cookies.get("fgosm_brnz")!=null||Cookies.get("fgosm_slv")!=null||Cookies.get("fgosm_gld")!=null){var b="";var f="";if(Cookies.get("fgosm_com")!=null){f=Cookies.get("fgosm_com");if(f.length<152){for(a=f.length;a<152;a++){f+="0"}}b+=f;Cookies.remove("fgosm_com")}else{for(a=0;a<189;a++){b+="0"}}if(Cookies.get("fgosm_brnz")!=null){f=Cookies.get("fgosm_brnz");if(f.length<38){for(a=f.length;a<38;a++){f+="0"}}b+=f;Cookies.remove("fgosm_brnz")}else{for(a=0;a<45;a++){b+="0"}}if(Cookies.get("fgosm_slv")!=null){f=Cookies.get("fgosm_slv");if(f.length<54){for(a=f.length;a<54;a++){f+="0"}}b+=f;Cookies.remove("fgosm_slv")}else{for(a=0;a<65;a++){b+="0"}}if(Cookies.get("fgosm_gld")!=null){f=Cookies.get("fgosm_gld");if(f.length<50){for(a=f.length;a<50;a++){f+="0"}}b+=f;Cookies.remove("fgosm_gld")}else{for(a=0;a<60;a++){b+="0"}}loadInventory(b)}else{if(typeof localStorage!=="undefined"){try{localStorage.setItem("dummy","1");if(localStorage.getItem("dummy")==="1"){localStorage.removeItem("dummy");loadLocalStorageInventory()}else{alert("LocalStorageの機能が使えないため、入力されたデータが保存できません。LocalStorageの機能が無効化されているかもしれません。\nブラウザの設定を見直してください。")}}catch(c){alert("LocalStorageの機能が使えないため、入力されたデータが保存できません。\nブラウザの設定等を見直してください。")}}else{alert("LocalStorageの機能が使えないため、入力されたデータが保存できません。LocalStorageの機能がご使用のブラウザで非対応の可能性があります。")}}if(Cookies.get("fgosm_smmn")!=null){var d="";d=Cookies.get("fgosm_smmn");loadServant(d);Cookies.remove("fgosm_smmn")}else{loadLocalStorageServant()}})});function materialCalc(l){var c=parseInt($("#sairin_from_"+l).val());var h=parseInt($("#sairin_to_"+l).val());var w=parseInt($("#skill1_from_"+l).val());var g=parseInt($("#skill1_to_"+l).val());var z=parseInt($("#skill2_from_"+l).val());var o=parseInt($("#skill2_to_"+l).val());var b=parseInt($("#skill3_from_"+l).val());var r=parseInt($("#skill3_to_"+l).val());var q=parseInt($(IDAppend1From+l).val());var a=parseInt($(IDAppend1To+l).val());var t=parseInt($(IDAppend2From+l).val());var d=parseInt($(IDAppend2To+l).val());var x=parseInt($(IDAppend3From+l).val());var n=parseInt($(IDAppend3To+l).val());for(var u=0;u<Servantdb.length;u++){if(Servantdb[u].id==numCalcServantId[l-1]){var p=Servantdb[u].kind;var v=Servantdb[u].value;var y=u;myServantdb[u][0]=Servantdb[u].id;myServantdb[u][1]=c;myServantdb[u][2]=h;myServantdb[u][3]=w;myServantdb[u][4]=g;myServantdb[u][5]=z;myServantdb[u][6]=o;myServantdb[u][7]=b;myServantdb[u][8]=r;myServantdb[u][myServantdbRowidxAppend1From]=q;myServantdb[u][myServantdbRowidxAppend1To]=a;myServantdb[u][myServantdbRowidxAppend2From]=t;myServantdb[u][myServantdbRowidxAppend2To]=d;myServantdb[u][myServantdbRowidxAppend3From]=x;myServantdb[u][myServantdbRowidxAppend3To]=n;if(c>0||h<4||w>1||g<10||z>1||o<10||b>1||r<10||q>1||a>1||t>1||d>1||x>1||n>1){myServantdb[u][9]=1}else{myServantdb[u][9]=0}}}saveLocalStorageServant();$("#bci0_"+l).text(c+" → "+h);$("#bci1_"+l).text(w+" → "+g);$("#bci2_"+l).text(z+" → "+o);$("#bci3_"+l).text(b+" → "+r);$("#bci4_"+l).text(q+" → "+a);$("#bci5_"+l).text(t+" → "+d);$("#bci6_"+l).text(x+" → "+n);var f=0;for(var u=0;u<2;u++){for(j=0;j<7;j++){f=100+u*10+j;FormidNum[l-1][f]=0;FormidUsed[l-1][f]=0;numCalcServantMaterial[l-1][f][0]=0;numCalcServantMaterial[l-1][f][1]=0;numCalcServantMaterial[l-1][f][2]=0;numCalcServantMaterial[l-1][f][3]=0;numCalcServantMaterial[l-1][f][TargetPatternAppend1]=0;numCalcServantMaterial[l-1][f][TargetPatternAppend2]=0;numCalcServantMaterial[l-1][f][TargetPatternAppend3]=0}}for(u=0;u<3;u++){for(j=0;j<7;j++){f=200+u*10+j;FormidNum[l-1][f]=0;FormidUsed[l-1][f]=0;numCalcServantMaterial[l-1][f][0]=0;numCalcServantMaterial[l-1][f][1]=0;numCalcServantMaterial[l-1][f][2]=0;numCalcServantMaterial[l-1][f][3]=0;numCalcServantMaterial[l-1][f][TargetPatternAppend1]=0;numCalcServantMaterial[l-1][f][TargetPatternAppend2]=0;numCalcServantMaterial[l-1][f][TargetPatternAppend3]=0}}for(u=0;u<BronzeMaterialCount;u++){f=300+u;FormidNum[l-1][f]=0;FormidUsed[l-1][f]=0;numCalcServantMaterial[l-1][f][0]=0;numCalcServantMaterial[l-1][f][1]=0;numCalcServantMaterial[l-1][f][2]=0;numCalcServantMaterial[l-1][f][3]=0;numCalcServantMaterial[l-1][f][TargetPatternAppend1]=0;numCalcServantMaterial[l-1][f][TargetPatternAppend2]=0;numCalcServantMaterial[l-1][f][TargetPatternAppend3]=0}for(u=0;u<SilverMaterialCount;u++){f=400+u;FormidNum[l-1][f]=0;FormidUsed[l-1][f]=0;numCalcServantMaterial[l-1][f][0]=0;numCalcServantMaterial[l-1][f][1]=0;numCalcServantMaterial[l-1][f][2]=0;numCalcServantMaterial[l-1][f][3]=0;numCalcServantMaterial[l-1][f][TargetPatternAppend1]=0;numCalcServantMaterial[l-1][f][TargetPatternAppend2]=0;numCalcServantMaterial[l-1][f][TargetPatternAppend3]=0}for(u=0;u<GoldMaterialCount;u++){f=500+u;FormidNum[l-1][f]=0;FormidUsed[l-1][f]=0;numCalcServantMaterial[l-1][f][0]=0;numCalcServantMaterial[l-1][f][1]=0;numCalcServantMaterial[l-1][f][2]=0;numCalcServantMaterial[l-1][f][3]=0;numCalcServantMaterial[l-1][f][TargetPatternAppend1]=0;numCalcServantMaterial[l-1][f][TargetPatternAppend2]=0;numCalcServantMaterial[l-1][f][TargetPatternAppend3]=0}for(u=0;u<EventMaterialCount;u++){f=600+u;FormidNum[l-1][f]=0;FormidUsed[l-1][f]=0;numCalcServantMaterial[l-1][f][0]=0;numCalcServantMaterial[l-1][f][1]=0;numCalcServantMaterial[l-1][f][2]=0;numCalcServantMaterial[l-1][f][3]=0;numCalcServantMaterial[l-1][f][TargetPatternAppend1]=0;numCalcServantMaterial[l-1][f][TargetPatternAppend2]=0;numCalcServantMaterial[l-1][f][TargetPatternAppend3]=0}FormidNum[l-1][800]=0;FormidUsed[l-1][800]=0;numCalcServantMaterial[l-1][800][0]=0;numCalcServantMaterial[l-1][800][1]=0;numCalcServantMaterial[l-1][800][2]=0;numCalcServantMaterial[l-1][800][3]=0;numCalcServantMaterial[l-1][800][TargetPatternAppend1]=0;numCalcServantMaterial[l-1][800][TargetPatternAppend2]=0;numCalcServantMaterial[l-1][800][TargetPatternAppend3]=0;FormidNum[l-1][900]=0;FormidUsed[l-1][900]=0;numCalcServantMaterial[l-1][900][0]=0;numCalcServantMaterial[l-1][900][1]=0;numCalcServantMaterial[l-1][900][2]=0;numCalcServantMaterial[l-1][900][3]=0;numCalcServantMaterial[l-1][900][TargetPatternAppend1]=0;numCalcServantMaterial[l-1][900][TargetPatternAppend2]=0;numCalcServantMaterial[l-1][900][TargetPatternAppend3]=0;var m=0;var e=0;for(var u=0;u<h;u++){switch(u){case 0:if(c>u){for(var s in Servantdb[y].AdAgain1){FormidUsed[l-1][s]+=Servantdb[y].AdAgain1[s]}if(p!=9){FormidUsed[l-1][900]+=sairinQP[v][u]}}else{for(var s in Servantdb[y].AdAgain1){FormidNum[l-1][s]+=Servantdb[y].AdAgain1[s];numCalcServantMaterial[l-1][s][0]+=Servantdb[y].AdAgain1[s]}if(p!=9){FormidNum[l-1][900]+=sairinQP[v][u];numCalcServantMaterial[l-1][900][0]+=sairinQP[v][u]}}break;case 1:if(c>u){for(var s in Servantdb[y].AdAgain2){FormidUsed[l-1][s]+=Servantdb[y].AdAgain2[s]}if(p!=9){FormidUsed[l-1][900]+=sairinQP[v][u]}}else{for(var s in Servantdb[y].AdAgain2){FormidNum[l-1][s]+=Servantdb[y].AdAgain2[s];numCalcServantMaterial[l-1][s][0]+=Servantdb[y].AdAgain2[s]}if(p!=9){FormidNum[l-1][900]+=sairinQP[v][u];numCalcServantMaterial[l-1][900][0]+=sairinQP[v][u]}}break;case 2:if(c>u){for(var s in Servantdb[y].AdAgain3){FormidUsed[l-1][s]+=Servantdb[y].AdAgain3[s]}if(p!=9){FormidUsed[l-1][900]+=sairinQP[v][u]}}else{for(var s in Servantdb[y].AdAgain3){FormidNum[l-1][s]+=Servantdb[y].AdAgain3[s];numCalcServantMaterial[l-1][s][0]+=Servantdb[y].AdAgain3[s]}if(p!=9){FormidNum[l-1][900]+=sairinQP[v][u];numCalcServantMaterial[l-1][900][0]+=sairinQP[v][u]}}break;case 3:if(c>u){for(var s in Servantdb[y].AdAgain4){FormidUsed[l-1][s]+=Servantdb[y].AdAgain4[s]}if(p!=9){FormidUsed[l-1][900]+=sairinQP[v][u]}}else{for(var s in Servantdb[y].AdAgain4){FormidNum[l-1][s]+=Servantdb[y].AdAgain4[s];numCalcServantMaterial[l-1][s][0]+=Servantdb[y].AdAgain4[s]}if(p!=9){FormidNum[l-1][900]+=sairinQP[v][u];numCalcServantMaterial[l-1][900][0]+=sairinQP[v][u]}}break;default:break}}for(var u=1;u<g;u++){switch(u){case 1:if(w>u){for(var s in Servantdb[y].skill1){FormidUsed[l-1][s]+=Servantdb[y].skill1[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill1){FormidNum[l-1][s]+=Servantdb[y].skill1[s];numCalcServantMaterial[l-1][s][1]+=Servantdb[y].skill1[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][1]+=skillQP[v][u-1]}break;case 2:if(w>u){for(var s in Servantdb[y].skill2){FormidUsed[l-1][s]+=Servantdb[y].skill2[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill2){FormidNum[l-1][s]+=Servantdb[y].skill2[s];numCalcServantMaterial[l-1][s][1]+=Servantdb[y].skill2[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][1]+=skillQP[v][u-1]}break;case 3:if(w>u){for(var s in Servantdb[y].skill3){FormidUsed[l-1][s]+=Servantdb[y].skill3[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill3){FormidNum[l-1][s]+=Servantdb[y].skill3[s];numCalcServantMaterial[l-1][s][1]+=Servantdb[y].skill3[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][1]+=skillQP[v][u-1]}break;case 4:if(w>u){for(var s in Servantdb[y].skill4){FormidUsed[l-1][s]+=Servantdb[y].skill4[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill4){FormidNum[l-1][s]+=Servantdb[y].skill4[s];numCalcServantMaterial[l-1][s][1]+=Servantdb[y].skill4[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][1]+=skillQP[v][u-1]}break;case 5:if(w>u){for(var s in Servantdb[y].skill5){FormidUsed[l-1][s]+=Servantdb[y].skill5[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill5){FormidNum[l-1][s]+=Servantdb[y].skill5[s];numCalcServantMaterial[l-1][s][1]+=Servantdb[y].skill5[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][1]+=skillQP[v][u-1]}break;case 6:if(w>u){for(var s in Servantdb[y].skill6){FormidUsed[l-1][s]+=Servantdb[y].skill6[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill6){FormidNum[l-1][s]+=Servantdb[y].skill6[s];numCalcServantMaterial[l-1][s][1]+=Servantdb[y].skill6[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][1]+=skillQP[v][u-1]}break;case 7:if(w>u){for(var s in Servantdb[y].skill7){FormidUsed[l-1][s]+=Servantdb[y].skill7[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill7){FormidNum[l-1][s]+=Servantdb[y].skill7[s];numCalcServantMaterial[l-1][s][1]+=Servantdb[y].skill7[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][1]+=skillQP[v][u-1]}break;case 8:if(w>u){for(var s in Servantdb[y].skill8){FormidUsed[l-1][s]+=Servantdb[y].skill8[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill8){FormidNum[l-1][s]+=Servantdb[y].skill8[s];numCalcServantMaterial[l-1][s][1]+=Servantdb[y].skill8[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][1]+=skillQP[v][u-1]}break;case 9:if(w>u){for(var s in Servantdb[y].skill9){FormidUsed[l-1][s]+=Servantdb[y].skill9[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill9){FormidNum[l-1][s]+=Servantdb[y].skill9[s];numCalcServantMaterial[l-1][s][1]+=Servantdb[y].skill9[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][1]+=skillQP[v][u-1]}break;default:break}}for(var u=1;u<o;u++){switch(u){case 1:if(z>u){for(var s in Servantdb[y].skill1){FormidUsed[l-1][s]+=Servantdb[y].skill1[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill1){FormidNum[l-1][s]+=Servantdb[y].skill1[s];numCalcServantMaterial[l-1][s][2]+=Servantdb[y].skill1[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][2]+=skillQP[v][u-1]}break;case 2:if(z>u){for(var s in Servantdb[y].skill2){FormidUsed[l-1][s]+=Servantdb[y].skill2[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill2){FormidNum[l-1][s]+=Servantdb[y].skill2[s];numCalcServantMaterial[l-1][s][2]+=Servantdb[y].skill2[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][2]+=skillQP[v][u-1]}break;case 3:if(z>u){for(var s in Servantdb[y].skill3){FormidUsed[l-1][s]+=Servantdb[y].skill3[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill3){FormidNum[l-1][s]+=Servantdb[y].skill3[s];numCalcServantMaterial[l-1][s][2]+=Servantdb[y].skill3[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][2]+=skillQP[v][u-1]}break;case 4:if(z>u){for(var s in Servantdb[y].skill4){FormidUsed[l-1][s]+=Servantdb[y].skill4[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill4){FormidNum[l-1][s]+=Servantdb[y].skill4[s];numCalcServantMaterial[l-1][s][2]+=Servantdb[y].skill4[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][2]+=skillQP[v][u-1]}break;case 5:if(z>u){for(var s in Servantdb[y].skill5){FormidUsed[l-1][s]+=Servantdb[y].skill5[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill5){FormidNum[l-1][s]+=Servantdb[y].skill5[s];numCalcServantMaterial[l-1][s][2]+=Servantdb[y].skill5[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][2]+=skillQP[v][u-1]}break;case 6:if(z>u){for(var s in Servantdb[y].skill6){FormidUsed[l-1][s]+=Servantdb[y].skill6[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill6){FormidNum[l-1][s]+=Servantdb[y].skill6[s];numCalcServantMaterial[l-1][s][2]+=Servantdb[y].skill6[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][2]+=skillQP[v][u-1]}break;case 7:if(z>u){for(var s in Servantdb[y].skill7){FormidUsed[l-1][s]+=Servantdb[y].skill7[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill7){FormidNum[l-1][s]+=Servantdb[y].skill7[s];numCalcServantMaterial[l-1][s][2]+=Servantdb[y].skill7[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][2]+=skillQP[v][u-1]}break;case 8:if(z>u){for(var s in Servantdb[y].skill8){FormidUsed[l-1][s]+=Servantdb[y].skill8[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill8){FormidNum[l-1][s]+=Servantdb[y].skill8[s];numCalcServantMaterial[l-1][s][2]+=Servantdb[y].skill8[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][2]+=skillQP[v][u-1]}break;case 9:if(z>u){for(var s in Servantdb[y].skill9){FormidUsed[l-1][s]+=Servantdb[y].skill9[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill9){FormidNum[l-1][s]+=Servantdb[y].skill9[s];numCalcServantMaterial[l-1][s][2]+=Servantdb[y].skill9[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][2]+=skillQP[v][u-1]}break;default:break}}for(var u=1;u<r;u++){switch(u){case 1:if(b>u){for(var s in Servantdb[y].skill1){FormidUsed[l-1][s]+=Servantdb[y].skill1[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill1){FormidNum[l-1][s]+=Servantdb[y].skill1[s];numCalcServantMaterial[l-1][s][3]+=Servantdb[y].skill1[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][3]+=skillQP[v][u-1]}break;case 2:if(b>u){for(var s in Servantdb[y].skill2){FormidUsed[l-1][s]+=Servantdb[y].skill2[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill2){FormidNum[l-1][s]+=Servantdb[y].skill2[s];numCalcServantMaterial[l-1][s][3]+=Servantdb[y].skill2[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][3]+=skillQP[v][u-1]}break;case 3:if(b>u){for(var s in Servantdb[y].skill3){FormidUsed[l-1][s]+=Servantdb[y].skill3[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill3){FormidNum[l-1][s]+=Servantdb[y].skill3[s];numCalcServantMaterial[l-1][s][3]+=Servantdb[y].skill3[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][3]+=skillQP[v][u-1]}break;case 4:if(b>u){for(var s in Servantdb[y].skill4){FormidUsed[l-1][s]+=Servantdb[y].skill4[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill4){FormidNum[l-1][s]+=Servantdb[y].skill4[s];numCalcServantMaterial[l-1][s][3]+=Servantdb[y].skill4[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][3]+=skillQP[v][u-1]}break;case 5:if(b>u){for(var s in Servantdb[y].skill5){FormidUsed[l-1][s]+=Servantdb[y].skill5[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill5){FormidNum[l-1][s]+=Servantdb[y].skill5[s];numCalcServantMaterial[l-1][s][3]+=Servantdb[y].skill5[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][3]+=skillQP[v][u-1]}break;case 6:if(b>u){for(var s in Servantdb[y].skill6){FormidUsed[l-1][s]+=Servantdb[y].skill6[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill6){FormidNum[l-1][s]+=Servantdb[y].skill6[s];numCalcServantMaterial[l-1][s][3]+=Servantdb[y].skill6[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][3]+=skillQP[v][u-1]}break;case 7:if(b>u){for(var s in Servantdb[y].skill7){FormidUsed[l-1][s]+=Servantdb[y].skill7[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill7){FormidNum[l-1][s]+=Servantdb[y].skill7[s];numCalcServantMaterial[l-1][s][3]+=Servantdb[y].skill7[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][3]+=skillQP[v][u-1]}break;case 8:if(b>u){for(var s in Servantdb[y].skill8){FormidUsed[l-1][s]+=Servantdb[y].skill8[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill8){FormidNum[l-1][s]+=Servantdb[y].skill8[s];numCalcServantMaterial[l-1][s][3]+=Servantdb[y].skill8[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][3]+=skillQP[v][u-1]}break;case 9:if(b>u){for(var s in Servantdb[y].skill9){FormidUsed[l-1][s]+=Servantdb[y].skill9[s]}FormidUsed[l-1][900]+=skillQP[v][u-1]}else{for(var s in Servantdb[y].skill9){FormidNum[l-1][s]+=Servantdb[y].skill9[s];numCalcServantMaterial[l-1][s][3]+=Servantdb[y].skill9[s]}FormidNum[l-1][900]+=skillQP[v][u-1];numCalcServantMaterial[l-1][900][3]+=skillQP[v][u-1]}break;default:break}}doRequireMaterialClacSkill(l,y,TargetPatternAppend1,q,a,false);doRequireMaterialClacSkill(l,y,TargetPatternAppend2,t,d,false);doRequireMaterialClacSkill(l,y,TargetPatternAppend3,x,n,false);materialTotal()}function doRequireMaterialClacSkill(d,a,l,c,h,m){var p=Servantdb[a].value;var o=null;var n=null;if(m){o=FormChaldeaUsed[a];n=FormChaldeaNum[a]}else{o=FormidUsed[d-1];n=FormidNum[d-1]}var b=null;for(var f=1;f<h;f++){b=null;var g=(l==TargetPatternAppend1||l==TargetPatternAppend2||l==TargetPatternAppend3);switch(f){case 1:b=GetMaterialSkillOrASkill(g,Servantdb[a].skill1,Servantdb[a].askill1);break;case 2:b=GetMaterialSkillOrASkill(g,Servantdb[a].skill2,Servantdb[a].askill2);break;case 3:b=GetMaterialSkillOrASkill(g,Servantdb[a].skill3,Servantdb[a].askill3);break;case 4:b=GetMaterialSkillOrASkill(g,Servantdb[a].skill4,Servantdb[a].askill4);break;case 5:b=GetMaterialSkillOrASkill(g,Servantdb[a].skill5,Servantdb[a].askill5);break;case 6:b=GetMaterialSkillOrASkill(g,Servantdb[a].skill6,Servantdb[a].askill6);break;case 7:b=GetMaterialSkillOrASkill(g,Servantdb[a].skill7,Servantdb[a].askill7);break;case 8:b=GetMaterialSkillOrASkill(g,Servantdb[a].skill8,Servantdb[a].askill8);break;case 9:b=GetMaterialSkillOrASkill(g,Servantdb[a].skill9,Servantdb[a].askill9);break;default:break}if(b==null){continue}if(c>f){for(var e in b){o[e]+=b[e]}o[900]+=skillQP[p][f-1]}else{for(var e in b){n[e]+=b[e];if(!m){numCalcServantMaterial[d-1][e][l]+=b[e]}}n[900]+=skillQP[p][f-1];if(!m){numCalcServantMaterial[d-1][900][l]+=skillQP[p][f-1]}}}}function GetMaterialSkillOrASkill(d,a,b){var c=null;if(d){c=b}else{c=a}return c}function chaldeaCalc(f){for(var c=0;c<2;c++){for(var b=0;b<7;b++){count=100+c*10+b;for(var a=0;a<Servantdb.length;a++){FormChaldeaNum[a][count]=0;FormChaldeaUsed[a][count]=0}}}for(c=0;c<3;c++){for(b=0;b<7;b++){count=200+c*10+b;for(var a=0;a<Servantdb.length;a++){FormChaldeaNum[a][count]=0;FormChaldeaUsed[a][count]=0}}}for(c=0;c<BronzeMaterialCount;c++){count=300+c;for(var a=0;a<Servantdb.length;a++){FormChaldeaNum[a][count]=0;FormChaldeaUsed[a][count]=0}}for(c=0;c<SilverMaterialCount;c++){count=400+c;for(var a=0;a<Servantdb.length;a++){FormChaldeaNum[a][count]=0;FormChaldeaUsed[a][count]=0}}for(c=0;c<GoldMaterialCount;c++){count=500+c;for(var a=0;a<Servantdb.length;a++){FormChaldeaNum[a][count]=0;FormChaldeaUsed[a][count]=0}}for(c=0;c<EventMaterialCount;c++){count=600+c;for(var a=0;a<Servantdb.length;a++){FormChaldeaNum[a][count]=0;FormChaldeaUsed[a][count]=0}}for(var a=0;a<Servantdb.length;a++){FormChaldeaNum[a][800]=0;FormChaldeaUsed[a][800]=0}for(var a=0;a<Servantdb.length;a++){FormChaldeaNum[a][900]=0;FormChaldeaUsed[a][900]=0}for(var b=0;b<myServantdb.length;b++){var e=Servantdb[b].kind;var d=Servantdb[b].value;if(f==99){if(myServantdb[b][9]==1&&myServantdb[b][10]==0){for(var c=0;c<myServantdb[b][2];c++){switch(c){case 0:if(myServantdb[b][1]>c){for(var a in Servantdb[b].AdAgain1){FormChaldeaUsed[b][a]+=Servantdb[b].AdAgain1[a]}if(e!=9){FormChaldeaUsed[b][900]+=sairinQP[d][c]}}else{for(var a in Servantdb[b].AdAgain1){FormChaldeaNum[b][a]+=Servantdb[b].AdAgain1[a]}if(e!=9){FormChaldeaNum[b][900]+=sairinQP[d][c]}}break;case 1:if(myServantdb[b][1]>c){for(var a in Servantdb[b].AdAgain2){FormChaldeaUsed[b][a]+=Servantdb[b].AdAgain2[a]}if(e!=9){FormChaldeaUsed[b][900]+=sairinQP[d][c]}}else{for(var a in Servantdb[b].AdAgain2){FormChaldeaNum[b][a]+=Servantdb[b].AdAgain2[a]}if(e!=9){FormChaldeaNum[b][900]+=sairinQP[d][c]}}break;case 2:if(myServantdb[b][1]>c){for(var a in Servantdb[b].AdAgain3){FormChaldeaUsed[b][a]+=Servantdb[b].AdAgain3[a]}if(e!=9){FormChaldeaUsed[b][900]+=sairinQP[d][c]}}else{for(var a in Servantdb[b].AdAgain3){FormChaldeaNum[b][a]+=Servantdb[b].AdAgain3[a]}if(e!=9){FormChaldeaNum[b][900]+=sairinQP[d][c]}}break;case 3:if(myServantdb[b][1]>c){for(var a in Servantdb[b].AdAgain4){FormChaldeaUsed[b][a]+=Servantdb[b].AdAgain4[a]}if(e!=9){FormChaldeaUsed[b][900]+=sairinQP[d][c]}}else{for(var a in Servantdb[b].AdAgain4){FormChaldeaNum[b][a]+=Servantdb[b].AdAgain4[a]}if(e!=9){FormChaldeaNum[b][900]+=sairinQP[d][c]}}break;default:break}}for(var c=1;c<myServantdb[b][4];c++){switch(c){case 1:if(myServantdb[b][3]>c){for(var a in Servantdb[b].skill1){FormChaldeaUsed[b][a]+=Servantdb[b].skill1[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill1){FormChaldeaNum[b][a]+=Servantdb[b].skill1[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 2:if(myServantdb[b][3]>c){for(var a in Servantdb[b].skill2){FormChaldeaUsed[b][a]+=Servantdb[b].skill2[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill2){FormChaldeaNum[b][a]+=Servantdb[b].skill2[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 3:if(myServantdb[b][3]>c){for(var a in Servantdb[b].skill3){FormChaldeaUsed[b][a]+=Servantdb[b].skill3[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill3){FormChaldeaNum[b][a]+=Servantdb[b].skill3[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 4:if(myServantdb[b][3]>c){for(var a in Servantdb[b].skill4){FormChaldeaUsed[b][a]+=Servantdb[b].skill4[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill4){FormChaldeaNum[b][a]+=Servantdb[b].skill4[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 5:if(myServantdb[b][3]>c){for(var a in Servantdb[b].skill5){FormChaldeaUsed[b][a]+=Servantdb[b].skill5[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill5){FormChaldeaNum[b][a]+=Servantdb[b].skill5[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 6:if(myServantdb[b][3]>c){for(var a in Servantdb[b].skill6){FormChaldeaUsed[b][a]+=Servantdb[b].skill6[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill6){FormChaldeaNum[b][a]+=Servantdb[b].skill6[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 7:if(myServantdb[b][3]>c){for(var a in Servantdb[b].skill7){FormChaldeaUsed[b][a]+=Servantdb[b].skill7[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill7){FormChaldeaNum[b][a]+=Servantdb[b].skill7[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 8:if(myServantdb[b][3]>c){for(var a in Servantdb[b].skill8){FormChaldeaUsed[b][a]+=Servantdb[b].skill8[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill8){FormChaldeaNum[b][a]+=Servantdb[b].skill8[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 9:if(myServantdb[b][3]>c){for(var a in Servantdb[b].skill9){FormChaldeaUsed[b][a]+=Servantdb[b].skill9[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill9){FormChaldeaNum[b][a]+=Servantdb[b].skill9[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;default:break}}for(var c=1;c<myServantdb[b][6];c++){switch(c){case 1:if(myServantdb[b][5]>c){for(var a in Servantdb[b].skill1){FormChaldeaUsed[b][a]+=Servantdb[b].skill1[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill1){FormChaldeaNum[b][a]+=Servantdb[b].skill1[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 2:if(myServantdb[b][5]>c){for(var a in Servantdb[b].skill2){FormChaldeaUsed[b][a]+=Servantdb[b].skill2[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill2){FormChaldeaNum[b][a]+=Servantdb[b].skill2[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 3:if(myServantdb[b][5]>c){for(var a in Servantdb[b].skill3){FormChaldeaUsed[b][a]+=Servantdb[b].skill3[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill3){FormChaldeaNum[b][a]+=Servantdb[b].skill3[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 4:if(myServantdb[b][5]>c){for(var a in Servantdb[b].skill4){FormChaldeaUsed[b][a]+=Servantdb[b].skill4[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill4){FormChaldeaNum[b][a]+=Servantdb[b].skill4[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 5:if(myServantdb[b][5]>c){for(var a in Servantdb[b].skill5){FormChaldeaUsed[b][a]+=Servantdb[b].skill5[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill5){FormChaldeaNum[b][a]+=Servantdb[b].skill5[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 6:if(myServantdb[b][5]>c){for(var a in Servantdb[b].skill6){FormChaldeaUsed[b][a]+=Servantdb[b].skill6[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill6){FormChaldeaNum[b][a]+=Servantdb[b].skill6[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 7:if(myServantdb[b][5]>c){for(var a in Servantdb[b].skill7){FormChaldeaUsed[b][a]+=Servantdb[b].skill7[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill7){FormChaldeaNum[b][a]+=Servantdb[b].skill7[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 8:if(myServantdb[b][5]>c){for(var a in Servantdb[b].skill8){FormChaldeaUsed[b][a]+=Servantdb[b].skill8[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill8){FormChaldeaNum[b][a]+=Servantdb[b].skill8[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 9:if(myServantdb[b][5]>c){for(var a in Servantdb[b].skill9){FormChaldeaUsed[b][a]+=Servantdb[b].skill9[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill9){FormChaldeaNum[b][a]+=Servantdb[b].skill9[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;default:break}}for(var c=1;c<myServantdb[b][8];c++){switch(c){case 1:if(myServantdb[b][7]>c){for(var a in Servantdb[b].skill1){FormChaldeaUsed[b][a]+=Servantdb[b].skill1[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill1){FormChaldeaNum[b][a]+=Servantdb[b].skill1[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 2:if(myServantdb[b][7]>c){for(var a in Servantdb[b].skill2){FormChaldeaUsed[b][a]+=Servantdb[b].skill2[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill2){FormChaldeaNum[b][a]+=Servantdb[b].skill2[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 3:if(myServantdb[b][7]>c){for(var a in Servantdb[b].skill3){FormChaldeaUsed[b][a]+=Servantdb[b].skill3[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill3){FormChaldeaNum[b][a]+=Servantdb[b].skill3[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 4:if(myServantdb[b][7]>c){for(var a in Servantdb[b].skill4){FormChaldeaUsed[b][a]+=Servantdb[b].skill4[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill4){FormChaldeaNum[b][a]+=Servantdb[b].skill4[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 5:if(myServantdb[b][7]>c){for(var a in Servantdb[b].skill5){FormChaldeaUsed[b][a]+=Servantdb[b].skill5[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill5){FormChaldeaNum[b][a]+=Servantdb[b].skill5[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 6:if(myServantdb[b][7]>c){for(var a in Servantdb[b].skill6){FormChaldeaUsed[b][a]+=Servantdb[b].skill6[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill6){FormChaldeaNum[b][a]+=Servantdb[b].skill6[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 7:if(myServantdb[b][7]>c){for(var a in Servantdb[b].skill7){FormChaldeaUsed[b][a]+=Servantdb[b].skill7[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill7){FormChaldeaNum[b][a]+=Servantdb[b].skill7[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 8:if(myServantdb[b][7]>c){for(var a in Servantdb[b].skill8){FormChaldeaUsed[b][a]+=Servantdb[b].skill8[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill8){FormChaldeaNum[b][a]+=Servantdb[b].skill8[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 9:if(myServantdb[b][7]>c){for(var a in Servantdb[b].skill9){FormChaldeaUsed[b][a]+=Servantdb[b].skill9[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill9){FormChaldeaNum[b][a]+=Servantdb[b].skill9[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;default:break}}doRequireMaterialClacSkill(-1,b,TargetPatternAppend1,myServantdb[b][myServantdbRowidxAppend1From],myServantdb[b][myServantdbRowidxAppend1To],true);doRequireMaterialClacSkill(-1,b,TargetPatternAppend2,myServantdb[b][myServantdbRowidxAppend2From],myServantdb[b][myServantdbRowidxAppend2To],true);doRequireMaterialClacSkill(-1,b,TargetPatternAppend3,myServantdb[b][myServantdbRowidxAppend3From],myServantdb[b][myServantdbRowidxAppend3To],true)}}else{if(myServantdb[b][9]==1&&myServantdb[b][10]==0&&Servantdb[b].kind==f){for(var c=0;c<myServantdb[b][2];c++){switch(c){case 0:if(myServantdb[b][1]>c){for(var a in Servantdb[b].AdAgain1){FormChaldeaUsed[b][a]+=Servantdb[b].AdAgain1[a]}if(e!=9){FormChaldeaUsed[b][900]+=sairinQP[d][c]}}else{for(var a in Servantdb[b].AdAgain1){FormChaldeaNum[b][a]+=Servantdb[b].AdAgain1[a]}if(e!=9){FormChaldeaNum[b][900]+=sairinQP[d][c]}}break;case 1:if(myServantdb[b][1]>c){for(var a in Servantdb[b].AdAgain2){FormChaldeaUsed[b][a]+=Servantdb[b].AdAgain2[a]}if(e!=9){FormChaldeaUsed[b][900]+=sairinQP[d][c]}}else{for(var a in Servantdb[b].AdAgain2){FormChaldeaNum[b][a]+=Servantdb[b].AdAgain2[a]}if(e!=9){FormChaldeaNum[b][900]+=sairinQP[d][c]}}break;case 2:if(myServantdb[b][1]>c){for(var a in Servantdb[b].AdAgain3){FormChaldeaUsed[b][a]+=Servantdb[b].AdAgain3[a]}if(e!=9){FormChaldeaUsed[b][900]+=sairinQP[d][c]}}else{for(var a in Servantdb[b].AdAgain3){FormChaldeaNum[b][a]+=Servantdb[b].AdAgain3[a]}if(e!=9){FormChaldeaNum[b][900]+=sairinQP[d][c]}}break;case 3:if(myServantdb[b][1]>c){for(var a in Servantdb[b].AdAgain4){FormChaldeaUsed[b][a]+=Servantdb[b].AdAgain4[a]}if(e!=9){FormChaldeaUsed[b][900]+=sairinQP[d][c]}}else{for(var a in Servantdb[b].AdAgain4){FormChaldeaNum[b][a]+=Servantdb[b].AdAgain4[a]}if(e!=9){FormChaldeaNum[b][900]+=sairinQP[d][c]}}break;default:break}}for(var c=1;c<myServantdb[b][4];c++){switch(c){case 1:if(myServantdb[b][3]>c){for(var a in Servantdb[b].skill1){FormChaldeaUsed[b][a]+=Servantdb[b].skill1[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill1){FormChaldeaNum[b][a]+=Servantdb[b].skill1[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 2:if(myServantdb[b][3]>c){for(var a in Servantdb[b].skill2){FormChaldeaUsed[b][a]+=Servantdb[b].skill2[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill2){FormChaldeaNum[b][a]+=Servantdb[b].skill2[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 3:if(myServantdb[b][3]>c){for(var a in Servantdb[b].skill3){FormChaldeaUsed[b][a]+=Servantdb[b].skill3[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill3){FormChaldeaNum[b][a]+=Servantdb[b].skill3[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 4:if(myServantdb[b][3]>c){for(var a in Servantdb[b].skill4){FormChaldeaUsed[b][a]+=Servantdb[b].skill4[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill4){FormChaldeaNum[b][a]+=Servantdb[b].skill4[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 5:if(myServantdb[b][3]>c){for(var a in Servantdb[b].skill5){FormChaldeaUsed[b][a]+=Servantdb[b].skill5[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill5){FormChaldeaNum[b][a]+=Servantdb[b].skill5[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 6:if(myServantdb[b][3]>c){for(var a in Servantdb[b].skill6){FormChaldeaUsed[b][a]+=Servantdb[b].skill6[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill6){FormChaldeaNum[b][a]+=Servantdb[b].skill6[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 7:if(myServantdb[b][3]>c){for(var a in Servantdb[b].skill7){FormChaldeaUsed[b][a]+=Servantdb[b].skill7[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill7){FormChaldeaNum[b][a]+=Servantdb[b].skill7[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 8:if(myServantdb[b][3]>c){for(var a in Servantdb[b].skill8){FormChaldeaUsed[b][a]+=Servantdb[b].skill8[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill8){FormChaldeaNum[b][a]+=Servantdb[b].skill8[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 9:if(myServantdb[b][3]>c){for(var a in Servantdb[b].skill9){FormChaldeaUsed[b][a]+=Servantdb[b].skill9[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill9){FormChaldeaNum[b][a]+=Servantdb[b].skill9[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;default:break}}for(var c=1;c<myServantdb[b][6];c++){switch(c){case 1:if(myServantdb[b][5]>c){for(var a in Servantdb[b].skill1){FormChaldeaUsed[b][a]+=Servantdb[b].skill1[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill1){FormChaldeaNum[b][a]+=Servantdb[b].skill1[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 2:if(myServantdb[b][5]>c){for(var a in Servantdb[b].skill2){FormChaldeaUsed[b][a]+=Servantdb[b].skill2[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill2){FormChaldeaNum[b][a]+=Servantdb[b].skill2[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 3:if(myServantdb[b][5]>c){for(var a in Servantdb[b].skill3){FormChaldeaUsed[b][a]+=Servantdb[b].skill3[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill3){FormChaldeaNum[b][a]+=Servantdb[b].skill3[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 4:if(myServantdb[b][5]>c){for(var a in Servantdb[b].skill4){FormChaldeaUsed[b][a]+=Servantdb[b].skill4[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill4){FormChaldeaNum[b][a]+=Servantdb[b].skill4[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 5:if(myServantdb[b][5]>c){for(var a in Servantdb[b].skill5){FormChaldeaUsed[b][a]+=Servantdb[b].skill5[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill5){FormChaldeaNum[b][a]+=Servantdb[b].skill5[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 6:if(myServantdb[b][5]>c){for(var a in Servantdb[b].skill6){FormChaldeaUsed[b][a]+=Servantdb[b].skill6[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill6){FormChaldeaNum[b][a]+=Servantdb[b].skill6[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 7:if(myServantdb[b][5]>c){for(var a in Servantdb[b].skill7){FormChaldeaUsed[b][a]+=Servantdb[b].skill7[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill7){FormChaldeaNum[b][a]+=Servantdb[b].skill7[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 8:if(myServantdb[b][5]>c){for(var a in Servantdb[b].skill8){FormChaldeaUsed[b][a]+=Servantdb[b].skill8[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill8){FormChaldeaNum[b][a]+=Servantdb[b].skill8[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 9:if(myServantdb[b][5]>c){for(var a in Servantdb[b].skill9){FormChaldeaUsed[b][a]+=Servantdb[b].skill9[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill9){FormChaldeaNum[b][a]+=Servantdb[b].skill9[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;default:break}}for(var c=1;c<myServantdb[b][8];c++){switch(c){case 1:if(myServantdb[b][7]>c){for(var a in Servantdb[b].skill1){FormChaldeaUsed[b][a]+=Servantdb[b].skill1[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill1){FormChaldeaNum[b][a]+=Servantdb[b].skill1[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 2:if(myServantdb[b][7]>c){for(var a in Servantdb[b].skill2){FormChaldeaUsed[b][a]+=Servantdb[b].skill2[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill2){FormChaldeaNum[b][a]+=Servantdb[b].skill2[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 3:if(myServantdb[b][7]>c){for(var a in Servantdb[b].skill3){FormChaldeaUsed[b][a]+=Servantdb[b].skill3[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill3){FormChaldeaNum[b][a]+=Servantdb[b].skill3[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 4:if(myServantdb[b][7]>c){for(var a in Servantdb[b].skill4){FormChaldeaUsed[b][a]+=Servantdb[b].skill4[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill4){FormChaldeaNum[b][a]+=Servantdb[b].skill4[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 5:if(myServantdb[b][7]>c){for(var a in Servantdb[b].skill5){FormChaldeaUsed[b][a]+=Servantdb[b].skill5[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill5){FormChaldeaNum[b][a]+=Servantdb[b].skill5[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 6:if(myServantdb[b][7]>c){for(var a in Servantdb[b].skill6){FormChaldeaUsed[b][a]+=Servantdb[b].skill6[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill6){FormChaldeaNum[b][a]+=Servantdb[b].skill6[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 7:if(myServantdb[b][7]>c){for(var a in Servantdb[b].skill7){FormChaldeaUsed[b][a]+=Servantdb[b].skill7[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill7){FormChaldeaNum[b][a]+=Servantdb[b].skill7[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 8:if(myServantdb[b][7]>c){for(var a in Servantdb[b].skill8){FormChaldeaUsed[b][a]+=Servantdb[b].skill8[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill8){FormChaldeaNum[b][a]+=Servantdb[b].skill8[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;case 9:if(myServantdb[b][7]>c){for(var a in Servantdb[b].skill9){FormChaldeaUsed[b][a]+=Servantdb[b].skill9[a]}FormChaldeaUsed[b][900]+=skillQP[d][c-1]}else{for(var a in Servantdb[b].skill9){FormChaldeaNum[b][a]+=Servantdb[b].skill9[a]}FormChaldeaNum[b][900]+=skillQP[d][c-1]}break;default:break}}doRequireMaterialClacSkill(-1,b,TargetPatternAppend1,myServantdb[b][myServantdbRowidxAppend1From],myServantdb[b][myServantdbRowidxAppend1To],true);doRequireMaterialClacSkill(-1,b,TargetPatternAppend2,myServantdb[b][myServantdbRowidxAppend2From],myServantdb[b][myServantdbRowidxAppend2To],true);doRequireMaterialClacSkill(-1,b,TargetPatternAppend3,myServantdb[b][myServantdbRowidxAppend3From],myServantdb[b][myServantdbRowidxAppend3To],true)}}}chaldeaTotal()}function chaldeaTotal(){var e=0;for(var d=0;d<2;d++){for(var c=0;c<7;c++){e=100+d*10+c;mTotalChaldea[e]=0;mUsedChaldea[e]=0}}for(d=0;d<3;d++){for(c=0;c<7;c++){e=200+d*10+c;mTotalChaldea[e]=0;mUsedChaldea[e]=0}}for(d=0;d<BronzeMaterialCount;d++){e=300+d;mTotalChaldea[e]=0;mUsedChaldea[e]=0}for(d=0;d<SilverMaterialCount;d++){e=400+d;mTotalChaldea[e]=0;mUsedChaldea[e]=0}for(d=0;d<GoldMaterialCount;d++){e=500+d;mTotalChaldea[e]=0;mUsedChaldea[e]=0}for(d=0;d<EventMaterialCount;d++){e=600+d;mTotalChaldea[e]=0;mUsedChaldea[e]=0}mTotalChaldea[800]=0;mUsedChaldea[800]=0;mTotalChaldea[900]=0;mUsedChaldea[900]=0;for(d=0;d<Servantdb.length;d++){for(var a in FormChaldeaNum[d]){mTotalChaldea[a]+=FormChaldeaNum[d][a]}for(var a in FormChaldeaNum[d]){mUsedChaldea[a]+=FormChaldeaUsed[d][a]}}if(useInv==0){$(".num-chaldea").css("color","rgb(255,255,255)");$(".chaldea-qp").css("color","rgb(25,25,25)")}else{if(useInv==1){$(".num-chaldea").css("color","rgb(255,117,117)");$(".chaldea-qp").css("color","rgb(225,25,25)")}else{$(".num-chaldea").css("color","rgb(187,222,251)");$(".chaldea-qp").css("color","rgb(64,146,220)")}}var b=0;e=0;if(useInv==0){for(d=0;d<2;d++){for(c=0;c<7;c++){e=100+d*10+c;$("#chaldea_"+e).text(mTotalChaldea[e]);if(mTotalChaldea[e]>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(mTotalChaldea[e]==0){$("#chaldea_box_"+e).fadeOut("fast")}}b+=mTotalChaldea[e]}}for(d=0;d<3;d++){for(c=0;c<7;c++){e=200+d*10+c;$("#chaldea_"+e).text(mTotalChaldea[e]);if(mTotalChaldea[e]>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(mTotalChaldea[e]==0){$("#chaldea_box_"+e).fadeOut("fast")}}b+=mTotalChaldea[e]}}for(d=0;d<BronzeMaterialCount;d++){e=300+d;$("#chaldea_"+e).text(mTotalChaldea[e]);if(mTotalChaldea[e]>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(mTotalChaldea[e]==0){$("#chaldea_box_"+e).fadeOut("fast")}}b+=mTotalChaldea[e]}for(d=0;d<SilverMaterialCount;d++){e=400+d;$("#chaldea_"+e).text(mTotalChaldea[e]);if(mTotalChaldea[e]>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(mTotalChaldea[e]==0){$("#chaldea_box_"+e).fadeOut("fast")}}b+=mTotalChaldea[e]}for(d=0;d<GoldMaterialCount;d++){e=500+d;$("#chaldea_"+e).text(mTotalChaldea[e]);if(mTotalChaldea[e]>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(mTotalChaldea[e]==0){$("#chaldea_box_"+e).fadeOut("fast")}}b+=mTotalChaldea[e]}for(d=0;d<EventMaterialCount;d++){e=600+d;$("#chaldea_"+e).text(mTotalChaldea[e]);if(mTotalChaldea[e]>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(mTotalChaldea[e]==0){$("#chaldea_box_"+e).fadeOut("fast")}}b+=mTotalChaldea[e]}e=800;$("#chaldea_"+e).text(mTotalChaldea[e]);if(mTotalChaldea[e]>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(mTotalChaldea[e]==0){$("#chaldea_box_"+e).fadeOut("fast")}}b+=mTotalChaldea[e];e=900;document.getElementById("chaldea_"+e).rows[0].cells[1].innerText=separate(mTotalChaldea[e]);if(mTotalChaldea[e]>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(mTotalChaldea[e]==0){$("#chaldea_box_"+e).fadeOut("fast")}}b+=mTotalChaldea[e]}else{if(useInv==1){for(d=0;d<2;d++){for(c=0;c<7;c++){tempNum=0;e=100+d*10+c;tempNum=mTotalChaldea[e]-inventoryNum[e];if(tempNum<0){tempNum=0}if(tempNum>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(tempNum==0){$("#chaldea_box_"+e).fadeOut("fast")}}$("#chaldea_"+e).text(tempNum);b+=mTotalChaldea[e]}}for(d=0;d<3;d++){for(c=0;c<7;c++){tempNum=0;e=200+d*10+c;tempNum=mTotalChaldea[e]-inventoryNum[e];if(tempNum<0){tempNum=0}if(tempNum>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(tempNum==0){$("#chaldea_box_"+e).fadeOut("fast")}}$("#chaldea_"+e).text(tempNum);b+=mTotalChaldea[e]}}for(d=0;d<BronzeMaterialCount;d++){tempNum=0;e=300+d;tempNum=mTotalChaldea[e]-inventoryNum[e];if(tempNum<0){tempNum=0}if(tempNum>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(tempNum==0){$("#chaldea_box_"+e).fadeOut("fast")}}$("#chaldea_"+e).text(tempNum);b+=mTotalChaldea[e]}for(d=0;d<SilverMaterialCount;d++){tempNum=0;e=400+d;tempNum=mTotalChaldea[e]-inventoryNum[e];if(tempNum<0){tempNum=0}if(tempNum>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(tempNum==0){$("#chaldea_box_"+e).fadeOut("fast")}}$("#chaldea_"+e).text(tempNum);b+=mTotalChaldea[e]}for(d=0;d<GoldMaterialCount;d++){tempNum=0;e=500+d;tempNum=mTotalChaldea[e]-inventoryNum[e];if(tempNum<0){tempNum=0}if(tempNum>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(tempNum==0){$("#chaldea_box_"+e).fadeOut("fast")}}$("#chaldea_"+e).text(tempNum);b+=mTotalChaldea[e]}for(d=0;d<EventMaterialCount;d++){e=600+d;if(mTotalChaldea[e]>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(mTotalChaldea[e]==0){$("#chaldea_box_"+e).fadeOut("fast")}}$("#chaldea_"+e).text(mTotalChaldea[e]);b+=mTotalChaldea[e]}tempNum=0;e=800;tempNum=mTotalChaldea[e]-inventoryNum[e];if(tempNum<0){tempNum=0}if(tempNum>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(tempNum==0){$("#chaldea_box_"+e).fadeOut("fast")}}$("#chaldea_"+e).text(tempNum);b+=mTotalChaldea[e];tempNum=0;e=900;tempNum=mTotalChaldea[e]-inventoryNum[e];if(tempNum<0){tempNum=0}if(tempNum>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(tempNum==0){$("#chaldea_box_"+e).fadeOut("fast")}}document.getElementById("chaldea_"+e).rows[0].cells[1].innerText=separate(tempNum);b+=mTotalChaldea[e]}else{for(d=0;d<2;d++){for(c=0;c<7;c++){e=100+d*10+c;if(mUsedChaldea[e]>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(mUsedChaldea[e]==0){$("#chaldea_box_"+e).fadeOut("fast")}}$("#chaldea_"+e).text(mUsedChaldea[e]);b+=mUsedChaldea[e]}}for(d=0;d<3;d++){for(c=0;c<7;c++){e=200+d*10+c;if(mUsedChaldea[e]>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(mUsedChaldea[e]==0){$("#chaldea_box_"+e).fadeOut("fast")}}$("#chaldea_"+e).text(mUsedChaldea[e]);b+=mUsedChaldea[e]}}for(d=0;d<BronzeMaterialCount;d++){e=300+d;if(mUsedChaldea[e]>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(mUsedChaldea[e]==0){$("#chaldea_box_"+e).fadeOut("fast")}}$("#chaldea_"+e).text(mUsedChaldea[e]);b+=mUsedChaldea[e]}for(d=0;d<SilverMaterialCount;d++){e=400+d;if(mUsedChaldea[e]>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(mUsedChaldea[e]==0){$("#chaldea_box_"+e).fadeOut("fast")}}$("#chaldea_"+e).text(mUsedChaldea[e]);b+=mUsedChaldea[e]}for(d=0;d<GoldMaterialCount;d++){e=500+d;if(mUsedChaldea[e]>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(mUsedChaldea[e]==0){$("#chaldea_box_"+e).fadeOut("fast")}}$("#chaldea_"+e).text(mUsedChaldea[e]);b+=mUsedChaldea[e]}for(d=0;d<EventMaterialCount;d++){e=600+d;if(mUsedChaldea[e]>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(mUsedChaldea[e]==0){$("#chaldea_box_"+e).fadeOut("fast")}}$("#chaldea_"+e).text(mUsedChaldea[e]);b+=mUsedChaldea[e]}e=800;if(mUsedChaldea[e]>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(mUsedChaldea[e]==0){$("#chaldea_box_"+e).fadeOut("fast")}}$("#chaldea_"+e).text(mUsedChaldea[e]);b+=mUsedChaldea[e];e=900;document.getElementById("chaldea_"+e).rows[0].cells[1].innerText=separate(mUsedChaldea[e]);if(mUsedChaldea[e]>0){$("#chaldea_box_"+e).fadeIn("fast")}else{if(mUsedChaldea[e]==0){$("#chaldea_box_"+e).fadeOut("fast")}}b+=mUsedChaldea[e]}}}function materialTotal(){var b=document.getElementById("qpTM");var c=0;var e=0;for(var d=0;d<2;d++){for(j=0;j<7;j++){e=100+d*10+j;mTotalNum[e]=0;mTotalUsed[e]=0}}for(d=0;d<3;d++){for(j=0;j<7;j++){e=200+d*10+j;mTotalNum[e]=0;mTotalUsed[e]=0}}for(d=0;d<BronzeMaterialCount;d++){e=300+d;mTotalNum[e]=0;mTotalUsed[e]=0}for(d=0;d<SilverMaterialCount;d++){e=400+d;mTotalNum[e]=0;mTotalUsed[e]=0}for(d=0;d<GoldMaterialCount;d++){e=500+d;mTotalNum[e]=0;mTotalUsed[e]=0}for(d=0;d<EventMaterialCount;d++){e=600+d;mTotalNum[e]=0;mTotalUsed[e]=0}mTotalNum[800]=0;mTotalUsed[800]=0;mTotalNum[900]=0;mTotalUsed[900]=0;for(d=0;d<Servantdb.length;d++){for(var a in FormidNum[d]){mTotalNum[a]+=FormidNum[d][a]}for(var a in FormidUsed[d]){mTotalUsed[a]+=FormidUsed[d][a]}}if(useInv==0){$(".num-icon").css("color","rgb(255,255,255)");$(".num-qp").css("color","rgb(25,25,25)")}else{if(useInv==1){$(".num-icon").css("color","rgb(255,117,117)");$(".num-qp").css("color","rgb(225,25,25)")}else{$(".num-icon").css("color","rgb(187,222,251)");$(".num-qp").css("color","rgb(64,146,220)")}}var e=0;if(useInv==0){for(d=0;d<2;d++){for(j=0;j<7;j++){e=100+d*10+j;document.getElementById(e).innerText=mTotalNum[e];document.getElementById("chaldea_"+e).innerText=mTotalChaldea[e];if(mTotalNum[e]>0){$("#box_"+e).fadeIn("fast")}else{if(mTotalNum[e]==0){$("#box_"+e).fadeOut("fast")}}c+=mTotalNum[e]}}for(d=0;d<3;d++){for(j=0;j<7;j++){e=200+d*10+j;document.getElementById(e).innerText=mTotalNum[e];document.getElementById("chaldea_"+e).innerText=mTotalChaldea[e];if(mTotalNum[e]>0){$("#box_"+e).fadeIn("fast")}else{if(mTotalNum[e]==0){$("#box_"+e).fadeOut("fast")}}c+=mTotalNum[e]}}for(d=0;d<BronzeMaterialCount;d++){e=300+d;document.getElementById(e).innerText=mTotalNum[e];document.getElementById("chaldea_"+e).innerText=mTotalChaldea[e];if(mTotalNum[e]>0){$("#box_"+e).fadeIn("fast")}else{if(mTotalNum[e]==0){$("#box_"+e).fadeOut("fast")}}c+=mTotalNum[e]}for(d=0;d<SilverMaterialCount;d++){e=400+d;document.getElementById(e).innerText=mTotalNum[e];document.getElementById("chaldea_"+e).innerText=mTotalChaldea[e];if(mTotalNum[e]>0){$("#box_"+e).fadeIn("fast")}else{if(mTotalNum[e]==0){$("#box_"+e).fadeOut("fast")}}c+=mTotalNum[e]}for(d=0;d<GoldMaterialCount;d++){e=500+d;document.getElementById(e).innerText=mTotalNum[e];document.getElementById("chaldea_"+e).innerText=mTotalChaldea[e];if(mTotalNum[e]>0){$("#box_"+e).fadeIn("fast")}else{if(mTotalNum[e]==0){$("#box_"+e).fadeOut("fast")}}c+=mTotalNum[e]}for(d=0;d<EventMaterialCount;d++){e=600+d;document.getElementById(e).innerText=mTotalNum[e];document.getElementById("chaldea_"+e).innerText=mTotalChaldea[e];if(mTotalNum[e]>0){$("#box_"+e).fadeIn("fast")}else{if(mTotalNum[e]==0){$("#box_"+e).fadeOut("fast")}}c+=mTotalNum[e]}e=800;document.getElementById(e).innerText=mTotalNum[e];document.getElementById("chaldea_"+e).innerText=mTotalChaldea[e];if(mTotalNum[e]>0){$("#box_"+e).fadeIn("fast")}else{if(mTotalNum[e]==0){$("#box_"+e).fadeOut("fast")}}c+=mTotalNum[e];e=900;document.getElementById(e).rows[0].cells[1].innerText=separate(mTotalNum[e]);document.getElementById("chaldea_"+e).rows[0].cells[1].innerText=separate(mTotalChaldea[e]);if(mTotalNum[e]>0){$("#box_"+e).fadeIn("fast")}else{if(mTotalNum[e]==0){$("#box_"+e).fadeOut("fast")}}}else{if(useInv==1){for(d=0;d<2;d++){for(j=0;j<7;j++){tempNum=0;e=100+d*10+j;tempNum=mTotalNum[e]-inventoryNum[e];if(tempNum<0){tempNum=0}if(tempNum>0){$("#box_"+e).fadeIn("fast")}else{$("#box_"+e).fadeOut("fast")}document.getElementById(e).innerText=tempNum;c+=mTotalNum[e]}}for(d=0;d<3;d++){for(j=0;j<7;j++){tempNum=0;e=200+d*10+j;tempNum=mTotalNum[e]-inventoryNum[e];if(tempNum<0){tempNum=0}if(tempNum>0){$("#box_"+e).fadeIn("fast")}else{$("#box_"+e).fadeOut("fast")}document.getElementById(e).innerText=tempNum;c+=mTotalNum[e]}}for(d=0;d<BronzeMaterialCount;d++){tempNum=0;e=300+d;tempNum=mTotalNum[e]-inventoryNum[e];if(tempNum<0){tempNum=0}if(tempNum>0){$("#box_"+e).fadeIn("fast")}else{$("#box_"+e).fadeOut("fast")}document.getElementById(e).innerText=tempNum;c+=mTotalNum[e]}for(d=0;d<SilverMaterialCount;d++){tempNum=0;e=400+d;tempNum=mTotalNum[e]-inventoryNum[e];if(tempNum<0){tempNum=0}if(tempNum>0){$("#box_"+e).fadeIn("fast")}else{$("#box_"+e).fadeOut("fast")}document.getElementById(e).innerText=tempNum;c+=mTotalNum[e]}for(d=0;d<GoldMaterialCount;d++){tempNum=0;e=500+d;tempNum=mTotalNum[e]-inventoryNum[e];if(tempNum<0){tempNum=0}if(tempNum>0){$("#box_"+e).fadeIn("fast")}else{$("#box_"+e).fadeOut("fast")}document.getElementById(e).innerText=tempNum;c+=mTotalNum[e]}for(d=0;d<EventMaterialCount;d++){tempNum=0;e=600+d;tempNum=mTotalNum[e]-inventoryNum[e];if(tempNum<0){tempNum=0}if(tempNum>0){$("#box_"+e).fadeIn("fast")}else{$("#box_"+e).fadeOut("fast")}document.getElementById(e).innerText=tempNum;c+=mTotalNum[e]}tempNum=0;e=800;tempNum=mTotalNum[e]-inventoryNum[e];if(tempNum<0){tempNum=0}if(tempNum>0){$("#box_"+e).fadeIn("fast")}else{$("#box_"+e).fadeOut("fast")}document.getElementById(e).innerText=tempNum;c+=mTotalNum[e];tempNum=0;e=900;tempNum=mTotalNum[e]-inventoryNum[e];if(tempNum<0){tempNum=0}if(tempNum>0){$("#box_"+e).fadeIn("fast")}else{$("#box_"+e).fadeOut("fast")}document.getElementById(e).rows[0].cells[1].innerText=separate(tempNum);c+=mTotalNum[e]}else{for(d=0;d<2;d++){for(j=0;j<7;j++){e=100+d*10+j;document.getElementById(e).innerText=mTotalUsed[e];if(mTotalUsed[e]>0){$("#box_"+e).fadeIn("fast")}else{if(mTotalUsed[e]==0){$("#box_"+e).fadeOut("fast")}}c+=mTotalUsed[e]}}for(d=0;d<3;d++){for(j=0;j<7;j++){e=200+d*10+j;document.getElementById(e).innerText=mTotalUsed[e];if(mTotalUsed[e]>0){$("#box_"+e).fadeIn("fast")}else{if(mTotalUsed[e]==0){$("#box_"+e).fadeOut("fast")}}c+=mTotalUsed[e]}}for(d=0;d<BronzeMaterialCount;d++){e=300+d;document.getElementById(e).innerText=mTotalUsed[e];if(mTotalUsed[e]>0){$("#box_"+e).fadeIn("fast")}else{if(mTotalUsed[e]==0){$("#box_"+e).fadeOut("fast")}}c+=mTotalUsed[e]}for(d=0;d<SilverMaterialCount;d++){e=400+d;document.getElementById(e).innerText=mTotalUsed[e];if(mTotalUsed[e]>0){$("#box_"+e).fadeIn("fast")}else{if(mTotalUsed[e]==0){$("#box_"+e).fadeOut("fast")}}c+=mTotalUsed[e]}for(d=0;d<GoldMaterialCount;d++){e=500+d;document.getElementById(e).innerText=mTotalUsed[e];if(mTotalUsed[e]>0){$("#box_"+e).fadeIn("fast")}else{if(mTotalUsed[e]==0){$("#box_"+e).fadeOut("fast")}}c+=mTotalUsed[e]}for(d=0;d<EventMaterialCount;d++){e=600+d;document.getElementById(e).innerText=mTotalUsed[e];if(mTotalUsed[e]>0){$("#box_"+e).fadeIn("fast")}else{if(mTotalUsed[e]==0){$("#box_"+e).fadeOut("fast")}}c+=mTotalUsed[e]}e=800;document.getElementById(e).innerText=mTotalUsed[e];if(mTotalUsed[e]>0){$("#box_"+e).fadeIn("fast")}else{if(mTotalUsed[e]==0){$("#box_"+e).fadeOut("fast")}}c+=mTotalUsed[e];e=900;document.getElementById(e).rows[0].cells[1].innerText=separate(mTotalUsed[e]);if(mTotalUsed[e]>0){$("#box_"+e).fadeIn("fast")}else{if(mTotalUsed[e]==0){$("#box_"+e).fadeOut("fast")}}c+=mTotalUsed[e]}}if(c<=0){$("#inst").show()}else{if(c>0){$("#inst").hide()}}}function StatusSearch(a){$("#icon-img14").show();$(".filterBox").hide();$("[name='class-btn']:checked").prop("checked",false);$("input[name=class-btn]:eq(12)").prop("checked",true);clnum=$("[name='class-btn']:checked").val();statusnum=1;$(".setting-btn").show();$(this).blur();if($("#modal-overlay")[0]){return false}$("body").append('<div id="modal-overlay"></div>');$("#modal-overlay").fadeIn("fast");centeringModalSyncer(3);ChangeServantIcon();$(".select-slide").css({height:Math.floor($(window).height()-($(".select-servant-title").outerHeight()+$(".status-filter").outerHeight()+$(".select-class").outerHeight()))+"px"});$("#select-servant").fadeIn("fast")}function ReverseSearch(a){$("#icon-img14").show();$(this).blur();if($("#modal-overlay")[0]){return false}$("body").append('<div id="modal-overlay"></div>');$("#modal-overlay").fadeIn("fast");centeringModalSyncer(3);$(".reverseBox").show();$(".select-slide").css({height:Math.floor($(window).height()-($(".select-servant-title").outerHeight()+$(".reverseBox").outerHeight()+$(".select-class").outerHeight()))+"px"});$("#select-servant").fadeIn("fast")}function ServantSearch(a){$(this).blur();if($("#modal-overlay")[0]){return false}$("[name='class-btn']:checked").prop("checked",false);$("[name='class-btn'][value='0']").prop("checked",true);clnum=$("[name='class-btn']:checked").val();renum=0;ChangeServantIcon();$("body").append('<div id="modal-overlay"></div>');$("#modal-overlay").fadeIn("fast");centeringModalSyncer(3);$(".select-slide").css({height:Math.floor($(window).height()-($(".select-servant-title").outerHeight()+$(".select-class").outerHeight()))+"px"});$("#select-servant").fadeIn("fast")}function ChangeServantIcon(){$('div[class="box_focus_total"]:has(.selected-material-icon)').remove();$(".selectedMaterial").append('<div class="box_focus_total"><figure class="fig-relative"><img src="./i/icon/item_'+renum+'.jpg" class="selected-material-icon"><figcaption class="num-focus_total"><span id="focus_total"></span></figcaption></figure></div>');console.log(renum);rev=$("[name='reverse-btn']:checked").val();$(".servant-icon").remove();$('div[class="box_focus"]').remove();$('div[class="box-chaldea"]').remove();if(renum==0&&statusnum==0&&chaldeanum==0){tempNum=0;tempNumtotal=0;if(clnum==99){for(i=0;i<Servantdb.length;i++){if($.inArray(Servantdb[i].id,numCalcServantId)==-1){switch(Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;default:break}}else{if($.inArray(Servantdb[i].id,numCalcServantId)>-1){switch(Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;default:break}}}}}else{for(i=0;i<Servantdb.length;i++){if(Servantdb[i].kind==clnum&&$.inArray(Servantdb[i].id,numCalcServantId)==-1){switch(Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;default:break}}else{if(Servantdb[i].kind==clnum&&$.inArray(Servantdb[i].id,numCalcServantId)>-1){switch(Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;default:break}}}}}}else{if(chaldeanum==1&&clnum==99){$(".chaldea-r5").hide();$(".chaldea-r4").hide();$(".chaldea-r3").hide();$(".chaldea-r2").hide();$(".chaldea-r1").hide();for(i=0;i<Servantdb.length;i++){if(myServantdb[i][9]==1&&$.inArray(Servantdb[i].id,numCalcServantId)==-1){switch(Servantdb[i].value){case 4:$(".chaldea-r5").show();$(".icon-chaldea-r5").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 3:$(".chaldea-r4").show();$(".icon-chaldea-r4").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 2:$(".chaldea-r3").show();$(".icon-chaldea-r3").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 1:$(".chaldea-r2").show();$(".icon-chaldea-r2").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 0:$(".chaldea-r1").show();$(".icon-chaldea-r1").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;default:break}}else{if(myServantdb[i][9]==1&&$.inArray(Servantdb[i].id,numCalcServantId)>-1){switch(Servantdb[i].value){case 4:$(".chaldea-r5").show();$(".icon-chaldea-r5").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 3:$(".chaldea-r4").show();$(".icon-chaldea-r4").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 2:$(".chaldea-r3").show();$(".icon-chaldea-r3").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 1:$(".chaldea-r2").show();$(".icon-chaldea-r2").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 0:$(".chaldea-r1").show();$(".icon-chaldea-r1").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;default:break}}}}}else{if(chaldeanum==1){$(".chaldea-r5").hide();$(".chaldea-r4").hide();$(".chaldea-r3").hide();$(".chaldea-r2").hide();$(".chaldea-r1").hide();for(i=0;i<Servantdb.length;i++){if(myServantdb[i][9]==1&&Servantdb[i].kind==clnum&&$.inArray(Servantdb[i].id,numCalcServantId)==-1){switch(Servantdb[i].value){case 4:$(".chaldea-r5").show();$(".icon-chaldea-r5").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 3:$(".chaldea-r4").show();$(".icon-chaldea-r4").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 2:$(".chaldea-r3").show();$(".icon-chaldea-r3").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 1:$(".chaldea-r2").show();$(".icon-chaldea-r2").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 0:$(".chaldea-r1").show();$(".icon-chaldea-r1").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;default:break}}else{if(myServantdb[i][9]==1&&Servantdb[i].kind==clnum&&$.inArray(Servantdb[i].id,numCalcServantId)>-1){switch(Servantdb[i].value){case 4:$(".chaldea-r5").show();$(".icon-chaldea-r5").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 3:$(".chaldea-r4").show();$(".icon-chaldea-r4").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 2:$(".chaldea-r3").show();$(".icon-chaldea-r3").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 1:$(".chaldea-r2").show();$(".icon-chaldea-r2").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 0:$(".chaldea-r1").show();$(".icon-chaldea-r1").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;default:break}}}}}else{if(statusnum==1&&clnum==99){var a;switch(statusArray[0]){case 0:a=Servantdb;break;case"1":a=jQuery.grep(Servantdb,function(b){if(b.policyLaw){return true}else{return false}});break;case"2":a=jQuery.grep(Servantdb,function(b){if(b.policyNeutral){return true}else{return false}});break;case"3":a=jQuery.grep(Servantdb,function(b){if(b.policyChaos){return true}else{return false}});break;default:break}switch(statusArray[1]){case 0:a=a;break;case"1":a=jQuery.grep(a,function(b){if(b.personalGood){return true}else{return false}});break;case"2":a=jQuery.grep(a,function(b){if(b.personalNeutral){return true}else{return false}});break;case"3":a=jQuery.grep(a,function(b){if(b.personalEvil){return true}else{return false}});break;case"4":a=jQuery.grep(a,function(b){if(b.personalMad){return true}else{return false}});break;case"5":a=jQuery.grep(a,function(b){if(b.personalBride){return true}else{return false}});break;case"6":a=jQuery.grep(a,function(b){if(b.personalSummer){return true}else{return false}});break;default:break}switch(statusArray[2]){case 0:a=a;break;case"1":a=jQuery.grep(a,function(b){if(b.attrbuteSky){return true}else{return false}});break;case"2":a=jQuery.grep(a,function(b){if(b.attrbuteEarth){return true}else{return false}});break;case"3":a=jQuery.grep(a,function(b){if(b.attrbuteMan){return true}else{return false}});break;case"4":a=jQuery.grep(a,function(b){if(b.attrbuteStar){return true}else{return false}});break;case"5":a=jQuery.grep(a,function(b){if(b.attrbuteBeast){return true}else{return false}});break;default:break}if(statusArray[3]>0){a=jQuery.grep(a,function(b){if(b.divinity){return true}else{return false}})}if(statusArray[4]>0){a=jQuery.grep(a,function(b){if(b.dragon){return true}else{return false}})}if(statusArray[5]>0){a=jQuery.grep(a,function(b){if(b.roma){return true}else{return false}})}if(statusArray[6]>0){a=jQuery.grep(a,function(b){if(b.savagebeast){return true}else{return false}})}if(statusArray[7]>0){a=jQuery.grep(a,function(b){if(b.riding){return true}else{return false}})}if(statusArray[8]>0){a=jQuery.grep(a,function(b){if(b.love){return true}else{return false}})}if(statusArray[9]>0){a=jQuery.grep(a,function(b){if(b.devilish){return true}else{return false}})}if(statusArray[10]>0){a=jQuery.grep(a,function(b){if(b.davinci){return true}else{return false}})}if(statusArray[11]>0){a=jQuery.grep(a,function(b){if(b.saberface){return true}else{return false}})}if(statusArray[12]>0){a=jQuery.grep(a,function(b){if(b.arthur){return true}else{return false}})}switch(statusArray[13]){case 0:a=a;break;case"1":a=jQuery.grep(a,function(b){if(b.nptypeQ){return true}else{return false}});break;case"2":a=jQuery.grep(a,function(b){if(b.nptypeA){return true}else{return false}});break;case"3":a=jQuery.grep(a,function(b){if(b.nptypeB){return true}else{return false}});break;default:break}switch(statusArray[14]){case 0:a=a;break;case"1":a=jQuery.grep(a,function(b){if(b.npeffectA){return true}else{return false}});break;case"2":a=jQuery.grep(a,function(b){if(b.npeffectO){return true}else{return false}});break;case"3":a=jQuery.grep(a,function(b){if(b.npeffectS){return true}else{return false}});break;default:break}switch(statusArray[15]){case 0:a=a;break;case"1":a=jQuery.grep(a,function(b){if(b.npEXmale){return true}else{return false}});break;case"2":a=jQuery.grep(a,function(b){if(b.npEXfemale){return true}else{return false}});break;case"3":a=jQuery.grep(a,function(b){if(b.npEXdivine){return true}else{return false}});break;case"4":a=jQuery.grep(a,function(b){if(b.npEXdragon){return true}else{return false}});break;case"5":a=jQuery.grep(a,function(b){if(b.npEXpoison){return true}else{return false}});break;case"6":a=jQuery.grep(a,function(b){if(b.npEXriding){return true}else{return false}});break;case"7":a=jQuery.grep(a,function(b){if(b.npEXlove){return true}else{return false}});break;case"8":a=jQuery.grep(a,function(b){if(b.npEXevil){return true}else{return false}});break;case"9":a=jQuery.grep(a,function(b){if(b.npEXdemonic){return true}else{return false}});break;case"10":a=jQuery.grep(a,function(b){if(b.npEXskyearth){return true}else{return false}});break;case"11":a=jQuery.grep(a,function(b){if(b.npEXservant){return true}else{return false}});break;case"12":a=jQuery.grep(a,function(b){if(b.npEXface){return true}else{return false}});break;case"13":a=jQuery.grep(a,function(b){if(b.npEXarthur){return true}else{return false}});break;case"14":a=jQuery.grep(a,function(b){if(b.npEXsaber){return true}else{return false}});break;default:break}switch(statusArray[16]){case 0:a=a;break;case"1":a=jQuery.grep(a,function(b){if(b.sEXmale){return true}else{return false}});break;case"2":a=jQuery.grep(a,function(b){if(b.sEXdivine){return true}else{return false}});break;case"3":a=jQuery.grep(a,function(b){if(b.sEXdragon){return true}else{return false}});break;case"4":a=jQuery.grep(a,function(b){if(b.sEXroma){return true}else{return false}});break;case"5":a=jQuery.grep(a,function(b){if(b.sEXsavagebeast){return true}else{return false}});break;case"6":a=jQuery.grep(a,function(b){if(b.sEXevil){return true}else{return false}});break;case"7":a=jQuery.grep(a,function(b){if(b.sEXdemonic){return true}else{return false}});break;case"8":a=jQuery.grep(a,function(b){if(b.sEXskyearth){return true}else{return false}});break;case"9":a=jQuery.grep(a,function(b){if(b.sEXhuman){return true}else{return false}});break;case"10":a=jQuery.grep(a,function(b){if(b.sEXhumanoid){return true}else{return false}});break;case"11":a=jQuery.grep(a,function(b){if(b.sEXundead){return true}else{return false}});break;case"12":a=jQuery.grep(a,function(b){if(b.sEXdemon){return true}else{return false}});break;case"13":a=jQuery.grep(a,function(b){if(b.sEXlarge){return true}else{return false}});break;case"14":a=jQuery.grep(a,function(b){if(b.sEXsaber){return true}else{return false}});break;default:break}for(i=0;i<a.length;i++){if($.inArray(a[i].id,numCalcServantId)==-1){switch(a[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;default:break}}else{if($.inArray(Servantdb[i].id,numCalcServantId)>-1){switch(a[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;default:break}}}}}else{if(statusnum==1){var a;switch(statusArray[0]){case 0:a=Servantdb;break;case"1":a=jQuery.grep(Servantdb,function(b){if(b.policyLaw){return true}else{return false}});break;case"2":a=jQuery.grep(Servantdb,function(b){if(b.policyNeutral){return true}else{return false}});break;case"3":a=jQuery.grep(Servantdb,function(b){if(b.policyChaos){return true}else{return false}});break}switch(statusArray[1]){case 0:a=a;break;case"1":a=jQuery.grep(a,function(b){if(b.personalGood){return true}else{return false}});break;case"2":a=jQuery.grep(a,function(b){if(b.personalNeutral){return true}else{return false}});break;case"3":a=jQuery.grep(a,function(b){if(b.personalEvil){return true}else{return false}});break;case"4":a=jQuery.grep(a,function(b){if(b.personalMad){return true}else{return false}});break;case"5":a=jQuery.grep(a,function(b){if(b.personalBride){return true}else{return false}});break;case"6":a=jQuery.grep(a,function(b){if(b.personalSummer){return true}else{return false}});break;default:break}switch(statusArray[2]){case 0:a=a;break;case"1":a=jQuery.grep(a,function(b){if(b.attrbuteSky){return true}else{return false}});break;case"2":a=jQuery.grep(a,function(b){if(b.attrbuteEarth){return true}else{return false}});break;case"3":a=jQuery.grep(a,function(b){if(b.attrbuteMan){return true}else{return false}});break;case"4":a=jQuery.grep(a,function(b){if(b.attrbuteStar){return true}else{return false}});break;case"5":a=jQuery.grep(a,function(b){if(b.attrbuteBeast){return true}else{return false}});break;default:break}if(statusArray[3]>0){a=jQuery.grep(a,function(b){if(b.divinity){return true}else{return false}})}if(statusArray[4]>0){a=jQuery.grep(a,function(b){if(b.dragon){return true}else{return false}})}if(statusArray[5]>0){a=jQuery.grep(a,function(b){if(b.roma){return true}else{return false}})}if(statusArray[6]>0){a=jQuery.grep(a,function(b){if(b.savagebeast){return true}else{return false}})}if(statusArray[7]>0){a=jQuery.grep(a,function(b){if(b.riding){return true}else{return false}})}if(statusArray[8]>0){a=jQuery.grep(a,function(b){if(b.love){return true}else{return false}})}if(statusArray[9]>0){a=jQuery.grep(a,function(b){if(b.devilish){return true}else{return false}})}if(statusArray[10]>0){a=jQuery.grep(a,function(b){if(b.davinci){return true}else{return false}})}if(statusArray[11]>0){a=jQuery.grep(a,function(b){if(b.saberface){return true}else{return false}})}if(statusArray[12]>0){a=jQuery.grep(a,function(b){if(b.arthur){return true}else{return false}})}switch(statusArray[13]){case 0:a=a;break;case"1":a=jQuery.grep(a,function(b){if(b.nptypeQ){return true}else{return false}});break;case"2":a=jQuery.grep(a,function(b){if(b.nptypeA){return true}else{return false}});break;case"3":a=jQuery.grep(a,function(b){if(b.nptypeB){return true}else{return false}});break;default:break}switch(statusArray[14]){case 0:a=a;break;case"1":a=jQuery.grep(a,function(b){if(b.npeffectA){return true}else{return false}});break;case"2":a=jQuery.grep(a,function(b){if(b.npeffectO){return true}else{return false}});break;case"3":a=jQuery.grep(a,function(b){if(b.npeffectS){return true}else{return false}});break;default:break}switch(statusArray[15]){case 0:a=a;break;case"1":a=jQuery.grep(a,function(b){if(b.npEXmale){return true}else{return false}});break;case"2":a=jQuery.grep(a,function(b){if(b.npEXfemale){return true}else{return false}});break;case"3":a=jQuery.grep(a,function(b){if(b.npEXdivine){return true}else{return false}});break;case"4":a=jQuery.grep(a,function(b){if(b.npEXdragon){return true}else{return false}});break;case"5":a=jQuery.grep(a,function(b){if(b.npEXpoison){return true}else{return false}});break;case"6":a=jQuery.grep(a,function(b){if(b.npEXriding){return true}else{return false}});break;case"7":a=jQuery.grep(a,function(b){if(b.npEXlove){return true}else{return false}});break;case"8":a=jQuery.grep(a,function(b){if(b.npEXevil){return true}else{return false}});break;case"9":a=jQuery.grep(a,function(b){if(b.npEXdemonic){return true}else{return false}});break;case"10":a=jQuery.grep(a,function(b){if(b.npEXskyearth){return true}else{return false}});break;case"11":a=jQuery.grep(a,function(b){if(b.npEXservant){return true}else{return false}});break;case"12":a=jQuery.grep(a,function(b){if(b.npEXface){return true}else{return false}});break;case"13":a=jQuery.grep(a,function(b){if(b.npEXarthur){return true}else{return false}});break;case"14":a=jQuery.grep(a,function(b){if(b.npEXsaber){return true}else{return false}});break;default:break}switch(statusArray[16]){case 0:a=a;break;case"1":a=jQuery.grep(a,function(b){if(b.sEXmale){return true}else{return false}});break;case"2":a=jQuery.grep(a,function(b){if(b.sEXdivine){return true}else{return false}});break;case"3":a=jQuery.grep(a,function(b){if(b.sEXdragon){return true}else{return false}});break;case"4":a=jQuery.grep(a,function(b){if(b.sEXroma){return true}else{return false}});break;case"5":a=jQuery.grep(a,function(b){if(b.sEXsavagebeast){return true}else{return false}});break;case"6":a=jQuery.grep(a,function(b){if(b.sEXevil){return true}else{return false}});break;case"7":a=jQuery.grep(a,function(b){if(b.sEXdemonic){return true}else{return false}});break;case"8":a=jQuery.grep(a,function(b){if(b.sEXskyearth){return true}else{return false}});break;case"9":a=jQuery.grep(a,function(b){if(b.sEXhuman){return true}else{return false}});break;case"10":a=jQuery.grep(a,function(b){if(b.sEXhumanoid){return true}else{return false}});break;case"11":a=jQuery.grep(a,function(b){if(b.sEXundead){return true}else{return false}});break;case"12":a=jQuery.grep(a,function(b){if(b.sEXdemon){return true}else{return false}});break;case"13":a=jQuery.grep(a,function(b){if(b.sEXlarge){return true}else{return false}});break;case"14":a=jQuery.grep(a,function(b){if(b.sEXsaber){return true}else{return false}});break;default:break}for(i=0;i<a.length;i++){if(a[i].kind==clnum&&$.inArray(a[i].id,numCalcServantId)==-1){switch(a[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;default:break}}else{if(a[i].kind==clnum&&$.inArray(Servantdb[i].id,numCalcServantId)>-1){switch(a[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+a[i].id+'" src="./i/icon_servants/'+a[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;default:break}}}}}else{tempNumtotal=0;if(clnum==99){for(clnum=0;clnum<ServantClassCount;clnum++){for(i=0;i<Servantdb.length;i++){tempNum=0;if(Servantdb[i].kind==clnum&&$.inArray(Servantdb[i].id,numCalcServantId)==-1){if(rev==10){if(renum in Servantdb[i].AdAgain1==true||renum in Servantdb[i].AdAgain2==true||renum in Servantdb[i].AdAgain3==true||renum in Servantdb[i].AdAgain4==true){if(renum in Servantdb[i].AdAgain1==true){tempNum+=Servantdb[i].AdAgain1[renum]}if(renum in Servantdb[i].AdAgain2==true){tempNum+=Servantdb[i].AdAgain2[renum]}if(renum in Servantdb[i].AdAgain3==true){tempNum+=Servantdb[i].AdAgain3[renum]}if(renum in Servantdb[i].AdAgain4==true){tempNum+=Servantdb[i].AdAgain4[renum]}switch(Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;default:break}tempNumtotal+=tempNum}}else{if(renum in Servantdb[i].skill1==true||renum in Servantdb[i].skill2==true||renum in Servantdb[i].skill3==true||renum in Servantdb[i].skill4==true||renum in Servantdb[i].skill5==true||renum in Servantdb[i].skill6==true||renum in Servantdb[i].skill7==true||renum in Servantdb[i].skill8==true||renum in Servantdb[i].skill9==true){if(renum in Servantdb[i].skill1==true){tempNum+=Servantdb[i].skill1[renum]}if(renum in Servantdb[i].skill2==true){tempNum+=Servantdb[i].skill2[renum]}if(renum in Servantdb[i].skill3==true){tempNum+=Servantdb[i].skill3[renum]}if(renum in Servantdb[i].skill4==true){tempNum+=Servantdb[i].skill4[renum]}if(renum in Servantdb[i].skill5==true){tempNum+=Servantdb[i].skill5[renum]}if(renum in Servantdb[i].skill6==true){tempNum+=Servantdb[i].skill6[renum]}if(renum in Servantdb[i].skill7==true){tempNum+=Servantdb[i].skill7[renum]}if(renum in Servantdb[i].skill8==true){tempNum+=Servantdb[i].skill8[renum]}if(renum in Servantdb[i].skill9==true){tempNum+=Servantdb[i].skill9[renum]}tempNum=tempNum*3;switch(Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;default:break}tempNumtotal+=tempNum}}}else{if(Servantdb[i].kind==clnum&&$.inArray(Servantdb[i].id,numCalcServantId)>-1){if(rev==10){if(renum in Servantdb[i].AdAgain1==true&&$.inArray(Servantdb[i].id,numCalcServantId)>-1||renum in Servantdb[i].AdAgain2==true||renum in Servantdb[i].AdAgain3==true||renum in Servantdb[i].AdAgain4==true){if(renum in Servantdb[i].AdAgain1==true){tempNum+=Servantdb[i].AdAgain1[renum]}if(renum in Servantdb[i].AdAgain2==true){tempNum+=Servantdb[i].AdAgain2[renum]}if(renum in Servantdb[i].AdAgain3==true){tempNum+=Servantdb[i].AdAgain3[renum]}if(renum in Servantdb[i].AdAgain4==true){tempNum+=Servantdb[i].AdAgain4[renum]}switch(Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;default:break}}}else{if(renum in Servantdb[i].skill1==true||renum in Servantdb[i].skill2==true||renum in Servantdb[i].skill3==true||renum in Servantdb[i].skill4==true||renum in Servantdb[i].skill5==true||renum in Servantdb[i].skill6==true||renum in Servantdb[i].skill7==true||renum in Servantdb[i].skill8==true||renum in Servantdb[i].skill9==true){if(renum in Servantdb[i].skill1==true){tempNum+=Servantdb[i].skill1[renum]}if(renum in Servantdb[i].skill2==true){tempNum+=Servantdb[i].skill2[renum]}if(renum in Servantdb[i].skill3==true){tempNum+=Servantdb[i].skill3[renum]}if(renum in Servantdb[i].skill4==true){tempNum+=Servantdb[i].skill4[renum]}if(renum in Servantdb[i].skill5==true){tempNum+=Servantdb[i].skill5[renum]}if(renum in Servantdb[i].skill6==true){tempNum+=Servantdb[i].skill6[renum]}if(renum in Servantdb[i].skill7==true){tempNum+=Servantdb[i].skill7[renum]}if(renum in Servantdb[i].skill8==true){tempNum+=Servantdb[i].skill8[renum]}if(renum in Servantdb[i].skill9==true){tempNum+=Servantdb[i].skill9[renum]}tempNum=tempNum*3;switch(Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;default:break}}}}}}}clnum=13}else{for(i=0;i<Servantdb.length;i++){tempNum=0;if(Servantdb[i].kind==clnum&&$.inArray(Servantdb[i].id,numCalcServantId)==-1){if(rev==10){if(renum in Servantdb[i].AdAgain1==true||renum in Servantdb[i].AdAgain2==true||renum in Servantdb[i].AdAgain3==true||renum in Servantdb[i].AdAgain4==true){if(renum in Servantdb[i].AdAgain1==true){tempNum+=Servantdb[i].AdAgain1[renum]}if(renum in Servantdb[i].AdAgain2==true){tempNum+=Servantdb[i].AdAgain2[renum]}if(renum in Servantdb[i].AdAgain3==true){tempNum+=Servantdb[i].AdAgain3[renum]}if(renum in Servantdb[i].AdAgain4==true){tempNum+=Servantdb[i].AdAgain4[renum]}switch(Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;default:break}tempNumtotal+=tempNum}}else{if(renum in Servantdb[i].skill1==true||renum in Servantdb[i].skill2==true||renum in Servantdb[i].skill3==true||renum in Servantdb[i].skill4==true||renum in Servantdb[i].skill5==true||renum in Servantdb[i].skill6==true||renum in Servantdb[i].skill7==true||renum in Servantdb[i].skill8==true||renum in Servantdb[i].skill9==true){if(renum in Servantdb[i].skill1==true){tempNum+=Servantdb[i].skill1[renum]}if(renum in Servantdb[i].skill2==true){tempNum+=Servantdb[i].skill2[renum]}if(renum in Servantdb[i].skill3==true){tempNum+=Servantdb[i].skill3[renum]}if(renum in Servantdb[i].skill4==true){tempNum+=Servantdb[i].skill4[renum]}if(renum in Servantdb[i].skill5==true){tempNum+=Servantdb[i].skill5[renum]}if(renum in Servantdb[i].skill6==true){tempNum+=Servantdb[i].skill6[renum]}if(renum in Servantdb[i].skill7==true){tempNum+=Servantdb[i].skill7[renum]}if(renum in Servantdb[i].skill8==true){tempNum+=Servantdb[i].skill8[renum]}if(renum in Servantdb[i].skill9==true){tempNum+=Servantdb[i].skill9[renum]}tempNum=tempNum*3;switch(Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;default:break}tempNumtotal+=tempNum}}}else{if(Servantdb[i].kind==clnum&&$.inArray(Servantdb[i].id,numCalcServantId)>-1){if(rev==10){if(renum in Servantdb[i].AdAgain1==true||renum in Servantdb[i].AdAgain2==true||renum in Servantdb[i].AdAgain3==true||renum in Servantdb[i].AdAgain4==true){if(renum in Servantdb[i].AdAgain1==true){tempNum+=Servantdb[i].AdAgain1[renum]}if(renum in Servantdb[i].AdAgain2==true){tempNum+=Servantdb[i].AdAgain2[renum]}if(renum in Servantdb[i].AdAgain3==true){tempNum+=Servantdb[i].AdAgain3[renum]}if(renum in Servantdb[i].AdAgain4==true){tempNum+=Servantdb[i].AdAgain4[renum]}switch(Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;default:break}}}else{if(renum in Servantdb[i].skill1==true||renum in Servantdb[i].skill2==true||renum in Servantdb[i].skill3==true||renum in Servantdb[i].skill4==true||renum in Servantdb[i].skill5==true||renum in Servantdb[i].skill6==true||renum in Servantdb[i].skill7==true||renum in Servantdb[i].skill8==true||renum in Servantdb[i].skill9==true){if(renum in Servantdb[i].skill1==true){tempNum+=Servantdb[i].skill1[renum]}if(renum in Servantdb[i].skill2==true){tempNum+=Servantdb[i].skill2[renum]}if(renum in Servantdb[i].skill3==true){tempNum+=Servantdb[i].skill3[renum]}if(renum in Servantdb[i].skill4==true){tempNum+=Servantdb[i].skill4[renum]}if(renum in Servantdb[i].skill5==true){tempNum+=Servantdb[i].skill5[renum]}if(renum in Servantdb[i].skill6==true){tempNum+=Servantdb[i].skill6[renum]}if(renum in Servantdb[i].skill7==true){tempNum+=Servantdb[i].skill7[renum]}if(renum in Servantdb[i].skill8==true){tempNum+=Servantdb[i].skill8[renum]}if(renum in Servantdb[i].skill9==true){tempNum+=Servantdb[i].skill9[renum]}tempNum=tempNum*3;switch(Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;default:break}}}}}}}document.getElementById("focus_total").innerText=tempNumtotal}}}}}}function locking(b,a){if(a==lockingPatternAll){if($("#sairin_to_"+b).val()==$("#sairin_from_"+b).val()){lockSetting[b-1][0]=1;if($("#sairin_from_"+b).val()==4){$("[name=stage2_0_"+b+"]").html('<img src="i/Finish.png">')}else{$("[name=stage2_0_"+b+"]").html("<span>"+$("#sairin_from_"+b).val()+'</span><img src="i/Lock.png">')}$("[name=stage2_0_"+b+"]").show()}else{$("[name=stage2_0_"+b+"]").hide()}if($("#skill1_to_"+b).val()==$("#skill1_from_"+b).val()){lockSetting[b-1][1]=1;if($("#skill1_from_"+b).val()==10){$("[name=stage2_1_"+b+"]").html('<img src="i/Finish.png">')}else{$("[name=stage2_1_"+b+"]").html("<span>"+$("#skill1_from_"+b).val()+'</span><img src="i/Lock.png">')}$("[name=stage2_1_"+b+"]").show()}else{$("[name=stage2_1_"+b+"]").hide()}if($("#skill2_to_"+b).val()==$("#skill2_from_"+b).val()){lockSetting[b-1][2]=1;if($("#skill2_from_"+b).val()==10){$("[name=stage2_2_"+b+"]").html('<img src="i/Finish.png">')}else{$("[name=stage2_2_"+b+"]").html("<span>"+$("#skill2_from_"+b).val()+'</span><img src="i/Lock.png">')}$("[name=stage2_2_"+b+"]").show()}else{$("[name=stage2_2_"+b+"]").hide()}if($("#skill3_to_"+b).val()==$("#skill3_from_"+b).val()){lockSetting[b-1][3]=1;if($("#skill3_from_"+b).val()==10){$("[name=stage2_3_"+b+"]").html('<img src="i/Finish.png">')}else{$("[name=stage2_3_"+b+"]").html("<span>"+$("#skill3_from_"+b).val()+'</span><img src="i/Lock.png">')}$("[name=stage2_3_"+b+"]").show()}else{$("[name=stage2_3_"+b+"]").hide()}if($(IDAppend1To+b).val()==$(IDAppend1From+b).val()){lockSetting[b-1][TargetPatternAppend1]=1;dolock($("[name="+NameAppend1LockSelect+b+"]"),$(IDAppend1From+b),$(IDAppend1To+b),false)}else{lockSetting[b-1][TargetPatternAppend1]=0;doUnlock($("[name="+NameAppend1LockSelect+b+"]"),$(IDAppend1From+b),$(IDAppend1To+b),false)}if($(IDAppend2To+b).val()==$(IDAppend2From+b).val()){lockSetting[b-1][TargetPatternAppend2]=1;dolock($("[name="+NameAppend2LockSelect+b+"]"),$(IDAppend2From+b),$(IDAppend2To+b),false)}else{lockSetting[b-1][TargetPatternAppend2]=0;doUnlock($("[name="+NameAppend2LockSelect+b+"]"),$(IDAppend2From+b),$(IDAppend2To+b),false)}if($(IDAppend3To+b).val()==$(IDAppend3From+b).val()){lockSetting[b-1][TargetPatternAppend3]=1;dolock($("[name="+NameAppend3LockSelect+b+"]"),$(IDAppend3From+b),$(IDAppend3To+b),false)}else{lockSetting[b-1][TargetPatternAppend3]=0;doUnlock($("[name="+NameAppend3LockSelect+b+"]"),$(IDAppend3From+b),$(IDAppend3To+b),false)}materialCalc(b)}else{if(lockSetting[b-1][a]==0){lockSetting[b-1][a]=1;switch(a){case 0:$("#sairin_to_"+b).val($("#sairin_from_"+b).val());if($("#sairin_from_"+b).val()==4){$("[name=stage2_0_"+b+"]").html('<img src="i/Finish.png">')}else{$("[name=stage2_0_"+b+"]").html("<span>"+$("#sairin_from_"+b).val()+'</span><img src="i/Lock.png">')}$("[name=stage2_"+a+"_"+b+"]").fadeIn(100);break;case 1:$("#skill1_to_"+b).val($("#skill1_from_"+b).val());if($("#skill1_from_"+b).val()==10){$("[name=stage2_1_"+b+"]").html('<img src="i/Finish.png">')}else{$("[name=stage2_1_"+b+"]").html("<span>"+$("#skill1_from_"+b).val()+'</span><img src="i/Lock.png">')}$("[name=stage2_"+a+"_"+b+"]").fadeIn(100);break;case 2:$("#skill2_to_"+b).val($("#skill2_from_"+b).val());if($("#skill2_from_"+b).val()==10){$("[name=stage2_2_"+b+"]").html('<img src="i/Finish.png">')}else{$("[name=stage2_2_"+b+"]").html("<span>"+$("#skill2_from_"+b).val()+'</span><img src="i/Lock.png">')}$("[name=stage2_"+a+"_"+b+"]").fadeIn(100);break;case 3:$("#skill3_to_"+b).val($("#skill3_from_"+b).val());if($("#skill3_from_"+b).val()==10){$("[name=stage2_3_"+b+"]").html('<img src="i/Finish.png">')}else{$("[name=stage2_3_"+b+"]").html("<span>"+$("#skill3_from_"+b).val()+'</span><img src="i/Lock.png">')}$("[name=stage2_"+a+"_"+b+"]").fadeIn(100);break;case TargetPatternAppend1:dolock($("[name="+NameAppend1LockSelect+b+"]"),$(IDAppend1From+b),$(IDAppend1To+b),true);break;case TargetPatternAppend2:dolock($("[name="+NameAppend2LockSelect+b+"]"),$(IDAppend2From+b),$(IDAppend2To+b),true);break;case TargetPatternAppend3:dolock($("[name="+NameAppend3LockSelect+b+"]"),$(IDAppend3From+b),$(IDAppend3To+b),true);break;default:break}materialCalc(b)}else{if(lockSetting[b-1][a]==1){lockSetting[b-1][a]=0;switch(a){case 0:$("#sairin_to_"+b).val(4);$("[name=stage2_"+a+"_"+b+"]").fadeOut(100);break;case 1:$("#skill1_to_"+b).val(10);$("[name=stage2_"+a+"_"+b+"]").fadeOut(100);break;case 2:$("#skill2_to_"+b).val(10);$("[name=stage2_"+a+"_"+b+"]").fadeOut(100);break;case 3:$("#skill3_to_"+b).val(10);$("[name=stage2_"+a+"_"+b+"]").fadeOut(100);break;case TargetPatternAppend1:doUnlock($("[name="+NameAppend1LockSelect+b+"]"),$(IDAppend1From+b),$(IDAppend1To+b),true);break;case TargetPatternAppend2:doUnlock($("[name="+NameAppend2LockSelect+b+"]"),$(IDAppend2From+b),$(IDAppend2To+b),true);break;case TargetPatternAppend3:doUnlock($("[name="+NameAppend3LockSelect+b+"]"),$(IDAppend3From+b),$(IDAppend3To+b),true);break;default:break}materialCalc(b)}}}}function dolock(b,d,c,a){c.val(d.val());if(d.val()==10){b.html('<img src="i/Finish.png">')}else{b.html("<span>"+d.val()+'</span><img src="i/Lock.png">')}if(a){b.fadeIn(100)}else{b.show()}}function doUnlock(b,d,c,a){if(d.val()==c.val()){c.val(10)}if(a){b.fadeOut(100)}else{b.hide()}}function aiming(a,b){switch(a){case 0:$("#sairin_from_"+b).val(4);if($("#sairin_to_"+b).val()<4){$("#sairin_to_"+b).val(4)}break;case 1:if($("#skill1_from_"+b).val()<4){$("#skill1_from_"+b).val(4);if($("#skill1_to_"+b).val()<=4){$("#skill1_to_"+b).val(10)}}else{if($("#skill1_from_"+b).val()<6){$("#skill1_from_"+b).val(6);if($("#skill1_to_"+b).val()<=6){$("#skill1_to_"+b).val(10)}}else{if($("#skill1_from_"+b).val()<9){$("#skill1_from_"+b).val(9);if($("#skill1_to_"+b).val()<=9){$("#skill1_to_"+b).val(10)}}else{$("#skill1_from_"+b).val(10);if($("#skill1_to_"+b).val()<10){$("#skill1_to_"+b).val(10)}}}}break;case 2:if($("#skill2_from_"+b).val()<4){$("#skill2_from_"+b).val(4);if($("#skill2_to_"+b).val()<=4){$("#skill2_to_"+b).val(10)}}else{if($("#skill2_from_"+b).val()<6){$("#skill2_from_"+b).val(6);if($("#skill2_to_"+b).val()<=6){$("#skill2_to_"+b).val(10)}}else{if($("#skill2_from_"+b).val()<9){$("#skill2_from_"+b).val(9);if($("#skill2_to_"+b).val()<=9){$("#skill2_to_"+b).val(10)}}else{$("#skill2_from_"+b).val(10);if($("#skill2_to_"+b).val()<10){$("#skill2_to_"+b).val(10)}}}}break;case 3:if($("#skill3_from_"+b).val()<4){$("#skill3_from_"+b).val(4);if($("#skill3_to_"+b).val()<=4){$("#skill3_to_"+b).val(10)}}else{if($("#skill3_from_"+b).val()<6){$("#skill3_from_"+b).val(6);if($("#skill3_to_"+b).val()<=6){$("#skill3_to_"+b).val(10)}}else{if($("#skill3_from_"+b).val()<9){$("#skill3_from_"+b).val(9);if($("#skill3_to_"+b).val()<=9){$("#skill3_to_"+b).val(10)}}else{$("#skill3_from_"+b).val(10);if($("#skill3_to_"+b).val()<10){$("#skill3_to_"+b).val(10)}}}}break;case TargetPatternAppend1:doAim4_6_9_10($(IDAppend1From+b),$(IDAppend1To+b));break;case TargetPatternAppend2:doAim4_6_9_10($(IDAppend2From+b),$(IDAppend2To+b));break;case TargetPatternAppend3:doAim4_6_9_10($(IDAppend3From+b),$(IDAppend3To+b));break;default:break}materialCalc(b)}function doAim4_6_9_10(b,a){if(b.val()<4){b.val(4);if(a.val()<=4){a.val(10)}}else{if(b.val()<6){b.val(6);if(a.val()<=6){a.val(10)}}else{if(b.val()<9){b.val(9);if(a.val()<=9){a.val(10)}}else{b.val(10);a.val(10)}}}}function separate(b){b=String(b);var a=b.length;if(a>3){return separate(b.substring(0,a-3))+","+b.substring(a-3)}else{return b}}function saveLocalStorageServant(){var b=new Array();myServantdb[82]=initmyServantdbRow();if(localStorage.getItem("servant")==null){localStorage.removeItem("servant")}for(var a=0;a<Servantdb.length;a++){if(myServantdb[a][9]==1){if(myServantdb[a][10]!=0){myServantdb[a][10]=0}b.push(myServantdb[a])}}$("#handover_code").val(JSON.stringify(b));localStorage.setItem("servant",JSON.stringify(b))}function loadLocalStorageServant(){if(localStorage.getItem("servant")==null){localStorage.removeItem("servant")}if("servant" in localStorage){var b=localStorage.getItem("servant");b=JSON.parse(b);for(var a=0;a<b.length;a++){if(b[a][10]!=0){b[a][10]=0}myServantdb[b[a][0]-1]=b[a];if(myServantdb[b[a][0]-1].length<(myServantdbRowidxAppend3To+1)){myServantdb[b[a][0]-1].push(1,1,1,1,1,1)}}}else{saveLocalStorageServant()}}function saveLocalStorageInventory(){if(localStorage.getItem("inventory")==null){localStorage.removeItem("inventory")}$("#handover_code").val(JSON.stringify(inventoryNum));var a=inventoryNum;localStorage.setItem("inventory",JSON.stringify(a))}function loadLocalStorageInventory(){if(localStorage.getItem("inventory")==null){localStorage.removeItem("inventory")}if("inventory" in localStorage){var a=localStorage.getItem("inventory");a=JSON.parse(a);inventoryNum=a;var d=0;for(var c=0;c<2;c++){for(j=0;j<7;j++){d=100+c*10+j;if(d in inventoryNum==false){inventoryNum[d]=0}}}for(c=0;c<3;c++){for(j=0;j<7;j++){d=200+c*10+j;if(d in inventoryNum==false){inventoryNum[d]=0}}}for(c=0;c<BronzeMaterialCount;c++){d=300+c;if(d in inventoryNum==false){inventoryNum[d]=0}}for(c=0;c<SilverMaterialCount;c++){d=400+c;if(d in inventoryNum==false){inventoryNum[d]=0}}for(c=0;c<GoldMaterialCount;c++){d=500+c;if(d in inventoryNum==false){inventoryNum[d]=0}}for(c=0;c<EventMaterialCount;c++){d=600+c;delete inventoryNum[d]}for(var b in inventoryNum){if(b==900){document.getElementById("inv_"+b).rows[0].cells[1].innerText=separate(inventoryNum[b])}else{if(b>=600&&b<=620){}else{document.getElementById("inv_"+b).innerText=separate(inventoryNum[b])}}if(inventoryNum[b]>0){useInv=1;$("[name='result-btn']:checked").prop("checked",false);$("[name='result-btn'][value='1']").prop("checked",true);$("[name='result-chaldea']:checked").prop("checked",false);$("[name='result-chaldea'][value='1']").prop("checked",true)}}saveLocalStorageInventory()}else{saveLocalStorageInventory()}}function loadServant(e){var b="";var d;if(e.substr(0,1)=="["){var f=e;f=JSON.parse(f);for(var c=0;c<f.length;c++){var a=f[c].length;if((a==11||a==myServantdbRowidxAppend3To+1)&&f[c][0]<=Servantdb.length){if(f[c][1]<0||4<f[c][1]){f[c][1]=0}if(f[c][2]<0||4<f[c][2]){f[c][2]=0}if(f[c][3]<1||10<f[c][3]){f[c][3]=1}if(f[c][4]<1||10<f[c][4]){f[c][4]=10}if(f[c][5]<1||10<f[c][5]){f[c][5]=1}if(f[c][6]<1||10<f[c][6]){f[c][6]=10}if(f[c][7]<1||10<f[c][7]){f[c][7]=1}if(f[c][8]<1||10<f[c][8]){f[c][8]=10}if(f[c][9]!=1){f[c][9]=1}if(f[c][10]!=0){f[c][10]=0}if(a==11||f[c][myServantdbRowidxAppend1From]<1||10<f[c][myServantdbRowidxAppend1From]){f[c][myServantdbRowidxAppend1From]=1}if(a==11||f[c][myServantdbRowidxAppend1To]<1||10<f[c][myServantdbRowidxAppend1To]){f[c][myServantdbRowidxAppend1To]=1}if(a==11||f[c][myServantdbRowidxAppend2From]<1||10<f[c][myServantdbRowidxAppend2From]){f[c][myServantdbRowidxAppend2From]=1}if(a==11||f[c][myServantdbRowidxAppend2To]<1||10<f[c][myServantdbRowidxAppend2To]){f[c][myServantdbRowidxAppend2To]=1}if(a==11||f[c][myServantdbRowidxAppend3From]<1||10<f[c][myServantdbRowidxAppend3From]){f[c][myServantdbRowidxAppend3From]=1}if(a==11||f[c][myServantdbRowidxAppend3To]<1||10<f[c][myServantdbRowidxAppend3To]){f[c][myServantdbRowidxAppend3To]=1}myServantdb[f[c][0]-1]=f[c]}}saveLocalStorageServant();$("#handover_code").val("サーヴァントコード読込み完了")}else{if(e.substr(0,1)=="#"){e=e.slice(1);if(e.length%7==0){for(var c=0;c<Servantdb.length;c++){myServantdb[c]=initmyServantdbRow()}for(c=0;c<e.length/7;c++){b=e.substr(c*7,2);d=parseInt(b,36);myServantdb[d-1][0]=d;b=e.substr(2+c*7,5);b=String(parseInt(b,36));myServantdb[d-1][1]=parseInt(b.substr(0,1))-1;myServantdb[d-1][2]=parseInt(b.substr(1,1))-1;myServantdb[d-1][3]=parseInt(b.substr(2,1))+1;myServantdb[d-1][4]=parseInt(b.substr(3,1))+1;myServantdb[d-1][5]=parseInt(b.substr(4,1))+1;myServantdb[d-1][6]=parseInt(b.substr(5,1))+1;myServantdb[d-1][7]=parseInt(b.substr(6,1))+1;myServantdb[d-1][8]=parseInt(b.substr(7,1))+1;myServantdb[d-1][9]=1}}saveLocalStorageServant();$("#handover_code").val("サーヴァントコード読込み完了")}else{if(e.substr(0,1)=="*"){$("#handover_code").val("アイテムコードを検知しました。サーヴァントコードを入力してください。")}else{for(var c=0;c<Servantdb.length;c++){myServantdb[c]=initmyServantdbRow()}for(var c=0;c<Servantdb.length;c++){if(e.substr(c*12,3)!=""){myServantdb[c][0]=parseInt(e.substr(c*12,3));myServantdb[c][1]=parseInt(e.substr(c*12+3,1));myServantdb[c][2]=parseInt(e.substr(c*12+4,1));myServantdb[c][3]=parseInt(e.substr(c*12+5,1))+1;myServantdb[c][4]=parseInt(e.substr(c*12+6,1))+1;myServantdb[c][5]=parseInt(e.substr(c*12+7,1))+1;myServantdb[c][6]=parseInt(e.substr(c*12+8,1))+1;myServantdb[c][7]=parseInt(e.substr(c*12+9,1))+1;myServantdb[c][8]=parseInt(e.substr(c*12+10,1))+1;myServantdb[c][9]=parseInt(e.substr(c*12+11,1));myServantdb[c][10]=0}else{myServantdb[c]=initmyServantdbRow()}}saveLocalStorageServant()}}}}function loadInventory(f){var h=2+6+4+140+2+36+2+60+2+48;var e;var g;var d;var c;if(f.substr(0,2)=='{"'){getjson=JSON.parse(f);console.log(getjson);console.log(inventoryNum);inventoryNum=getjson;console.log(inventoryNum);for(var a in inventoryNum){if(a==900){document.getElementById("inv_"+a).rows[0].cells[1].innerText=separate(inventoryNum[a])}else{if(a>=600&&a<=620){}else{document.getElementById("inv_"+a).innerText=separate(inventoryNum[a])}}if(inventoryNum[a]>0){useInv=1;$("[name='result-btn']:checked").prop("checked",false);$("[name='result-btn'][value='1']").prop("checked",true);$("[name='result-chaldea']:checked").prop("checked",false);$("[name='result-chaldea'][value='1']").prop("checked",true)}}saveLocalStorageInventory();$("#handover_code").val("アイテムコード読込み完了")}else{if(f.substr(0,1)=="#"){$("#handover_code").val("サーヴァントコードを検知しました。アイテムコードを入力してください。")}else{if(f.substr(0,2)=="*c"){if(f.length!=h){g=f.indexOf("*b",0);d=f.indexOf("*s",0);c=f.indexOf("*g",0);if(g<152){for(var b=g;g<152;b++){f=f.slice(0,b)+"0"+f.slice(b)}}if(d<190){for(var b=d;d<190;b++){f=f.slice(0,b)+"0"+f.slice(b)}}if(c<252){for(var b=c;c<252;b++){f=f.slice(0,b)+"0"+f.slice(b)}}if(f.length<h){f="0";for(b=0;f.length<h;b++){f+="0"}}}e=f.substr(2,150);g=f.substr(154,4*9);d=f.substr(192,4*15);c=f.substr(254,4*12);inventoryNum[900]=parseInt(e.substr(0,6),36);inventoryNum[800]=parseInt(e.substr(6,4),36);for(var b=0;b<7;b++){inventoryNum[100+b]=parseInt(e.substr(10+b*4,4),36)}for(var b=0;b<7;b++){inventoryNum[110+b]=parseInt(e.substr(38+b*4,4),36)}for(var b=0;b<7;b++){inventoryNum[200+b]=parseInt(e.substr(66+b*4,4),36)}for(var b=0;b<7;b++){inventoryNum[210+b]=parseInt(e.substr(94+b*4,4),36)}for(var b=0;b<7;b++){inventoryNum[220+b]=parseInt(e.substr(122+b*4,4),36)}for(var b=0;b<BronzeMaterialCount;b++){inventoryNum[300+b]=parseInt(g.substr(b*4,4),36)}for(var b=0;b<SilverMaterialCount;b++){inventoryNum[400+b]=parseInt(d.substr(b*4,4),36)}for(var b=0;b<GoldMaterialCount;b++){inventoryNum[500+b]=parseInt(c.substr(b*4,4),36)}saveLocalStorageInventory();$("#handover_code").val("アイテムコード読込み完了")}else{if(f.length<349){for(var b=f.length;b<349;b++){f+="0"}}e=f.substr(0,189);g=f.substr(189,45);d=f.substr(234,75);c=f.substr(309,60);inventoryNum[900]=parseInt(e.substr(0,9));inventoryNum[800]=parseInt(e.substr(9,5));for(var b=0;b<7;b++){inventoryNum[100+b]=parseInt(e.substr(14+b*5,5))}for(var b=0;b<7;b++){inventoryNum[110+b]=parseInt(e.substr(49+b*5,5))}for(var b=0;b<7;b++){inventoryNum[200+b]=parseInt(e.substr(84+b*5,5))}for(var b=0;b<7;b++){inventoryNum[210+b]=parseInt(e.substr(119+b*5,5))}for(var b=0;b<7;b++){inventoryNum[220+b]=parseInt(e.substr(154+b*5,5))}for(var b=0;b<BronzeMaterialCount;b++){inventoryNum[300+b]=parseInt(g.substr(b*5,5))}for(var b=0;b<SilverMaterialCount;b++){inventoryNum[400+b]=parseInt(d.substr(b*5,5))}for(var b=0;b<GoldMaterialCount;b++){inventoryNum[500+b]=parseInt(c.substr(b*5,5))}saveLocalStorageInventory();$("#handover_code").val("アイテムコード読込み完了")}}}for(var a in inventoryNum){if(a==900){document.getElementById("inv_"+a).rows[0].cells[1].innerText=separate(inventoryNum[a])}else{if(a>=600&&a<=620){}else{document.getElementById("inv_"+a).innerText=separate(inventoryNum[a])}}if(inventoryNum[a]>0){useInv=1;$("[name='result-btn']:checked").prop("checked",false);$("[name='result-btn'][value='1']").prop("checked",true);$("[name='result-chaldea']:checked").prop("checked",false);$("[name='result-chaldea'][value='1']").prop("checked",true)}}}function statusSetting(){$(".status-filter").slideToggle();$(".filterBox").slideToggle()}function attrSetting(){if($(".filterABox").is(":hidden")){$({deg:0}).animate({deg:180},{duration:100,easing:"linear",progress:function(){$("#arrow-a").css({transform:"rotate("+this.deg+"deg)"})}})}else{$({deg:180}).animate({deg:0},{duration:100,easing:"linear",progress:function(){$("#arrow-a").css({transform:"rotate("+this.deg+"deg)"})}})}$(".filterABox").slideToggle()}function NPSetting(){if($(".filterNPBox").is(":hidden")){$({deg:0}).animate({deg:180},{duration:100,easing:"linear",progress:function(){$("#arrow-np").css({transform:"rotate("+this.deg+"deg)"})}})}else{$({deg:180}).animate({deg:0},{duration:100,easing:"linear",progress:function(){$("#arrow-np").css({transform:"rotate("+this.deg+"deg)"})}})}$(".filterNPBox").slideToggle()}function SkillSetting(){if($(".filterSBox").is(":hidden")){$({deg:0}).animate({deg:180},{duration:100,easing:"linear",progress:function(){$("#arrow-s").css({transform:"rotate("+this.deg+"deg)"})}})}else{$({deg:180}).animate({deg:0},{duration:100,easing:"linear",progress:function(){$("#arrow-s").css({transform:"rotate("+this.deg+"deg)"})}})}$(".filterSBox").slideToggle()}var predicate=function(b,d,c){if(b==0){return true}else{return false}};function centeringModalSyncer(c){var b=$(window).width();var e=$(window).height();switch(c){case 1:var a=$("#modal-content").outerWidth();var d=$("#modal-content").outerHeight();break;case 2:var a=$("#footer").outerWidth();var d=$("#footer").outerHeight();break;case 3:var a=$("#select-servant").outerWidth();var d=$("#select-servant").outerHeight();$(".select-slide").css({width:a+"px"});break;case 4:var a=$("#reverse-search").outerWidth();var d=$("#reverse-search").outerHeight();break;case 5:var a=$("#modal-inventory").outerWidth();var d=$("#modal-inventory").outerHeight();break;case 6:var a=$("#inventory-input").outerWidth();var d=$("#inventory-input").outerHeight();break;case 7:var a=$("#check-delete").outerWidth();var d=$("#check-delete").outerHeight();break;case 8:var a=$("#changeLng").outerWidth();var d=$("#changeLng").outerHeight();break;case 9:var a=$(".filterBox").outerWidth();var d=$(".filterBox").outerHeight();break;default:break}switch(c){case 1:$("#modal-content").css({left:((b-a)/2)+"px",top:"0px"});break;case 2:$("#footer").css({left:((b-a)/2)+"px",top:"0px"});break;case 3:$("#select-servant").css({left:((b-a)/2)+"px",top:"0px"});break;case 4:$("#reverse-search").css({left:((b-a)/2)+"px",top:"0px"});break;case 5:$("#modal-inventory").css({left:((b-a)/2)+"px",top:"0px"});break;case 6:$("#inventory-input").css({left:((b-a)/2)+"px",top:"50px"});break;case 7:$("#check-delete").css({left:((b-a)/2)+"px",top:((e-d)/2)+"px"});break;case 8:$("#changeLng").css({left:((b-a)/2)+"px",top:((e-d)/2)+"px"});break;case 9:$(".filterBox").css({left:((b-a)/2)+"px",top:((e-d)/2)+"px"});break;default:break}}$(function(){$(document).on("click","#modal-overlay,[name='close-btn']",function(){$("#select-servant,#modal-inventory,#modal-content,#modal-overlay").fadeOut(200,function(){$(".reverseBox").hide();$(".status-filter").show();$(".filterBox").hide();$("[name='class-btn']:checked").prop("checked",false);$("[name='class-btn'][value='0']").prop("checked",true);$('div[class="box_focus_total"]:has(.selected-material-icon)').remove();$(".setting-btn").hide();clnum=200;renum=0;statusnum=0;chaldeanum=0;$("#modal-overlay").remove()})});$(document).on("click","[name='reverse-func']",function(){switch($("[name='reverse-func']:checked").val()){case"0":$(".reverse-content").show();$(".reverse-login").hide();$(".reverse-event").hide();break;case"1":$(".reverse-login").show();$(".reverse-content").hide();$(".reverse-event").hide();break;case"2":$(".reverse-event").show();$(".reverse-content").hide();$(".reverse-login").hide();break;default:break}if(renum==0){$(".select-slide").css({height:Math.floor($(window).height()-($(".select-servant-title").outerHeight()+$(".select-class").outerHeight()))+"px"})}else{$(".select-slide").css({height:Math.floor($(window).height()-($(".select-servant-title").outerHeight()+$(".reverseBox").outerHeight()+$(".select-class").outerHeight()))+"px"})}if(statusnum==1){$(".select-slide").css({height:Math.floor($(window).height()-($(".select-servant-title").outerHeight()+$(".status-filter").outerHeight()+$(".select-class").outerHeight()))+"px"})}});$("[name='class-btn'],[name='reverse-btn']").click(function(){clnum=$("[name='class-btn']:checked").val();ChangeServantIcon();if(renum==0){$(".select-slide").css({height:Math.floor($(window).height()-($(".select-servant-title").outerHeight()+$(".select-class").outerHeight()))+"px"})}else{$(".select-slide").css({height:Math.floor($(window).height()-($(".select-servant-title").outerHeight()+$(".reverseBox").outerHeight()+$(".select-class").outerHeight()))+"px"})}if(statusnum==1){$(".select-slide").css({height:Math.floor($(window).height()-($(".select-servant-title").outerHeight()+$(".status-filter").outerHeight()+$(".select-class").outerHeight()))+"px"})}});$("[name='policy-btn']").click(function(){if($(this).val()==statusArray[0]){$(this).prop("checked",false);statusArray[0]=0;$(".filterIcon-policy").hide();if(statusArray.every(predicate)==1){$("#filter-nofilter").show()}}else{statusArray[0]=$(this).val();$("#filter-nofilter,.filterIcon-policy").hide();$("#filter-policy"+statusArray[0]).show()}ChangeServantIcon()});$("[name='personal-btn']").click(function(){if($(this).val()==statusArray[1]){$(this).prop("checked",false);statusArray[1]=0;$(".filterIcon-personal").hide();if(statusArray.every(predicate)==1){$("#filter-nofilter").show()}}else{statusArray[1]=$(this).val();$("#filter-nofilter,.filterIcon-personal").hide();$("#filter-personal"+statusArray[1]).show()}ChangeServantIcon()});$("[name='attribute-btn']").click(function(){if($(this).val()==statusArray[2]){$(this).prop("checked",false);statusArray[2]=0;$(".filterIcon-attribute").hide();if(statusArray.every(predicate)==1){$("#filter-nofilter").show()}}else{statusArray[2]=$(this).val();$("#filter-nofilter,.filterIcon-attribute").hide();$("#filter-attribute"+statusArray[2]).show()}ChangeServantIcon()});$("#status_divinity").click(function(){if($("#status_divinity").prop("checked")){statusArray[3]=1;$("#filter-nofilter").hide();$("#filter-divinity").show()}else{statusArray[3]=0;if(statusArray.every(predicate)==1){$("#filter-nofilter").show()}$("#filter-divinity").hide()}ChangeServantIcon()});$("#status_dragon").click(function(){if($("#status_dragon").prop("checked")){statusArray[4]=1;$("#filter-nofilter").hide();$("#filter-dragon").show()}else{statusArray[4]=0;if(statusArray.every(predicate)==1){$("#filter-nofilter").show()}$("#filter-dragon").hide()}ChangeServantIcon()});$("#status_roma").click(function(){if($("#status_roma").prop("checked")){statusArray[5]=1;$("#filter-nofilter").hide();$("#filter-roma").show()}else{statusArray[5]=0;if(statusArray.every(predicate)==1){$("#filter-nofilter").show()}$("#filter-roma").hide()}ChangeServantIcon()});$("#status_savagebeast").click(function(){if($("#status_savagebeast").prop("checked")){statusArray[6]=1;$("#filter-nofilter").hide();$("#filter-savagebeast").show();filternum++}else{statusArray[6]=0;if(statusArray.every(predicate)==1){$("#filter-nofilter").show()}$("#filter-savagebeast").hide()}ChangeServantIcon()});$("#status_riding").click(function(){if($("#status_riding").prop("checked")){statusArray[7]=1;$("#filter-nofilter").hide();$("#filter-riding").show()}else{statusArray[7]=0;if(statusArray.every(predicate)==1){$("#filter-nofilter").show()}$("#filter-riding").hide()}ChangeServantIcon()});$("#status_love").click(function(){if($("#status_love").prop("checked")){statusArray[8]=1;$("#filter-nofilter").hide();$("#filter-love").show()}else{statusArray[8]=0;if(statusArray.every(predicate)==1){$("#filter-nofilter").show()}$("#filter-love").hide()}ChangeServantIcon()});$("#status_devilish").click(function(){if($("#status_devilish").prop("checked")){statusArray[9]=1;$("#filter-nofilter").hide();$("#filter-devilish").show()}else{statusArray[9]=0;if(statusArray.every(predicate)==1){$("#filter-nofilter").show()}$("#filter-devilish").hide()}ChangeServantIcon()});$("#status_davinci").click(function(){if($("#status_davinci").prop("checked")){statusArray[10]=1;$("#filter-nofilter").hide();$("#filter-davinci").show()}else{statusArray[10]=0;if(statusArray.every(predicate)==1){$("#filter-nofilter").show()}$("#filter-davinci").hide()}ChangeServantIcon()});$("#status_face").click(function(){if($("#status_face").prop("checked")){statusArray[11]=1;$("#filter-nofilter").hide();$("#filter-face").show()}else{statusArray[11]=0;if(statusArray.every(predicate)==1){$("#filter-nofilter").show()}$("#filter-face").hide()}ChangeServantIcon()});$("#status_arthur").click(function(){if($("#status_arthur").prop("checked")){statusArray[12]=1;$("#filter-nofilter").hide();$("#filter-arthur").show()}else{statusArray[12]=0;if(statusArray.every(predicate)==1){$("#filter-nofilter").show()}$("#filter-arthur").hide()}ChangeServantIcon()});$("[name='nptype-btn']").click(function(){if($(this).val()==statusArray[13]){$(this).prop("checked",false);statusArray[13]=0;$(".filterIcon-npType").hide();if(statusArray.every(predicate)==1){$("#filter-nofilter").show()}}else{statusArray[13]=$(this).val();$("#filter-nofilter,.filterIcon-npType").hide();$("#filter-nptype"+statusArray[13]).show()}ChangeServantIcon()});$("[name='npeffect-btn']").click(function(){if($(this).val()==statusArray[14]){$(this).prop("checked",false);statusArray[14]=0;$(".filterIcon-npEffect").hide();if(statusArray.every(predicate)==1){$("#filter-nofilter").show()}}else{statusArray[14]=$(this).val();$("#filter-nofilter,.filterIcon-npEffect").hide();$("#filter-npeffect"+statusArray[14]).show()}ChangeServantIcon()});$("[name='npEX-btn']").click(function(){if($(this).val()==statusArray[15]){$(this).prop("checked",false);statusArray[15]=0;$(".filterIcon-npEX").hide();if(statusArray.every(predicate)==1){$("#filter-nofilter").show()}}else{statusArray[15]=$(this).val();$("#filter-nofilter,.filterIcon-npEX").hide();switch(statusArray[15]){case"1":$("#filter-npEXmale").show();break;case"2":$("#filter-npEXfemale").show();break;case"3":$("#filter-npEXdivine").show();break;case"4":$("#filter-npEXdragon").show();break;case"5":$("#filter-npEXpoison").show();break;case"6":$("#filter-npEXriding").show();break;case"7":$("#filter-npEXlove").show();break;case"8":$("#filter-npEXevil").show();break;case"9":$("#filter-npEXdemonic").show();break;case"10":$("#filter-npEXskyearth").show();break;case"11":$("#filter-pEXservant").show();break;case"12":$("#filter-npEXface").show();break;case"13":$("#filter-npEXarthur").show();break;case"14":$("#filter-npEXsaber").show();break;default:break}}ChangeServantIcon()});$("[name='sEX-btn']").click(function(){if($(this).val()==statusArray[16]){$(this).prop("checked",false);statusArray[16]=0;$(".filterIcon-sEX").hide();if(statusArray.every(predicate)==1){$("#filter-nofilter").show()}}else{statusArray[16]=$(this).val();$("#filter-nofilter,.filterIcon-sEX").hide();switch(statusArray[16]){case"1":$("#filter-sEXmale").show();break;case"2":$("#filter-sEXdivine").show();break;case"3":$("#filter-sEXdragon").show();break;case"4":$("#filter-sEXroma").show();break;case"5":$("#filter-sEXsavagebeast").show();break;case"6":$("#filter-sEXevil").show();break;case"7":$("#filter-sEXdemonic").show();break;case"8":$("#filter-sEXskyearth").show();break;case"9":$("#filter-sEXhuman").show();break;case"10":$("#filter-sEXhumanoid").show();break;case"11":$("#filter-sEXundead").show();break;case"12":$("#filter-sEXdemon").show();break;case"13":$("#filter-sEXlarge").show();break;case"14":$("#filter-sEXsaber").show();break;default:break}}ChangeServantIcon()});$("#reset_filter").click(function(){for(i=0;i<18;i++){statusArray[i]=0}$(".policyBox>input,.personalBox>input,.attributeBox>input,.etcBox>input,.nptypeBox>input,.npeffectBox>input,.exNPBox>input,.exSkillBox>input").prop({checked:false});$(".filterIcon-policy,.filterIcon-personal,.filterIcon-attribute,.filterIcon-etc,.filterIcon-npType,.filterIcon-npEffect,.filterIcon-npEX,.filterIcon-sEX").hide();$("#filter-nofilter").show();ChangeServantIcon()});$(".material-icon").click(function(){renum=$(this).val();$("[name='class-btn']:checked").prop("checked",false);$("[name='class-btn'][value='0']").prop("checked",true);clnum=$("[name='class-btn']:checked").val();$(".reverse-show").fadeOut("fast");ChangeServantIcon();$(".select-show").delay(200).fadeIn("fast")});$(".selectedMaterial").click(function(){renum=0;$(".select-show").fadeOut("fast");$(".reverse-show").delay(200).fadeIn("fast")});$(document).on("click",".servant-icon,.servant-focus,.input_chaldea",function(){$(this).removeClass("servant-icon");$(this).removeClass("servant-focus");$(this).removeClass("input_chaldea");$(this).addClass("servant-selected");numCalcServantId[numServantSelect-1]=parseInt($(this).val());var c=parseInt($(this).val())-1;FromSkillLvOption='<option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>';ToSkillLvOption='<option value="10">10</option><option value="9">9</option><option value="8">8</option><option value="7">7</option><option value="6">6</option><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option>';ASkill1='<tr id="stage3_1_'+numServantSelect+'" class="stage"><td colspan="2" class="stage-title"><input type="button" value="APPEND 1" class="lock_btn" name="'+numServantSelect+'"></td><td><div class="lock-select" name="stage3_1_'+numServantSelect+'"></div><select id="askill1_from_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'">'+FromSkillLvOption+'</select></td><td><img src="i/11.png" class="arrow" name="4_'+numServantSelect+'"></td><td><select id="askill1_to_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'">'+ToSkillLvOption+"</select></td></tr>";ASkill2='<tr id="stage3_2_'+numServantSelect+'" class="stage"><td colspan="2" class="stage-title"><input type="button" value="APPEND 2" class="lock_btn" name="'+numServantSelect+'"></td><td><div class="lock-select" name="stage3_2_'+numServantSelect+'"></div><select id="askill2_from_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'">'+FromSkillLvOption+'</select></td><td><img src="i/11.png" class="arrow" name="5_'+numServantSelect+'"></td><td><select id="askill2_to_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'">'+ToSkillLvOption+"</select></td></tr>";ASkill3='<tr id="stage3_3_'+numServantSelect+'" class="stage"><td colspan="2" class="stage-title"><input type="button" value="APPEND 3" class="lock_btn" name="'+numServantSelect+'"></td><td><div class="lock-select" name="stage3_3_'+numServantSelect+'"></div><select id="askill3_from_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'">'+FromSkillLvOption+'</select></td><td><img src="i/11.png" class="arrow" name="6_'+numServantSelect+'"></td><td><select id="askill3_to_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'">'+ToSkillLvOption+"</select></td></tr>";modalSkill1='<div class="box_calcicon"><figure class="fig-relative" id="sci1_'+numServantSelect+'"><img src="i/icon_skills/'+Servantdb[numCalcServantId[numServantSelect-1]-1].icon1+'.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci1_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici1_'+numServantSelect+'">0</span></div></figure></div>';modalSkill2='<div class="box_calcicon"><figure class="fig-relative" id="sci2_'+numServantSelect+'"><img src="i/icon_skills/'+Servantdb[numCalcServantId[numServantSelect-1]-1].icon2+'.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci2_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici2_'+numServantSelect+'">0</span></div></figure></div>';modalSkill3='<div class="box_calcicon"><figure class="fig-relative" id="sci3_'+numServantSelect+'"><img src="i/icon_skills/'+Servantdb[numCalcServantId[numServantSelect-1]-1].icon3+'.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci3_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici3_'+numServantSelect+'">0</span></div></figure></div>';modalASkill1='<div class="box_calcicon"><figure class="fig-relative" id="sci4_'+numServantSelect+'"><img src="i/icon_skills/107.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci4_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici4_'+numServantSelect+'">0</span></div></figure></div>';modalASkill2='<div class="box_calcicon"><figure class="fig-relative" id="sci5_'+numServantSelect+'"><img src="i/icon_skills/600.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci5_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici5_'+numServantSelect+'">0</span></div></figure></div>';modalASkill3='<div class="box_calcicon"><figure class="fig-relative" id="sci6_'+numServantSelect+'"><img src="i/icon_skills/105.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci6_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici6_'+numServantSelect+'">0</span></div></figure></div>';var d="";if(language==0){d=Servantdb[numCalcServantId[numServantSelect-1]-1].text}else{d=Servantdb[numCalcServantId[numServantSelect-1]-1].text2}if(numServantSelect>showBox){$(".boxContainer").append('<div id="sBox_'+numServantSelect+'"class="box"><table border="0" id="calc_'+numServantSelect+'" class="totaltable"><tr id="stage0_'+numServantSelect+'"><form id="'+numServantSelect+'"><td class="box-servant-icon" name="'+numServantSelect+'"><img src="i/icon_servants/missing.jpg?20190827"></td><td colspan="4" class="servantName" name="'+numServantSelect+'"><span id="servantName_'+numServantSelect+'">NO DATA</span></td></tr><tr id="stage2_0_'+numServantSelect+'" class="stage"><td colspan="2" class="stage-title"><input type="button" value="'+GetText(GetTextAscension)+'" class="lock_btn" name="'+numServantSelect+'"></td><td><div class="lock-select" name="stage2_0_'+numServantSelect+'"></div><select id="sairin_from_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'"><option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option></select></td><td><img src="i/11.png" class="arrow" name="0_'+numServantSelect+'"></td><td><select id="sairin_to_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'"><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option><option value="0">0</option></select></td></tr><tr id="stage2_1_'+numServantSelect+'" class="stage"><td colspan="2" class="stage-title"><input type="button" value="SKILL 1" class="lock_btn" name="'+numServantSelect+'"></td><td><div class="lock-select" name="stage2_1_'+numServantSelect+'"></div><select id="skill1_from_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option></select></td><td><img src="i/11.png" class="arrow" name="1_'+numServantSelect+'"></td><td><select id="skill1_to_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'"><option value="10">10</option><option value="9">9</option><option value="8">8</option><option value="7">7</option><option value="6">6</option><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option></select></td></tr><tr id="stage2_2_'+numServantSelect+'" class="stage"><td colspan="2" class="stage-title"><input type="button" value="SKILL 2" class="lock_btn" name="'+numServantSelect+'"></td><td><div class="lock-select" name="stage2_2_'+numServantSelect+'"></div><select id="skill2_from_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option></select></td><td><img src="i/11.png" class="arrow" name="2_'+numServantSelect+'"></td><td><select id="skill2_to_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'"><option value="10">10</option><option value="9">9</option><option value="8">8</option><option value="7">7</option><option value="6">6</option><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option></select></td></tr><tr id="stage2_3_'+numServantSelect+'" class="stage"><td colspan="2" class="stage-title"><input type="button" value="SKILL 3" class="lock_btn" name="'+numServantSelect+'"></td><td><div class="lock-select" name="stage2_3_'+numServantSelect+'"></div><select id="skill3_from_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option></select></td><td><img src="i/11.png" class="arrow" name="3_'+numServantSelect+'"></td><td><select id="skill3_to_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'"><option value="10">10</option><option value="9">9</option><option value="8">8</option><option value="7">7</option><option value="6">6</option><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option></select></td></tr>'+ASkill1+ASkill2+ASkill3+'</form></table><div class="delete-btn" name="'+numServantSelect+'">Delete</div><div class="change-btn" name="'+numServantSelect+'">Change</div></div>');$("#modai_CalcIcon").append('<div class="boxCalcIconContainer" id="CalcIcon'+numServantSelect+'"><div style="display: grid; grid-template-columns: repeat(4, 1fr);"><div class="box_calcicon" style="grid-row-start: 1; grid-row-end: 3;"><figure class="fig-relative" id="sci0_'+numServantSelect+'"><img src="i/icon_servants/'+numCalcServantId[numServantSelect-1]+'.jpg?20190827"><figcaption class="num-CalcIcon"><span id="bci0_'+numServantSelect+'"></span></figcaption><div class="num-Individual"><span id="ici0_'+numServantSelect+'">0</span></div></figure></div>'+modalSkill1+modalSkill2+modalSkill3+modalASkill1+modalASkill2+modalASkill3+"</div></div>")}else{document.getElementById("sci0_"+numServantSelect).innerHTML='<img src="i/icon_servants/'+numCalcServantId[numServantSelect-1]+'.jpg?20190827"><figcaption class="num-CalcIcon"><span id="bci0_'+numServantSelect+'"></span></figcaption>';document.getElementById("sci1_"+numServantSelect).innerHTML='<img src="i/icon_skills/'+Servantdb[numCalcServantId[numServantSelect-1]-1].icon1+'.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci1_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption>';document.getElementById("sci2_"+numServantSelect).innerHTML='<img src="i/icon_skills/'+Servantdb[numCalcServantId[numServantSelect-1]-1].icon2+'.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci2_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption>';document.getElementById("sci3_"+numServantSelect).innerHTML='<img src="i/icon_skills/'+Servantdb[numCalcServantId[numServantSelect-1]-1].icon3+'.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci3_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption>';document.getElementById("sci4_"+numServantSelect).innerHTML='<img src="i/icon_skills/107.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci4_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption>';document.getElementById("sci5_"+numServantSelect).innerHTML='<img src="i/icon_skills/600.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci5_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption>';document.getElementById("sci6_"+numServantSelect).innerHTML='<img src="i/icon_skills/105.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci6_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption>'}document.getElementById("servantName_"+numServantSelect).innerText=d;document.getElementById("calc_"+numServantSelect).rows[0].cells[0].innerHTML='<img src="i/icon_servants/'+numCalcServantId[numServantSelect-1]+'.jpg?20190827">';$("#sairin_from_"+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][1]);$("#sairin_to_"+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][2]);$("#skill1_from_"+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][3]);$("#skill1_to_"+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][4]);$("#skill2_from_"+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][5]);$("#skill2_to_"+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][6]);$("#skill3_from_"+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][7]);$("#skill3_to_"+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][8]);myServantdb[numCalcServantId[numServantSelect-1]-1][10]=1;$(IDAppend1From+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][myServantdbRowidxAppend1From]);$(IDAppend1To+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][myServantdbRowidxAppend1To]);$(IDAppend2From+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][myServantdbRowidxAppend2From]);$(IDAppend2To+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][myServantdbRowidxAppend2To]);$(IDAppend3From+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][myServantdbRowidxAppend3From]);$(IDAppend3To+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][myServantdbRowidxAppend3To]);locking(numServantSelect,lockingPatternAll);if(renum>0){if(clnum==13){if(rev==10){if(renum in Servantdb[c].AdAgain1==true){tempNumtotal-=Servantdb[c].AdAgain1[renum]}if(renum in Servantdb[c].AdAgain2==true){tempNumtotal-=Servantdb[c].AdAgain2[renum]}if(renum in Servantdb[c].AdAgain3==true){tempNumtotal-=Servantdb[c].AdAgain3[renum]}if(renum in Servantdb[c].AdAgain4==true){tempNumtotal-=Servantdb[c].AdAgain4[renum]}}else{if(renum in Servantdb[c].skill1==true){tempNumtotal-=Servantdb[c].skill1[renum]*3}if(renum in Servantdb[c].skill2==true){tempNumtotal-=Servantdb[c].skill2[renum]*3}if(renum in Servantdb[c].skill3==true){tempNumtotal-=Servantdb[c].skill3[renum]*3}if(renum in Servantdb[c].skill4==true){tempNumtotal-=Servantdb[c].skill4[renum]*3}if(renum in Servantdb[c].skill5==true){tempNumtotal-=Servantdb[c].skill5[renum]*3}if(renum in Servantdb[c].skill6==true){tempNumtotal-=Servantdb[c].skill6[renum]*3}if(renum in Servantdb[c].skill7==true){tempNumtotal-=Servantdb[c].skill7[renum]*3}if(renum in Servantdb[c].skill8==true){tempNumtotal-=Servantdb[c].skill8[renum]*3}if(renum in Servantdb[c].skill9==true){tempNumtotal-=Servantdb[c].skill9[renum]*3}}}else{if(rev==10){if(Servantdb[c].kind==clnum&&renum in Servantdb[c].AdAgain1==true){tempNumtotal-=Servantdb[c].AdAgain1[renum]}if(Servantdb[c].kind==clnum&&renum in Servantdb[c].AdAgain2==true){tempNumtotal-=Servantdb[c].AdAgain2[renum]}if(Servantdb[c].kind==clnum&&renum in Servantdb[c].AdAgain3==true){tempNumtotal-=Servantdb[c].AdAgain3[renum]}if(Servantdb[c].kind==clnum&&renum in Servantdb[c].AdAgain4==true){tempNumtotal-=Servantdb[c].AdAgain4[renum]}}else{if(Servantdb[c].kind==clnum&&renum in Servantdb[c].skill1==true){tempNumtotal-=Servantdb[c].skill1[renum]*3}if(Servantdb[c].kind==clnum&&renum in Servantdb[c].skill2==true){tempNumtotal-=Servantdb[c].skill2[renum]*3}if(Servantdb[c].kind==clnum&&renum in Servantdb[c].skill3==true){tempNumtotal-=Servantdb[c].skill3[renum]*3}if(Servantdb[c].kind==clnum&&renum in Servantdb[c].skill4==true){tempNumtotal-=Servantdb[c].skill4[renum]*3}if(Servantdb[c].kind==clnum&&renum in Servantdb[c].skill5==true){tempNumtotal-=Servantdb[c].skill5[renum]*3}if(Servantdb[c].kind==clnum&&renum in Servantdb[c].skill6==true){tempNumtotal-=Servantdb[c].skill6[renum]*3}if(Servantdb[c].kind==clnum&&renum in Servantdb[c].skill7==true){tempNumtotal-=Servantdb[c].skill7[renum]*3}if(Servantdb[c].kind==clnum&&renum in Servantdb[c].skill8==true){tempNumtotal-=Servantdb[c].skill8[renum]*3}if(Servantdb[c].kind==clnum&&renum in Servantdb[c].skill9==true){tempNumtotal-=Servantdb[c].skill9[renum]*3}}}}document.getElementById("focus_total").innerText=tempNumtotal;if(numServantSelect>showBox){showBox++;numServantSelect++}if(numServantSelect<=showBox){$("#select-servant,#modal-overlay").fadeOut("fast",function(){$(".reverseBox").hide();$(".filterBox").hide();$("[name='class-btn']:checked").prop("checked",false);$("[name='class-btn'][value='0']").prop("checked",true);$('div[class="box_focus_total"]:has(.selected-material-icon)').remove();$(".setting-btn").hide();clnum=200;renum=0;statusnum=0;$("#modal-overlay").remove()})}if(numServantSelect>Servantdb.length){$(".box_plus").fadeOut("fast");showBox=Servantdb.length;$("#select-servant,#modal-overlay").fadeOut("fast",function(){$(".reverseBox").hide();$(".status-filter").show();$(".filterBox").hide();$("[name='class-btn']:checked").prop("checked",false);$("[name='class-btn'][value='0']").prop("checked",true);$('div[class="box_focus_total"]:has(.selected-material-icon)').remove();$(".setting-btn").hide();clnum=200;renum=0;statusnum=0;$("#modal-overlay").remove()})}});$("#modal-open").click(function(){materialTotal();$(this).blur();if($("#modal-overlay")[0]){return false}$("body").append('<div id="modal-overlay"></div>');$("#modal-overlay").fadeIn("fast");centeringModalSyncer(1);$("#modal-content").fadeIn("fast")});$("[name='result-btn']").click(function(){var e=$("[name='result-btn']:checked").val();if(e==0){useInv=0}else{if(e==1){useInv=1}else{useInv=2}}for(var c in mTotalNum){if(mTotalNum[c]>0){$("#box_"+c).show("fast")}}$(".num-Individual").hide("fast");numIndividual=0;for(i=0;i<showBox;i++){var d=i+1;$("#ici0_"+d).css("color","Silver");$("#ici1_"+d).css("color","Silver");$("#ici2_"+d).css("color","Silver");$("#ici3_"+d).css("color","Silver");$("#ici4_"+d).css("color","Silver");$("#ici5_"+d).css("color","Silver");$("#ici6_"+d).css("color","Silver");$(".num-Individual").css("fontSize","1.7em")}materialTotal()});$("[name='result-chaldea']").click(function(){var e=$("[name='result-chaldea']:checked").val();if(e==0){useInv=0}else{if(e==1){useInv=1}else{useInv=2}}for(var c in mTotalChaldea){if(mTotalChaldea[c]>0){$("#chaldea_box_"+c).show("fast")}}$(".num-Individual").hide("fast");numIndividual=0;for(i=0;i<showBox;i++){var d=i+1;$("#ici0_"+d).css("color","Silver");$("#ici1_"+d).css("color","Silver");$("#ici2_"+d).css("color","Silver");$("#ici3_"+d).css("color","Silver");$("#ici4_"+d).css("color","Silver");$("#ici5_"+d).css("color","Silver");$("#ici6_"+d).css("color","Silver");$(".num-Individual").css("fontSize","1.7em")}chaldeaTotal()});$(".box_item").click(function(){var e=$(this).attr("id");e=Number(e.slice(4));if(useInv!=0){return}if(numIndividual==0){for(i=0;i<showBox;i++){var d=i+1;if(e==900){$(".num-Individual").css("fontSize","0.6em")}if(Number(numCalcServantMaterial[i][e][0])>0){if(e==900){$("#ici0_"+d).text(separate(Number(numCalcServantMaterial[i][e][0])))}else{$("#ici0_"+d).text(Number(numCalcServantMaterial[i][e][0]))}$("#ici0_"+d).css("color","Black")}else{$("#ici0_"+d).text(Number(numCalcServantMaterial[i][e][0]))}if(Number(numCalcServantMaterial[i][e][1])>0){if(e==900){$("#ici1_"+d).text(separate(Number(numCalcServantMaterial[i][e][1])))}else{$("#ici1_"+d).text(Number(numCalcServantMaterial[i][e][1]))}$("#ici1_"+d).css("color","Black")}else{$("#ici1_"+d).text(Number(numCalcServantMaterial[i][e][1]))}if(Number(numCalcServantMaterial[i][e][2])>0){if(e==900){$("#ici2_"+d).text(separate(Number(numCalcServantMaterial[i][e][2])))}else{$("#ici2_"+d).text(Number(numCalcServantMaterial[i][e][2]))}$("#ici2_"+d).css("color","Black")}else{$("#ici2_"+d).text(Number(numCalcServantMaterial[i][e][2]))}if(Number(numCalcServantMaterial[i][e][3])>0){if(e==900){$("#ici3_"+d).text(separate(Number(numCalcServantMaterial[i][e][3])))}else{$("#ici3_"+d).text(Number(numCalcServantMaterial[i][e][3]))}$("#ici3_"+d).css("color","Black")}else{$("#ici3_"+d).text(Number(numCalcServantMaterial[i][e][3]))}if(Number(numCalcServantMaterial[i][e][4])>0){if(e==900){$("#ici4_"+d).text(separate(Number(numCalcServantMaterial[i][e][4])))}else{$("#ici4_"+d).text(Number(numCalcServantMaterial[i][e][4]))}$("#ici4_"+d).css("color","Black")}else{$("#ici4_"+d).text(Number(numCalcServantMaterial[i][e][4]))}if(Number(numCalcServantMaterial[i][e][5])>0){if(e==900){$("#ici5_"+d).text(separate(Number(numCalcServantMaterial[i][e][5])))}else{$("#ici5_"+d).text(Number(numCalcServantMaterial[i][e][5]))}$("#ici5_"+d).css("color","Black")}else{$("#ici5_"+d).text(Number(numCalcServantMaterial[i][e][5]))}if(Number(numCalcServantMaterial[i][e][6])>0){if(e==900){$("#ici6_"+d).text(separate(Number(numCalcServantMaterial[i][e][6])))}else{$("#ici6_"+d).text(Number(numCalcServantMaterial[i][e][6]))}$("#ici6_"+d).css("color","Black")}else{$("#ici6_"+d).text(Number(numCalcServantMaterial[i][e][6]))}}$(".box_item").not("#box_"+e).hide("fast");$(".num-Individual").show("fast");numIndividual=1}else{for(var c in mTotalNum){if(mTotalNum[c]>0){$("#box_"+c).show("fast")}}$(".num-Individual").hide("fast");numIndividual=0;for(i=0;i<showBox;i++){var d=i+1;$("#ici0_"+d).css("color","Silver");$("#ici1_"+d).css("color","Silver");$("#ici2_"+d).css("color","Silver");$("#ici3_"+d).css("color","Silver");$("#ici4_"+d).css("color","Silver");$("#ici5_"+d).css("color","Silver");$("#ici6_"+d).css("color","Silver");$(".num-Individual").css("fontSize","1.7em")}}});$("#show-inst").click(function(){$(this).blur();if($("#modal-overlay")[0]){return false}$("body").append('<div id="modal-overlay"></div>');$("#modal-overlay").fadeIn("fast");centeringModalSyncer(2);$("#footer").fadeIn("fast");$("#modal-overlay,.input-close").unbind().click(function(){$("#footer,#modal-overlay").fadeOut("fast",function(){$("#modal-overlay").remove()})})});$(window).resize(centeringModalSyncer);$("#add-servant1,#add-servant2").click(function(){$(".select-title").show();$(".select-show").show();$(".reverse-title").hide();$(".reverse-show").hide();$(".reverseBox").hide();$(".status-title").hide();$(".statusBox").hide();numServantSelect=showBox+1;ServantSearch(showBox+1);if(showBox>=Servantdb.length){$(".box_plus").fadeOut("fast")}});$("#add-reverse").click(function(){$(".select-title").hide();$(".select-show").hide();$(".status-title").hide();$(".statusBox").hide();$(".reverse-show").css({height:Math.floor($(window).height()-$(".select-servant-title").outerHeight())+"px"});$(".reverse-title").show();$(".reverse-show").show();$(".reverseBox").show();numServantSelect=showBox+1;ReverseSearch(showBox+1);if(showBox>=Servantdb.length){$(".box_plus").fadeOut("fast")}});$("#add-status").click(function(){$(".select-title").hide();$(".select-show").show();$(".reverse-title").hide();$(".reverse-show").hide();$(".reverseBox").hide();$(".status-title").show();$(".statusBox").show();numServantSelect=showBox+1;StatusSearch(showBox+1);if(showBox>=Servantdb.length){$(".box_plus").fadeOut("fast")}});$("#all-clear").click(function(){$(this).blur();if($("#modal-overlay")[0]){return false}if(showBox<1){$(".checkText").html('<span class="checkText">'+GetText(GetTextNoServantReg)+"</span>");$("#checkTool").hide();$("#check-no").val("OK")}else{$(".checkText").html('<span class="checkText">'+GetText(GetTextDeleteAllServants)+"</span>");$("#checkTool").show();$("#check-no").val("No")}$("body").append('<div id="modal-overlay"></div>');$("#modal-overlay").fadeIn("fast");centeringModalSyncer(7);$("#check-delete").fadeIn("fast");$("#modal-overlay,#check-no").unbind().click(function(){$("#check-delete,#modal-overlay").fadeOut("fast",function(){$("#modal-overlay").remove()})});$("#check-yes").click(function(){for(i=1;i<=Servantdb.length;i++){$("#sBox_"+i).remove();$("#CalcIcon"+i).remove();for(j=0;j<4;j++){lockSetting[i-1][j]=0}numCalcServantId[i-1]=0;for(var c in FormidNum[i-1]){FormidNum[i-1][c]=0}for(var c in FormidUsed[i-1]){FormidUsed[i-1][c]=0}}for(var c in mTotalNum){mTotalNum[c]=0}for(var c in mTotalUsed){mTotalUsed[c]=0}for(i=0;i<Servantdb.length;i++){myServantdb[i][10]=0}chaldeaCalc();materialTotal();showBox=0;$(".box_plus").fadeIn("fast");$("#check-delete,#modal-overlay").fadeOut("fast",function(){$("#modal-overlay").remove()})})});$(document).on("click",".delete-btn",function(){var d;var e;myServantdb[numCalcServantId[parseInt($(this).attr("name"))-1]-1][10]=0;if(showBox>1){var f="";for(d=parseInt($(this).attr("name"));d<showBox;d++){e=d+1;if(language==0){f=Servantdb[numCalcServantId[d]-1].text}else{f=Servantdb[numCalcServantId[d]-1].text2}document.getElementById("calc_"+d).rows[0].cells[0].innerHTML='<img src="i/icon_servants/'+numCalcServantId[d]+'.jpg?20190827">';document.getElementById("calc_"+d).rows[0].cells[1].innerText=f;$("#sairin_from_"+d).val($("#sairin_from_"+e).val());$("#sairin_to_"+d).val($("#sairin_to_"+e).val());$("#skill1_from_"+d).val($("#skill1_from_"+e).val());$("#skill1_to_"+d).val($("#skill1_to_"+e).val());$("#skill2_from_"+d).val($("#skill2_from_"+e).val());$("#skill2_to_"+d).val($("#skill2_to_"+e).val());$("#skill3_from_"+d).val($("#skill3_from_"+e).val());$("#skill3_to_"+d).val($("#skill3_to_"+e).val());$(IDAppend1From+d).val($(IDAppend1From+e).val());$(IDAppend1To+d).val($(IDAppend1To+e).val());$(IDAppend2From+d).val($(IDAppend2From+e).val());$(IDAppend2To+d).val($(IDAppend2To+e).val());$(IDAppend3From+d).val($(IDAppend3From+e).val());$(IDAppend3To+d).val($(IDAppend3To+e).val());modalSkill1='<div class="box_calcicon"><figure class="fig-relative" id="sci1_'+d+'"><img src="i/icon_skills/'+Servantdb[numCalcServantId[e-1]-1].icon1+'.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci1_'+d+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici1_'+d+'">0</span></div></figure></div>';modalSkill2='<div class="box_calcicon"><figure class="fig-relative" id="sci2_'+d+'"><img src="i/icon_skills/'+Servantdb[numCalcServantId[e-1]-1].icon2+'.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci2_'+d+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici2_'+d+'">0</span></div></figure></div>';modalSkill3='<div class="box_calcicon"><figure class="fig-relative" id="sci3_'+d+'"><img src="i/icon_skills/'+Servantdb[numCalcServantId[e-1]-1].icon3+'.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci3_'+d+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici3_'+d+'">0</span></div></figure></div>';modalASkill1='<div class="box_calcicon"><figure class="fig-relative" id="sci4_'+d+'"><img src="i/icon_skills/107.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci4_'+d+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici4_'+d+'">0</span></div></figure></div>';modalASkill2='<div class="box_calcicon"><figure class="fig-relative" id="sci5_'+d+'"><img src="i/icon_skills/600.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci5_'+d+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici5_'+d+'">0</span></div></figure></div>';modalASkill3='<div class="box_calcicon"><figure class="fig-relative" id="sci6_'+d+'"><img src="i/icon_skills/105.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci6_'+d+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici6_'+d+'">0</span></div></figure></div>';document.getElementById("CalcIcon"+d).innerHTML='<div style="display: grid; grid-template-columns: repeat(4, 1fr);"><div class="box_calcicon" style="grid-row-start: 1; grid-row-end: 3;"><figure class="fig-relative" id="sci0_'+d+'"><img src="i/icon_servants/'+numCalcServantId[e-1]+'.jpg?20190827"><figcaption class="num-CalcIcon"><span id="bci0_'+d+'"></span></figcaption><div class="num-Individual"><span id="ici0_'+d+'">0</span></div></figure></div>'+modalSkill1+modalSkill2+modalSkill3+modalASkill1+modalASkill2+modalASkill3+"</div>";numCalcServantId[d-1]=numCalcServantId[d];locking(d,lockingPatternAll);for(j=0;j<4;j++){lockSetting[d][j]=0}}$("#sBox_"+showBox).remove();$("#CalcIcon"+showBox).remove();lockSetting[d-1]=initLockSettingRow();numCalcServantId[showBox-1]=0;for(var c in FormidNum[showBox-1]){FormidNum[showBox-1][c]=0}for(var c in FormidUsed[showBox-1]){FormidUsed[showBox-1][c]=0}showBox--;$(".box_plus").fadeIn("fast")}else{$("#sBox_"+showBox).remove();$("#CalcIcon"+showBox).remove();lockSetting[showBox-1]=initLockSettingRow();numCalcServantId[showBox-1]=0;for(var c in FormidNum[showBox-1]){FormidNum[showBox-1][c]=0}for(var c in FormidUsed[showBox-1]){FormidUsed[showBox-1][c]=0}showBox=0}});$(document).on("click",".change-btn",function(){numServantSelect=parseInt($(this).attr("name"));ServantSearch(parseInt($(this).attr("name")))});$(document).on("click",".lock_btn",function(){switch($(this).val()){case"霊基再臨":locking(parseInt($(this).attr("name")),0);break;case"Ascension":locking(parseInt($(this).attr("name")),0);break;case"SKILL 1":locking(parseInt($(this).attr("name")),1);break;case"SKILL 2":locking(parseInt($(this).attr("name")),2);break;case"SKILL 3":locking(parseInt($(this).attr("name")),3);break;case"APPEND 1":locking(parseInt($(this).attr("name")),TargetPatternAppend1);break;case"APPEND 2":locking(parseInt($(this).attr("name")),TargetPatternAppend2);break;case"APPEND 3":locking(parseInt($(this).attr("name")),TargetPatternAppend3);break;default:break}});$(document).on("click",".arrow",function(){var c=$(this).attr("name");var d=$(this).attr("name");aiming(parseInt(c.slice(0,1)),parseInt(d.slice(2)))});$(document).on("change",".calcSet_btn",function(){materialCalc(parseInt($(this).attr("name")))});$("#inventory-setting").click(function(){$(this).blur();if($("#modal-overlay")[0]){return false}$("body").append('<div id="modal-overlay"></div>');$("#modal-overlay").fadeIn(200);centeringModalSyncer(5);$(".chaldea-slide").css({height:Math.floor($(window).height()-($("#inv-title").outerHeight()+$("#chaldea_select").outerHeight()+$(".select-class").outerHeight()))+"px"});renum=0;statusnum=0;chaldeanum=1;numServantSelect=showBox+1;$("div.box-chaldea").remove();$("[name='chaldea-class-btn']:checked").prop("checked",false);$("[name='chaldea-class-btn'][value='0']").prop("checked",true);clnum=$("[name='chaldea-class-btn']:checked").val();$("[name='chaldea-btn']:checked").prop("checked",false);$("[name='chaldea-btn'][value='0']").prop("checked",true);chaldeaFuncnum=0;ChangeServantIcon();$("#chaldea_inventory").hide();$("#chaldea_handover").hide();$("#chaldea_calc").hide();$(".chaldea-slide").css({height:Math.floor($(window).innerHeight()-($("#inv-title").outerHeight()+$("#chaldea_select").outerHeight()+$(".select-class").outerHeight()))+"px"});$("#chaldea_servant").show();$("#modal-inventory").fadeIn(200)});$("[name='chaldea-class-btn']").click(function(){clnum=$("[name='chaldea-class-btn']:checked").val();console.log(clnum);switch(clnum){case"0":$("input[name='chaldea-calcclass-btn']:eq(0)").prop("checked",true);break;case"1":$("input[name='chaldea-calcclass-btn']:eq(1)").prop("checked",true);break;case"2":$("input[name='chaldea-calcclass-btn'][value='2']").prop("checked",true);break;case"3":$("[name='chaldea-calcclass-btn']").val(["3"]);break;case"4":$("input[name='chaldea-calcclass-btn']").val(["4"]);break;case"5":$("input[name='chaldea-calcclass-btn']").val(["5"]);break;case"6":$("input[name='chaldea-calcclass-btn']").val(["6"]);break;case"7":$("input[name='chaldea-calcclass-btn']").val(["7"]);break;case"8":$("input[name='chaldea-calcclass-btn']").val(["8"]);break;case"9":$("input[name='chaldea-calcclass-btn']").val(["9"]);break;case"10":$("input[name='chaldea-calcclass-btn']").val(["10"]);break;case"11":$("input[name='chaldea-calcclass-btn']").val(["11"]);break;case"12":$("input[name='chaldea-calcclass-btn']").val(["12"]);break;case"13":$("input[name='chaldea-calcclass-btn']").val(["13"]);break;default:break}ChangeServantIcon();$(".chaldea-slide").css({height:Math.floor($(window).innerHeight()-($("#inv-title").outerHeight()+$("#chaldea_select").outerHeight()+$(".select-class").outerHeight()))+"px"})});$("[name='chaldea-calcclass-btn']").click(function(){clnum=$("[name='chaldea-calcclass-btn']:checked").val();console.log(clnum);switch(clnum){case"0":$("input[name='chaldea-class-btn']:eq(0)").prop("checked",true);break;case"1":$("input[name='chaldea-class-btn']:eq(1)").prop("checked",true);break;case"2":$("input[name='chaldea-class-btn'][value='2']").prop("checked",true);break;case"3":$("[name='chaldea-class-btn']").val(["3"]);break;case"4":$("input[name='chaldea-class-btn']").val(["4"]);break;case"5":$("input[name='chaldea-class-btn']").val(["5"]);break;case"6":$("input[name='chaldea-class-btn']").val(["6"]);break;case"7":$("input[name='chaldea-class-btn']").val(["7"]);break;case"8":$("input[name='chaldea-class-btn']").val(["8"]);break;case"9":$("input[name='chaldea-class-btn']").val(["9"]);break;case"10":$("input[name='chaldea-class-btn']").val(["10"]);break;case"11":$("input[name='chaldea-class-btn']").val(["11"]);break;case"12":$("input[name='chaldea-class-btn']").val(["12"]);break;case"13":$("input[name='chaldea-class-btn']").val(["13"]);break;default:break}chaldeaCalc(clnum);$("#chaldea_calc").css({height:Math.floor($(window).height()-($("#inv-title").outerHeight()+$("#chaldea_select").outerHeight()))+"px"})});$("[name='chaldea-btn']").click(function(){if($(this).val()!=chaldeaFuncnum){chaldeaFuncnum=parseInt($(this).val());switch(chaldeaFuncnum){case 0:ChangeServantIcon();$("#chaldea_inventory").hide();$("#chaldea_handover").hide();$("#chaldea_calc").hide();$(".chaldea-slide").css({height:Math.floor($(window).innerHeight()-($("#inv-title").outerHeight()+$("#chaldea_select").outerHeight()+$(".select-class").outerHeight()))+"px"});$("#chaldea_servant").fadeIn(200);break;case 1:$("#chaldea_servant").hide();$("#chaldea_handover").hide();$("#chaldea_calc").hide();$("#chaldea_inventory").css({height:Math.floor($(window).innerHeight()-($("#inv-title").outerHeight()+$("#chaldea_select").outerHeight()))+"px"});$("#chaldea_inventory").fadeIn(200);break;case 2:switch($('[name="cho-select2-btn"]:checked').val()){case"0":if($('[name="cho-select1-btn"]:checked').val()==0){saveLocalStorageServant()}else{saveLocalStorageInventory()}break;case"1":$("#handover_code").val("");break;default:break}$("#chaldea_servant").hide();$("#chaldea_inventory").hide();$("#chaldea_calc").hide();$("#chaldea_handover").fadeIn(200);break;case 3:chaldeaCalc(clnum);$("#chaldea_servant").hide();$("#chaldea_inventory").hide();$("#chaldea_handover").hide();$("#chaldea_calc").css({height:Math.floor($(window).height()-($("#inv-title").outerHeight()+$("#chaldea_select").outerHeight()))+"px"});$("#chaldea_calc").fadeIn(200);break;default:break}}});$(".inv_item").click(function(){$(this).blur();numInv=$(this).attr("id");numInv=parseInt(numInv.slice(9));document.getElementById("table-invinput").rows[0].cells[0].innerHTML='<img src="i/icon/item_'+numInv+'.jpg?20190827" class="icon">';var c=inventoryNum[numInv];$("#inventory-overlay").fadeIn("fast");centeringModalSyncer(6);$("#inventory-input-form").val(c);$("#inventory-input-slider").val(c);$("#inventory-input").fadeIn("fast");$("#inventory-input-form").select();$("#inventory-input-form").focus(function(){$(this).select()});$("#inventory-input-form").on("input",function(){c=parseInt($(this).val());if(numInv==900){if(c<0){c=0;$("#inventory-input-form").val(c)}else{if(c>999999999){c=999999999;$("#inventory-input-form").val(c)}}}else{if(c<0){c=0;$("#inventory-input-form").val(c)}else{if(c>99999){c=99999;$("#inventory-input-form").val(c)}}}});$("#inventory-input-form").change(function(){c=parseInt($(this).val());if(numInv==900){if(c<0){c=0;$("#inventory-input-form").val(c)}else{if(c>999999999){c=999999999;$("#inventory-input-form").val(c)}}}else{if(c<0){c=0;$("#inventory-input-form").val(c)}else{if(c>99999){c=99999;$("#inventory-input-form").val(c)}}}});$("#inventory-input-form").keydown(function(e){if(e.keyCode==13){if(numInv==900){document.getElementById("inv_"+numInv).rows[0].cells[1].innerText=separate(c)}else{document.getElementById("inv_"+numInv).innerText=separate(c)}inventoryNum[numInv]=c;c=0;for(var d in inventoryNum){c+=inventoryNum[d]}if(c>0){useInv=1;$("[name='result-btn']:checked").prop("checked",false);$("[name='result-btn'][value='1']").prop("checked",true);$("[name='result-chaldea']:checked").prop("checked",false);$("[name='result-chaldea'][value='1']").prop("checked",true)}else{useInv=0;$("[name='result-btn']:checked").prop("checked",false);$("[name='result-btn'][value='0']").prop("checked",true);$("[name='result-chaldea']:checked").prop("checked",false);$("[name='result-chaldea'][value='0']").prop("checked",true)}saveLocalStorageInventory();$("#inv-input-minus10,#inv-input-minus1,#inv-input-plus1,#inv-input-plus10").unbind();$("#inventory-overlay,#inventory-input").fadeOut("fast")}});$("#inputnum-inventory").click(function(){if(numInv==900){document.getElementById("inv_"+numInv).rows[0].cells[1].innerText=separate(c)}else{document.getElementById("inv_"+numInv).innerText=separate(c)}inventoryNum[numInv]=c;c=0;for(var d in inventoryNum){c+=inventoryNum[d]}if(c>0){useInv=1;$("[name='result-btn']:checked").prop("checked",false);$("[name='result-btn'][value='1']").prop("checked",true);$("[name='result-chaldea']:checked").prop("checked",false);$("[name='result-chaldea'][value='1']").prop("checked",true)}else{useInv=0;$("[name='result-btn']:checked").prop("checked",false);$("[name='result-btn'][value='0']").prop("checked",true);$("[name='result-chaldea']:checked").prop("checked",false);$("[name='result-chaldea'][value='0']").prop("checked",true)}saveLocalStorageInventory();$("[name='result-btn']:checked").prop("checked",false);$("[name='result-btn'][value='1']").prop("checked",true);$("[name='result-chaldea']:checked").prop("checked",false);$("[name='result-chaldea'][value='1']").prop("checked",true);$("#inv-input-minus10,#inv-input-minus1,#inv-input-plus1,#inv-input-plus10").unbind();$("#inventory-overlay,#inventory-input").fadeOut("fast")});$("#inventory-overlay,.input-close").click(function(){$("#inv-input-minus10,#inv-input-minus1,#inv-input-plus1,#inv-input-plus10").unbind();$("#inventory-overlay,#inventory-input").fadeOut("fast")})});$('[name="cho-select1-btn"]').click(function(){$("#handover_code").val("");if($("#cho_issue").prop("checked")){switch($(this).val()){case"0":saveLocalStorageServant();break;case"1":saveLocalStorageInventory();break;default:break}}});$('[name="cho-select2-btn"]').click(function(){$("#handover_code").val("");if($(this).val()==1){$("#load_handover").fadeIn(100)}else{switch($('[name="cho-select1-btn"]:checked').val()){case"0":saveLocalStorageServant();break;case"1":saveLocalStorageInventory();break;default:break}$("#load_handover").fadeOut(100)}});$("#handover_code").focus(function(){$("#handover_code").select()});$("#load_handover").click(function(){if($("#handover_code").val()!=""){switch($('[name="cho-select1-btn"]:checked').val()){case"0":loadServant($("#handover_code").val());break;case"1":loadInventory($("#handover_code").val());break;default:break}}});$(".lngChangeBtn").click(function(){$(this).blur();if($("#modal-overlay")[0]){return false}$("body").append('<div id="modal-overlay"></div>');$("#modal-overlay").fadeIn("fast");centeringModalSyncer(8);$("#changeLng").fadeIn("fast");$("#lngJp").click(function(){language=0;document.getElementById("all-clear").innerHTML="登録<br>全解除";document.getElementById("add-servant2").innerHTML="検索";document.getElementById("add-reverse").innerHTML="逆引き<br>検索";document.getElementById("add-status").innerHTML="ステータス<br>検索";document.getElementById("modal-open").innerText="結果表示";document.getElementById("show-inst").innerText="説明書";$(".personalModeration").css("width","50px");$(".personalInsanity").css("width","50px");$(".personalSummer").css("width","50px");document.getElementById("check-title").innerText="確認";$("span.select-title").text("サーヴァント検索");$("span.reverse-title").text("サーヴァント逆引き検索");$("span.status-title").text("サーヴァントステータス検索");$("span.result_title").text("結果表示");$("label.Result").text("計算結果");$("label.Required").text("不足分");$("label.Consumed").text("使用済");$("label.Ascention").text("霊基再臨");$("label.skillReinforce").text("スキル強化");$("#titleFilterAttr").text("属性系フィルター");$("#titleFilterNP").text("宝具系フィルター");$("#titleFilterSkills").text("スキル系フィルター");$("#filTitleReset").text("フィルターの初期化");$("label.policyLaw").text("秩序");$("label.policyNeutral").text("中立");$("label.policyChaos").text("混沌");$("label.personalGood").text("善");$("label.personalModeration").text("中庸");$("label.personalBad").text("悪");$("label.personalInsanity").text("狂");$("label.personalBride").text("花嫁");$("label.personalSummer").text("夏");$("label.attributeSky").text("天");$("label.attributeEarth").text("地");$("label.attributeMan").text("人");$("label.attributeStar").text("星");$("label.attributeBeast").text("獣");$("label.etcDivinity").text("神性");$("label.etcDragon").text("龍");$("label.etcRoma").text("ローマ");$("label.etcSavageBeast").text("猛獣");$("label.etcRiding").text("騎乗");$("label.etcLove").text("愛する");$("label.etcDevilish").text("魔性");$("label.etcDavinci").text("ダヴィンチ");$("label.etcFace").text("アルトリア顔");$("label.etcArthur").text("アーサー");$("label.np_typeQ").text("Ｑ宝具");$("label.np_typeA").text("Ａ宝具");$("label.np_typeB").text("Ｂ宝具");$("label.np-effectA").text("全体");$("label.np-effectO").text("単体");$("label.np-effectS").text("補助");$("label.np_EXmale").text("男性");$("label.np_EXfemale").text("女性");$("label.np_EXdivine").text("神性");$("label.np_EXdragon").text("竜");$("label.np_EXpoison").text("毒");$("label.np_EXriding").text("騎乗");$("label.np_EXlove").text("愛する");$("label.np_EXevil").text("悪");$("label.np_EXdemonic").text("魔性");$("label.np_EXskyearth").text("天地");$("label.np_EXservant").text("サーヴァント");$("label.np_EXface").text("アルトリア顔");$("label.np_EXarthur").text("アーサー");$("label.np_EXsaber").text("セイバー");$("label.s_EXmale").text("男性");$("label.s_EXdivine").text("神性");$("label.s_EXdragon").text("竜");$("label.s_EXroma").text("ローマ");$("label.s_EXsavagebeast").text("猛獣");$("label.s_EXevil").text("悪");$("label.s_EXdemonic").text("魔性");$("label.s_EXskyearth").text("天地");$("label.s_EXhuman").text("人間");$("label.s_EXhumanoid").text("人型");$("label.s_EXundead").text("死霊");$("label.s_EXdemon").text("悪魔");$("label.s_EXlarge").text("巨大");$("label.s_EXsaber").text("セイバー");$("label.reset_filter").text("リセット");$("#filter-policy1").text("秩序");$("#filter-policy2").text("中立");$("#filter-policy3").text("混沌");$("#filter-personal1").text("善");$("#filter-personal2").text("中庸");$("#filter-personal3").text("悪");$("#filter-personal4").text("狂");$("#filter-personal5").text("花嫁");$("#filter-personal6").text("夏");$("#filter-attribute1").text("天");$("#filter-attribute2").text("地");$("#filter-attribute3").text("人");$("#filter-attribute4").text("星");$("#filter-attribute5").text("獣");$("#filter-divinity").text("神性");$("#filter-dragon").text("竜");$("#filter-roma").text("ローマ");$("#filter-savagebeast").text("猛獣");$("#filter-riding").text("騎乗");$("#filter-love").text("愛する");$("#filter-devilish").text("魔性");$("#filter-davinci").text("ダヴィンチ");$("#filter-face").text("アルトリア顔");$("#filter-arthur").text("アーサー");$("#filter-nptype1").text("Ｑ宝具");$("#filter-nptype2").text("Ａ宝具");$("#filter-nptype3").text("Ｂ宝具");$("#filter-npeffect1").text("全体宝具");$("#filter-npeffect2").text("単体宝具");$("#filter-npeffect3").text("補助宝具");$("#filter-npEXmale").text("宝具 男性特攻");$("#filter-npEXfemale").text("宝具 女性特攻");$("#filter-npEXdivine").text("宝具 神性特攻");$("#filter-npEXdragon").text("宝具 竜特攻");$("#filter-npEXpoison").text("宝具 毒特攻");$("#filter-npEXriding").text("宝具 騎乗特攻");$("#filter-npEXlove").text("宝具 愛する者特攻");$("#filter-npEXevil").text("宝具 悪特攻");$("#filter-npEXdemonic").text("宝具 魔性特攻");$("#filter-npEXskyearth").text("宝具 天地特攻");$("#filter-npEXservant").text("宝具 サーヴァント特攻");$("#filter-npEXface").text("宝具 アルトリア顔特攻");$("#filter-npEXarthur").text("宝具 アーサー特攻");$("#filter-npEXsaber").text("宝具 セイバー特攻");$("#filter-sEXmale").text("スキル 男性特攻");$("#filter-sEXdivine").text("スキル 神性特攻");$("#filter-sEXdragon").text("スキル 竜特攻");$("#filter-sEXroma").text("スキル ローマ特攻");$("#filter-sEXsavagebeast").text("スキル 猛獣特攻");$("#filter-sEXevil").text("スキル 悪特攻");$("#filter-sEXdemonic").text("スキル 魔性特攻");$("#filter-sEXskyearth").text("スキル 天地特攻");$("#filter-sEXhuman").text("スキル 人間特攻");$("#filter-sEXhumanoid").text("スキル 人型特攻");$("#filter-sEXundead").text("スキル 死霊特攻");$("#filter-sEXdemon").text("スキル 悪魔特攻");$("#filter-sEXlarge").text("スキル 超巨大特攻");$("#filter-sEXsaber").text("スキル セイバー特攻");$("h2.instTitle").text("説明書");document.getElementById("instText1").innerHTML='　Fate/Grand Order専用素材計算シミュレータです。<br />　霊基再臨、スキル強化に必要な素材やＱＰ等を合計します。<br /><big><font color="red">　※スマホ等で利用される場合、縦向きでの使用を推奨しています。</font></big><br /><br />';document.getElementById("instText2").innerHTML="1.<br />　サーヴァントの登録は「検索」ボタン、「＋」アイコンまたは「逆引き検索」をクリックしてください。<br />「検索」ボタン、「＋」アイコンからはクラス別の検索が行なえます。上段からレアリティ順にサーヴァントのアイコンが表示されます。<br />「逆引き検索」ボタンは、サーヴァントを使用する素材から逆引きに検索することができます。<br /><br />";document.getElementById("instText3").innerHTML="2.<br />　霊基再臨・SKILLの各項目を設定してください。設定数値の左側から右側までの間を計算します。<br />　入力補助として「霊基再臨」「SKILL」の各項目名をクリックすることで、それぞれ個別に計算から除外することができます。<br />　インスタントで設定できるので、ご活用ください<br />　サーヴァントに設定した内容は全てCookie機能で自動保存されます。Cookie機能がオフになっていると保存されません。<br /><br />";document.getElementById("instText4").innerHTML="3.<br />　アイコン画像すぐ上の「Delete」ボタンをクリックすることで、サーヴァントを個別に登録解除できます。<br />　「登録全解除」ボタンで登録している全てのサーヴァントを解除できます。<br /><br />";document.getElementById("instText5").innerHTML="4.<br />　名前表示欄すぐ上の「Change」をクリックすることで、登録済みのサーヴァントを個別に変更できます。<br /><br />";document.getElementById("instText6").innerHTML="5.<br />　「結果表示」で、設定内容に応じた計算結果が「計算結果」に表示されます。<br /><br />「不足分」は、「所持アイテム」との連携機能です。「計算結果」から現在所持している数を差し引き、不足している数を表示します。不足していない素材等は表示から消えます。<br />「所持アイテム」ボタンから設定できます。自身の今所持しているアイテムの数を入力してください。<br />　一度入力した内容はCookieで保存されます。Cookie機能がオフになっていると保存されません。<br /><br />「使用済」は、登録されているサーヴァントの左側の設定数値を参照しています。<br />「初期状態から現在の状態になるまで」を表示しています。<br />　たまには、サーヴァント達に投資してきた今までを振り返ってみるのもいいかもしれません。<br /><br />";document.getElementById("instText7").innerHTML="6.<br />　同時に計算するサーヴァント数に制限はありません。<br />　ただし、端末の性能によっては一部機能の動作が重くなりますのでご注意ください。<br /><br />";document.getElementById("instText8").innerHTML="7.<br />　新規実装でデータが不足しているサーヴァントなど、霊基再臨、またはスキル強化のアイテムデータが存在していない場合があります。<br />　また、イベント配布サーヴァントの霊基再臨に必要な特殊アイテムには対応していません。<br /><br />";document.getElementById("instText9").innerHTML="8.<br />　各種必要素材、アイテムやＱＰ等のデータは、攻略ｗｉｋｉ等を参照しています。<br />　誤りを発見された場合、ご連絡ください。<br /><br />";document.getElementById("instText10").innerHTML="9.<br />　サーヴァントによっては3つ目のスキルが無い場合がありますが、設定項目を非表示にするなどの対応はしていません。<br /><br />";document.getElementById("instText11").innerHTML="10.<br />　ソロモンはジョークです。<br /><br />";document.getElementById("instText12").innerHTML="このページは「Fate/Grand Order」の開発・運営等とは一切関係のない、ただの１ユーザが趣味で作ったものです。このシミュレータを使用したことによる何らかの損害があっても一切責任は負いかねます。";document.getElementById("instText13").innerHTML="フォームに入力後、<br />このウインドウに必要なアイテムが表示されます。";$(".tools").css("font-family","ヒラギノ角ゴシック");if(window.innerWidth<480){$(".tools > #all-clear").css("font-size","90%");$(".tools > #inventory-setting").css("font-size","90%")}else{$(".tools > #all-clear").css("font-size","110%");$(".tools > #inventory-setting").css("font-size","110%")}if(showBox>1){for(i=1;i<=showBox;i++){document.getElementById("servantName_"+i).innerText=Servantdb[numCalcServantId[i-1]-1].text}}else{if(showBox==1){document.getElementById("servantName_1").innerText=Servantdb[numCalcServantId[showBox]-1].text}}$('input[value="Ascension"]').val("霊基再臨");$("#changeLng,#modal-overlay").fadeOut("fast",function(){$("#modal-overlay").remove()})});$("#lngEn").click(function(){language=1;document.getElementById("all-clear").innerText="AllDelete";document.getElementById("add-servant2").innerHTML="Look up<br>Servant";document.getElementById("add-reverse").innerHTML="Reverse<br>Look up";document.getElementById("add-status").innerHTML="Attributes<br>Look up";document.getElementById("modal-open").innerText="Result";document.getElementById("show-inst").innerText="Inst.";$(".personalModeration").css("width","80px");$(".personalInsanity").css("width","60px");$(".personalSummer").css("width","60px");document.getElementById("check-title").innerText="Confirmation";$("span.select-title").text("Look up Servant");$("span.reverse-title").text("Reverse Look up Servant");$("span.status-title").text("Attributes Look up Servant");$("span.result_title").text("Result");$("label.Result").text("Result");$("label.Required").text("Shortage");$("label.Consumed").text("Consumed");$("label.Ascention").text("Ascention");$("label.skillReinforce").text("SkillReinforce");$("#titleFilterAttr").text("Attributes");$("#titleFilterNP").text("Noble Phantasm");$("#titleFilterSkills").text("Skills");$("#filTitleReset").text("Reset All Settings");$("label.policyLaw").text("Lawful");$("label.policyNeutral").text("Neutral");$("label.policyChaos").text("Chaotic");$("label.personalGood").text("Good");$("label.personalModeration").text("Neutral");$("label.personalBad").text("Evil");$("label.personalInsanity").text("Mad");$("label.personalBride").text("Bride");$("label.personalSummer").text("Smmr");$("label.attributeSky").text("Sky");$("label.attributeEarth").text("Earth");$("label.attributeMan").text("Man");$("label.attributeStar").text("Star");$("label.attributeBeast").text("Beast");$("label.etcDivinity").text("Divine");$("label.etcDragon").text("Dragon");$("label.etcRoma").text("Roman");$("label.etcSavageBeast").text("Beast");$("label.etcRiding").text("Riding");$("label.etcLove").text("Beloved");$("label.etcDevilish").text("Demon");$("label.etcDavinci").text("Davinci");$("label.etcFace").text("Saberface");$("label.etcArthur").text("Arthur / Artoria");$("label.np_typeQ").text("NP Q");$("label.np_typeA").text("NP A");$("label.np_typeB").text("NP B");$("label.np-effectA").text("All");$("label.np-effectO").text("One");$("label.np-effectS").text("Support");$("label.np_EXmale").text("EX Male");$("label.np_EXfemale").text("EX Female");$("label.np_EXdivine").text("EX Divine");$("label.np_EXdragon").text("EX Dragon");$("label.np_EXpoison").text("EX Poison");$("label.np_EXriding").text("EX Riding");$("label.np_EXlove").text("EX Beloved");$("label.np_EXevil").text("EX Evil");$("label.np_EXdemonic").text("EX Demonic");$("label.np_EXskyearth").text("EX SkyEarth");$("label.np_EXservant").text("EX Servant");$("label.np_EXface").text("EX Saberface");$("label.np_EXarthur").text("EX Arthur");$("label.np_EXsaber").text("EX Saber");$("label.s_EXmale").text("EX Male");$("label.s_EXdivine").text("EX Divine");$("label.s_EXdragon").text("EX Dragon");$("label.s_EXroma").text("EX Roman");$("label.s_EXsavagebeast").text("EX Beast");$("label.s_EXevil").text("EX Evil");$("label.s_EXdemonic").text("EX Demonic");$("label.s_EXskyearth").text("EX SkyEarth");$("label.s_EXhuman").text("EX Human");$("label.s_EXhumanoid").text("EX Humanoid");$("label.s_EXundead").text("EX Undead");$("label.s_EXdemon").text("EX Demon");$("label.s_EXlarge").text("EX LargeEnemies");$("label.s_EXsaber").text("EX Saber");$("label.reset_filter").text("Reset");$("#filter-policy1").text("Lawful");$("#filter-policy2").text("Neutral");$("#filter-policy3").text("Chaotic");$("#filter-personal1").text("Good");$("#filter-personal2").text("Neutral");$("#filter-personal3").text("Evil");$("#filter-personal4").text("Mad");$("#filter-personal5").text("Bride");$("#filter-personal6").text("Summer");$("#filter-attribute1").text("Sky");$("#filter-attribute2").text("Earth");$("#filter-attribute3").text("Man");$("#filter-attribute4").text("Star");$("#filter-attribute5").text("Beast");$("#filter-divinity").text("Divine");$("#filter-dragon").text("Dragon");$("#filter-roma").text("Roman");$("#filter-savagebeast").text("Beast");$("#filter-riding").text("Riding");$("#filter-love").text("Beloved");$("#filter-devilish").text("Demon");$("#filter-davinci").text("Davinci");$("#filter-face").text("Saberface");$("#filter-arthur").text("Arthur");$("#filter-nptype1").text("NP Q");$("#filter-nptype2").text("NP A");$("#filter-nptype3").text("NP B");$("#filter-npeffect1").text("NP All");$("#filter-npeffect2").text("NP One");$("#filter-npeffect3").text("NP Support");$("#filter-npEXmale").text("NP EX Male");$("#filter-npEXfemale").text("NP EX Female");$("#filter-npEXdivine").text("NP EX Divine");$("#filter-npEXdragon").text("NP EX Dragon");$("#filter-npEXpoison").text("NP EX Poison");$("#filter-npEXriding").text("NP EX Riding");$("#filter-npEXlove").text("NP EX Beloved");$("#filter-npEXevil").text("NP EX Evil");$("#filter-npEXdemonic").text("NP EX Demonic");$("#filter-npEXskyearth").text("NP EX Sky Earth");$("#filter-npEXservant").text("NP EX Servant");$("#filter-npEXface").text("NP EX Saberface");$("#filter-npEXarthur").text("NP EX Arthur");$("#filter-npEXsaber").text("NP EX Saber");$("#filter-sEXmale").text("Skill EX Male");$("#filter-sEXdivine").text("Skill EX Divine");$("#filter-sEXdragon").text("Skill EX Dragon");$("#filter-sEXroma").text("Skill EX Roman");$("#filter-sEXsavagebeast").text("Skill EX Beast");$("#filter-sEXevil").text("Skill EX Evil");$("#filter-sEXdemonic").text("Skill EX Demonic");$("#filter-sEXskyearth").text("Skill EX SkyEarth");$("#filter-sEXhuman").text("Skill EX Human");$("#filter-sEXhumanoid").text("Skill EX Humanoid");$("#filter-sEXundead").text("Skill EX Undead");$("#filter-sEXdemon").text("Skill EX Demon");$("#filter-sEXlarge").text("Skill EX LargeEnemies");$("#filter-sEXsaber").text("Skill EX Saber");$("h2.instTitle").text("Instructions");document.getElementById("instText1").innerHTML='　This simulator is material calculator for Fate/ Grand Order.<br />　This instructions is translated by Google translation.<br />　Sorry if wrong English.<br /><font color="red">　When using on a smartphone, we recommend in portrait orientation.</font><br /><br />';document.getElementById("instText2").innerHTML='1.<br />　When you register a servant, you click the "Look up Servant" button, "+" icon or "Reverse Look up" button.<br />　You can look up the servants by class from "Look up Servant" button or "+" icon. The servants icon will be displayed in descending order of reality.<br />　You can reverse look up from the material that the servant uses for "Ascension" or "Skill Reinforcement" with the "Reverse Look up" button.<br /><br />';document.getElementById("instText3").innerHTML='2.<br />　After registering the servants, set the value of "Ascension" and "SKILL". Calculate from left to right of the set value.<br /> As an input assist function, you can exclude items individually from the calculation by clicking "Ascension" or "SKILL".<br />　You can set it instantly.<br />　All your settings are automatically saved in the "Cookie". If the "Cookie" function is turned off, we can not save.<br /><br />';document.getElementById("instText4").innerHTML='3.<br />　You can unregister servants individually by click the "Delete" button above the icon.<br />　You can unregister all servants by click "AllDelete" button.<br /><br />';document.getElementById("instText5").innerHTML='4.<br />　You can change registered servants individually by click "Change".<br /><br />';document.getElementById("instText6").innerHTML='5.<br />　When you click "Result", the calculation result of the registered content is displayed in "Result".<br /><br />　"Shortage" is a linkage function with "Inventory".<br />　"Shortage" displays the missing number by subtracting the number of items you have from "Result". Not missing materials will disappear from the display.<br />　You can set it by click the "Inventory" button. Please enter the number of items you have now.<br /><br />　"Consumed" is calculated by referring to the set value on the left side of the registered servant.<br />　In other words, "the number of materials consumed from the initial state to the current state" is displayed.<br />　You can look back on materials have been invested in servants by "Consumed".<br /><br />';document.getElementById("instText7").innerHTML="6.<br />　You can register and calculate all the servants at the same time.<br />　However, some functions may be delayed depending on your terminal performance. Please be careful.<br /><br />";document.getElementById("instText8").innerHTML='7.<br />　There may be a shortage of data on "Ascension" or "SKILL" for reasons a new servant coming.<br />　Moreover, we do not correspond to special items of event.<br /><br />';document.getElementById("instText9").innerHTML="8.<br />　All data used for calculation refers to the wiki. If you find a mistake in the data, please contact us.<br /><br />";document.getElementById("instText10").innerHTML="9.<br />　Some servants do not have the third skill, but the setting items are not hidden.<br /><br />";document.getElementById("instText11").innerHTML="10.<br />　Solomon is unimplemented. This is joke.<br /><br />";document.getElementById("instText12").innerHTML='　This page has nothing to do with the development / management etc of "Fate / Grand Order", just one user made it with hobby.<br />　Even if there is any damage caused by using this simulator, we can not take responsibility at all.';document.getElementById("instText13").innerHTML="　NO DATA";$(".tools").css("font-family","Times New Roman");if(window.innerWidth<480){$(".tools > #all-clear").css("font-size","90%");$(".tools > #inventory-setting").css("font-size","90%")}else{$(".tools > #all-clear").css("font-size","110%");$(".tools > #inventory-setting").css("font-size","110%")}if(showBox>1){for(i=1;i<=showBox;i++){document.getElementById("servantName_"+i).innerText=Servantdb[numCalcServantId[i-1]-1].text2}}else{if(showBox==1){document.getElementById("servantName_1").innerText=Servantdb[numCalcServantId[showBox-1]-1].text2}}$('input[value="霊基再臨"]').val("Ascension");$("#changeLng,#modal-overlay").fadeOut("fast",function(){$("#modal-overlay").remove()})});$("#modal-overlay").unbind().click(function(){$("#changeLng,#modal-overlay").fadeOut("fast",function(){$("#modal-overlay").remove()})})});$(".custom-select").each(function(){var d=$(this).attr("class"),f=$(this).attr("id"),c=$(this).attr("name");var e='<div class="'+d+'">';e+='<span class="custom-select-trigger">'+$(this).attr("placeholder")+"</span>";e+='<div class="custom-options">';$(this).find("option").each(function(){e+='<span class="custom-option '+$(this).attr("class")+'" data-value="'+$(this).attr("value")+'">'+$(this).html()+"</span>"});e+="</div></div>";$(this).wrap('<div class="custom-select-wrapper"></div>');$(this).hide();$(this).after(e)});$(".custom-option:first-of-type").hover(function(){$(this).parents(".custom-options").addClass("option-hover")},function(){$(this).parents(".custom-options").removeClass("option-hover")});$(".custom-select-trigger").on("click",function(){$("html").one("click",function(){$(".custom-select").removeClass("opened")});$(this).parents(".custom-select").toggleClass("opened");event.stopPropagation()});$(".custom-option").on("click",function(){$(this).parents(".custom-select-wrapper").find("select").val($(this).data("value"));$(this).parents(".custom-options").find(".custom-option").removeClass("selection");$(this).addClass("selection");$(this).parents(".custom-select").removeClass("opened");$(this).parents(".custom-select").find(".custom-select-trigger").text($(this).text())});var b=false;$(window).resize(function(){if(b!==false){clearTimeout(b)}b=setTimeout(function(){if(window.innerWidth<480){$(".tools > #all-clear").css("font-size","90%");$(".tools > #inventory-setting").css("font-size","90%")}else{$(".tools > #all-clear").css("font-size","110%");$(".tools > #inventory-setting").css("font-size","110%")}},200)});var a=$("#pageTop");$(window).scroll(function(){if($(this).scrollTop()>80){a.fadeIn()}else{a.fadeOut()}});a.click(function(){$("body,html").animate({scrollTop:0},500);return false});$(window).keydown(function(c){if(c.keyCode==9){return false}})});