function InitMaterialDictionary(){var e=new Array;return e={100:0,101:0,102:0,103:0,104:0,105:0,106:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0,310:0,311:0,312:0,313:0,400:0,401:0,402:0,403:0,404:0,405:0,406:0,407:0,408:0,409:0,410:0,411:0,412:0,413:0,414:0,415:0,416:0,417:0,418:0,419:0,420:0,421:0,422:0,423:0,500:0,501:0,502:0,503:0,504:0,505:0,506:0,507:0,508:0,509:0,510:0,511:0,512:0,513:0,514:0,515:0,516:0,517:0,518:0,600:0,601:0,602:0,603:0,604:0,605:0,606:0,607:0,608:0,609:0,610:0,611:0,612:0,613:0,614:0,615:0,616:0,617:0,618:0,619:0,620:0,621:0,622:0,623:0,624:0,625:0,626:0,627:0,628:0,629:0,630:0,631:0,632:0,633:0,634:0,635:0,636:0,637:0,638:0,639:0,640:0,641:0,800:0,900:0},e}function initLockSettingRow(){return[0,0,0,0,1,1,1]}function initmyServantdbRow(){return[0,0,4,1,10,1,10,1,10,0,0,1,1,1,1,1,1]}function GetText(e){var a="";if(0==language)switch(e){case GetTextAscension:a="霊基再臨";break;case GetTextNoServantReg:a="サーヴァントの登録がありません";break;case GetTextDeleteAllServants:a="登録したサーヴァントを<br />全て削除します"}else switch(e){case GetTextAscension:a="Ascension";break;case GetTextNoServantReg:a="No servant registration.";break;case GetTextDeleteAllServants:a="Delete all registered servants."}return a}function materialCalc(e){for(var a=parseInt($("#sairin_from_"+e).val()),t=parseInt($("#sairin_to_"+e).val()),n=parseInt($("#skill1_from_"+e).val()),i=parseInt($("#skill1_to_"+e).val()),r=parseInt($("#skill2_from_"+e).val()),l=parseInt($("#skill2_to_"+e).val()),s=parseInt($("#skill3_from_"+e).val()),d=parseInt($("#skill3_to_"+e).val()),o=parseInt($(IDAppend1From+e).val()),c=parseInt($(IDAppend1To+e).val()),v=parseInt($(IDAppend2From+e).val()),m=parseInt($(IDAppend2To+e).val()),u=parseInt($(IDAppend3From+e).val()),p=parseInt($(IDAppend3To+e).val()),b=0;b<Servantdb.length;b++)if(Servantdb[b].id==numCalcServantId[e-1]){var f=Servantdb[b].kind,S=Servantdb[b].value,g=b;myServantdb[b][0]=Servantdb[b].id,myServantdb[b][1]=a,myServantdb[b][2]=t,myServantdb[b][3]=n,myServantdb[b][4]=i,myServantdb[b][5]=r,myServantdb[b][6]=l,myServantdb[b][7]=s,myServantdb[b][8]=d,myServantdb[b][myServantdbRowidxAppend1From]=o,myServantdb[b][myServantdbRowidxAppend1To]=c,myServantdb[b][myServantdbRowidxAppend2From]=v,myServantdb[b][myServantdbRowidxAppend2To]=m,myServantdb[b][myServantdbRowidxAppend3From]=u,myServantdb[b][myServantdbRowidxAppend3To]=p,myServantdb[b][9]=a>0||t<4||n>1||i<10||r>1||l<10||s>1||d<10||o>1||c>1||v>1||m>1||u>1||p>1?1:0}saveLocalStorageServant(),$("#bci0_"+e).text(a+" → "+t),$("#bci1_"+e).text(n+" → "+i),$("#bci2_"+e).text(r+" → "+l),$("#bci3_"+e).text(s+" → "+d),$("#bci4_"+e).text(o+" → "+c),$("#bci5_"+e).text(v+" → "+m),$("#bci6_"+e).text(u+" → "+p);var k=0;for(b=0;b<2;b++)for(j=0;j<7;j++)k=100+10*b+j,FormidNum[e-1][k]=0,FormidUsed[e-1][k]=0,numCalcServantMaterial[e-1][k][0]=0,numCalcServantMaterial[e-1][k][1]=0,numCalcServantMaterial[e-1][k][2]=0,numCalcServantMaterial[e-1][k][3]=0,numCalcServantMaterial[e-1][k][TargetPatternAppend1]=0,numCalcServantMaterial[e-1][k][TargetPatternAppend2]=0,numCalcServantMaterial[e-1][k][TargetPatternAppend3]=0;for(b=0;b<3;b++)for(j=0;j<7;j++)k=200+10*b+j,FormidNum[e-1][k]=0,FormidUsed[e-1][k]=0,numCalcServantMaterial[e-1][k][0]=0,numCalcServantMaterial[e-1][k][1]=0,numCalcServantMaterial[e-1][k][2]=0,numCalcServantMaterial[e-1][k][3]=0,numCalcServantMaterial[e-1][k][TargetPatternAppend1]=0,numCalcServantMaterial[e-1][k][TargetPatternAppend2]=0,numCalcServantMaterial[e-1][k][TargetPatternAppend3]=0;for(b=0;b<BronzeMaterialCount;b++)k=300+b,FormidNum[e-1][k]=0,FormidUsed[e-1][k]=0,numCalcServantMaterial[e-1][k][0]=0,numCalcServantMaterial[e-1][k][1]=0,numCalcServantMaterial[e-1][k][2]=0,numCalcServantMaterial[e-1][k][3]=0,numCalcServantMaterial[e-1][k][TargetPatternAppend1]=0,numCalcServantMaterial[e-1][k][TargetPatternAppend2]=0,numCalcServantMaterial[e-1][k][TargetPatternAppend3]=0;for(b=0;b<SilverMaterialCount;b++)k=400+b,FormidNum[e-1][k]=0,FormidUsed[e-1][k]=0,numCalcServantMaterial[e-1][k][0]=0,numCalcServantMaterial[e-1][k][1]=0,numCalcServantMaterial[e-1][k][2]=0,numCalcServantMaterial[e-1][k][3]=0,numCalcServantMaterial[e-1][k][TargetPatternAppend1]=0,numCalcServantMaterial[e-1][k][TargetPatternAppend2]=0,numCalcServantMaterial[e-1][k][TargetPatternAppend3]=0;for(b=0;b<GoldMaterialCount;b++)k=500+b,FormidNum[e-1][k]=0,FormidUsed[e-1][k]=0,numCalcServantMaterial[e-1][k][0]=0,numCalcServantMaterial[e-1][k][1]=0,numCalcServantMaterial[e-1][k][2]=0,numCalcServantMaterial[e-1][k][3]=0,numCalcServantMaterial[e-1][k][TargetPatternAppend1]=0,numCalcServantMaterial[e-1][k][TargetPatternAppend2]=0,numCalcServantMaterial[e-1][k][TargetPatternAppend3]=0;for(b=0;b<EventMaterialCount;b++)k=600+b,FormidNum[e-1][k]=0,FormidUsed[e-1][k]=0,numCalcServantMaterial[e-1][k][0]=0,numCalcServantMaterial[e-1][k][1]=0,numCalcServantMaterial[e-1][k][2]=0,numCalcServantMaterial[e-1][k][3]=0,numCalcServantMaterial[e-1][k][TargetPatternAppend1]=0,numCalcServantMaterial[e-1][k][TargetPatternAppend2]=0,numCalcServantMaterial[e-1][k][TargetPatternAppend3]=0;FormidNum[e-1][800]=0,FormidUsed[e-1][800]=0,numCalcServantMaterial[e-1][800][0]=0,numCalcServantMaterial[e-1][800][1]=0,numCalcServantMaterial[e-1][800][2]=0,numCalcServantMaterial[e-1][800][3]=0,numCalcServantMaterial[e-1][800][TargetPatternAppend1]=0,numCalcServantMaterial[e-1][800][TargetPatternAppend2]=0,numCalcServantMaterial[e-1][800][TargetPatternAppend3]=0,FormidNum[e-1][900]=0,FormidUsed[e-1][900]=0,numCalcServantMaterial[e-1][900][0]=0,numCalcServantMaterial[e-1][900][1]=0,numCalcServantMaterial[e-1][900][2]=0,numCalcServantMaterial[e-1][900][3]=0,numCalcServantMaterial[e-1][900][TargetPatternAppend1]=0,numCalcServantMaterial[e-1][900][TargetPatternAppend2]=0,numCalcServantMaterial[e-1][900][TargetPatternAppend3]=0;for(b=0;b<t;b++)switch(b){case 0:if(a>b){for(var h in Servantdb[g].AdAgain1)FormidUsed[e-1][h]+=Servantdb[g].AdAgain1[h];9!=f&&(FormidUsed[e-1][900]+=sairinQP[S][b])}else{for(var h in Servantdb[g].AdAgain1)FormidNum[e-1][h]+=Servantdb[g].AdAgain1[h],numCalcServantMaterial[e-1][h][0]+=Servantdb[g].AdAgain1[h];9!=f&&(FormidNum[e-1][900]+=sairinQP[S][b],numCalcServantMaterial[e-1][900][0]+=sairinQP[S][b])}break;case 1:if(a>b){for(var h in Servantdb[g].AdAgain2)FormidUsed[e-1][h]+=Servantdb[g].AdAgain2[h];9!=f&&(FormidUsed[e-1][900]+=sairinQP[S][b])}else{for(var h in Servantdb[g].AdAgain2)FormidNum[e-1][h]+=Servantdb[g].AdAgain2[h],numCalcServantMaterial[e-1][h][0]+=Servantdb[g].AdAgain2[h];9!=f&&(FormidNum[e-1][900]+=sairinQP[S][b],numCalcServantMaterial[e-1][900][0]+=sairinQP[S][b])}break;case 2:if(a>b){for(var h in Servantdb[g].AdAgain3)FormidUsed[e-1][h]+=Servantdb[g].AdAgain3[h];9!=f&&(FormidUsed[e-1][900]+=sairinQP[S][b])}else{for(var h in Servantdb[g].AdAgain3)FormidNum[e-1][h]+=Servantdb[g].AdAgain3[h],numCalcServantMaterial[e-1][h][0]+=Servantdb[g].AdAgain3[h];9!=f&&(FormidNum[e-1][900]+=sairinQP[S][b],numCalcServantMaterial[e-1][900][0]+=sairinQP[S][b])}break;case 3:if(a>b){for(var h in Servantdb[g].AdAgain4)FormidUsed[e-1][h]+=Servantdb[g].AdAgain4[h];9!=f&&(FormidUsed[e-1][900]+=sairinQP[S][b])}else{for(var h in Servantdb[g].AdAgain4)FormidNum[e-1][h]+=Servantdb[g].AdAgain4[h],numCalcServantMaterial[e-1][h][0]+=Servantdb[g].AdAgain4[h];9!=f&&(FormidNum[e-1][900]+=sairinQP[S][b],numCalcServantMaterial[e-1][900][0]+=sairinQP[S][b])}}for(b=1;b<i;b++)switch(b){case 1:if(n>b){for(var h in Servantdb[g].skill1)FormidUsed[e-1][h]+=Servantdb[g].skill1[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill1)FormidNum[e-1][h]+=Servantdb[g].skill1[h],numCalcServantMaterial[e-1][h][1]+=Servantdb[g].skill1[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][1]+=skillQP[S][b-1]}break;case 2:if(n>b){for(var h in Servantdb[g].skill2)FormidUsed[e-1][h]+=Servantdb[g].skill2[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill2)FormidNum[e-1][h]+=Servantdb[g].skill2[h],numCalcServantMaterial[e-1][h][1]+=Servantdb[g].skill2[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][1]+=skillQP[S][b-1]}break;case 3:if(n>b){for(var h in Servantdb[g].skill3)FormidUsed[e-1][h]+=Servantdb[g].skill3[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill3)FormidNum[e-1][h]+=Servantdb[g].skill3[h],numCalcServantMaterial[e-1][h][1]+=Servantdb[g].skill3[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][1]+=skillQP[S][b-1]}break;case 4:if(n>b){for(var h in Servantdb[g].skill4)FormidUsed[e-1][h]+=Servantdb[g].skill4[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill4)FormidNum[e-1][h]+=Servantdb[g].skill4[h],numCalcServantMaterial[e-1][h][1]+=Servantdb[g].skill4[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][1]+=skillQP[S][b-1]}break;case 5:if(n>b){for(var h in Servantdb[g].skill5)FormidUsed[e-1][h]+=Servantdb[g].skill5[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill5)FormidNum[e-1][h]+=Servantdb[g].skill5[h],numCalcServantMaterial[e-1][h][1]+=Servantdb[g].skill5[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][1]+=skillQP[S][b-1]}break;case 6:if(n>b){for(var h in Servantdb[g].skill6)FormidUsed[e-1][h]+=Servantdb[g].skill6[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill6)FormidNum[e-1][h]+=Servantdb[g].skill6[h],numCalcServantMaterial[e-1][h][1]+=Servantdb[g].skill6[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][1]+=skillQP[S][b-1]}break;case 7:if(n>b){for(var h in Servantdb[g].skill7)FormidUsed[e-1][h]+=Servantdb[g].skill7[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill7)FormidNum[e-1][h]+=Servantdb[g].skill7[h],numCalcServantMaterial[e-1][h][1]+=Servantdb[g].skill7[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][1]+=skillQP[S][b-1]}break;case 8:if(n>b){for(var h in Servantdb[g].skill8)FormidUsed[e-1][h]+=Servantdb[g].skill8[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill8)FormidNum[e-1][h]+=Servantdb[g].skill8[h],numCalcServantMaterial[e-1][h][1]+=Servantdb[g].skill8[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][1]+=skillQP[S][b-1]}break;case 9:if(n>b){for(var h in Servantdb[g].skill9)FormidUsed[e-1][h]+=Servantdb[g].skill9[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill9)FormidNum[e-1][h]+=Servantdb[g].skill9[h],numCalcServantMaterial[e-1][h][1]+=Servantdb[g].skill9[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][1]+=skillQP[S][b-1]}}for(b=1;b<l;b++)switch(b){case 1:if(r>b){for(var h in Servantdb[g].skill1)FormidUsed[e-1][h]+=Servantdb[g].skill1[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill1)FormidNum[e-1][h]+=Servantdb[g].skill1[h],numCalcServantMaterial[e-1][h][2]+=Servantdb[g].skill1[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][2]+=skillQP[S][b-1]}break;case 2:if(r>b){for(var h in Servantdb[g].skill2)FormidUsed[e-1][h]+=Servantdb[g].skill2[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill2)FormidNum[e-1][h]+=Servantdb[g].skill2[h],numCalcServantMaterial[e-1][h][2]+=Servantdb[g].skill2[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][2]+=skillQP[S][b-1]}break;case 3:if(r>b){for(var h in Servantdb[g].skill3)FormidUsed[e-1][h]+=Servantdb[g].skill3[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill3)FormidNum[e-1][h]+=Servantdb[g].skill3[h],numCalcServantMaterial[e-1][h][2]+=Servantdb[g].skill3[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][2]+=skillQP[S][b-1]}break;case 4:if(r>b){for(var h in Servantdb[g].skill4)FormidUsed[e-1][h]+=Servantdb[g].skill4[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill4)FormidNum[e-1][h]+=Servantdb[g].skill4[h],numCalcServantMaterial[e-1][h][2]+=Servantdb[g].skill4[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][2]+=skillQP[S][b-1]}break;case 5:if(r>b){for(var h in Servantdb[g].skill5)FormidUsed[e-1][h]+=Servantdb[g].skill5[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill5)FormidNum[e-1][h]+=Servantdb[g].skill5[h],numCalcServantMaterial[e-1][h][2]+=Servantdb[g].skill5[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][2]+=skillQP[S][b-1]}break;case 6:if(r>b){for(var h in Servantdb[g].skill6)FormidUsed[e-1][h]+=Servantdb[g].skill6[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill6)FormidNum[e-1][h]+=Servantdb[g].skill6[h],numCalcServantMaterial[e-1][h][2]+=Servantdb[g].skill6[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][2]+=skillQP[S][b-1]}break;case 7:if(r>b){for(var h in Servantdb[g].skill7)FormidUsed[e-1][h]+=Servantdb[g].skill7[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill7)FormidNum[e-1][h]+=Servantdb[g].skill7[h],numCalcServantMaterial[e-1][h][2]+=Servantdb[g].skill7[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][2]+=skillQP[S][b-1]}break;case 8:if(r>b){for(var h in Servantdb[g].skill8)FormidUsed[e-1][h]+=Servantdb[g].skill8[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill8)FormidNum[e-1][h]+=Servantdb[g].skill8[h],numCalcServantMaterial[e-1][h][2]+=Servantdb[g].skill8[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][2]+=skillQP[S][b-1]}break;case 9:if(r>b){for(var h in Servantdb[g].skill9)FormidUsed[e-1][h]+=Servantdb[g].skill9[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill9)FormidNum[e-1][h]+=Servantdb[g].skill9[h],numCalcServantMaterial[e-1][h][2]+=Servantdb[g].skill9[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][2]+=skillQP[S][b-1]}}for(b=1;b<d;b++)switch(b){case 1:if(s>b){for(var h in Servantdb[g].skill1)FormidUsed[e-1][h]+=Servantdb[g].skill1[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill1)FormidNum[e-1][h]+=Servantdb[g].skill1[h],numCalcServantMaterial[e-1][h][3]+=Servantdb[g].skill1[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][3]+=skillQP[S][b-1]}break;case 2:if(s>b){for(var h in Servantdb[g].skill2)FormidUsed[e-1][h]+=Servantdb[g].skill2[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill2)FormidNum[e-1][h]+=Servantdb[g].skill2[h],numCalcServantMaterial[e-1][h][3]+=Servantdb[g].skill2[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][3]+=skillQP[S][b-1]}break;case 3:if(s>b){for(var h in Servantdb[g].skill3)FormidUsed[e-1][h]+=Servantdb[g].skill3[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill3)FormidNum[e-1][h]+=Servantdb[g].skill3[h],numCalcServantMaterial[e-1][h][3]+=Servantdb[g].skill3[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][3]+=skillQP[S][b-1]}break;case 4:if(s>b){for(var h in Servantdb[g].skill4)FormidUsed[e-1][h]+=Servantdb[g].skill4[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill4)FormidNum[e-1][h]+=Servantdb[g].skill4[h],numCalcServantMaterial[e-1][h][3]+=Servantdb[g].skill4[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][3]+=skillQP[S][b-1]}break;case 5:if(s>b){for(var h in Servantdb[g].skill5)FormidUsed[e-1][h]+=Servantdb[g].skill5[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill5)FormidNum[e-1][h]+=Servantdb[g].skill5[h],numCalcServantMaterial[e-1][h][3]+=Servantdb[g].skill5[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][3]+=skillQP[S][b-1]}break;case 6:if(s>b){for(var h in Servantdb[g].skill6)FormidUsed[e-1][h]+=Servantdb[g].skill6[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill6)FormidNum[e-1][h]+=Servantdb[g].skill6[h],numCalcServantMaterial[e-1][h][3]+=Servantdb[g].skill6[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][3]+=skillQP[S][b-1]}break;case 7:if(s>b){for(var h in Servantdb[g].skill7)FormidUsed[e-1][h]+=Servantdb[g].skill7[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill7)FormidNum[e-1][h]+=Servantdb[g].skill7[h],numCalcServantMaterial[e-1][h][3]+=Servantdb[g].skill7[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][3]+=skillQP[S][b-1]}break;case 8:if(s>b){for(var h in Servantdb[g].skill8)FormidUsed[e-1][h]+=Servantdb[g].skill8[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill8)FormidNum[e-1][h]+=Servantdb[g].skill8[h],numCalcServantMaterial[e-1][h][3]+=Servantdb[g].skill8[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][3]+=skillQP[S][b-1]}break;case 9:if(s>b){for(var h in Servantdb[g].skill9)FormidUsed[e-1][h]+=Servantdb[g].skill9[h];FormidUsed[e-1][900]+=skillQP[S][b-1]}else{for(var h in Servantdb[g].skill9)FormidNum[e-1][h]+=Servantdb[g].skill9[h],numCalcServantMaterial[e-1][h][3]+=Servantdb[g].skill9[h];FormidNum[e-1][900]+=skillQP[S][b-1],numCalcServantMaterial[e-1][900][3]+=skillQP[S][b-1]}}doRequireMaterialClacSkill(e,g,TargetPatternAppend1,o,c,!1),doRequireMaterialClacSkill(e,g,TargetPatternAppend2,v,m,!1),doRequireMaterialClacSkill(e,g,TargetPatternAppend3,u,p,!1),materialTotal()}function doRequireMaterialClacSkill(e,a,t,n,i,r){var l=Servantdb[a].value,s=null,d=null;r?(s=FormChaldeaUsed[a],d=FormChaldeaNum[a]):(s=FormidUsed[e-1],d=FormidNum[e-1]);for(var o=null,c=1;c<i;c++){o=null;var v=t==TargetPatternAppend1||t==TargetPatternAppend2||t==TargetPatternAppend3;switch(c){case 1:o=GetMaterialSkillOrASkill(v,Servantdb[a].skill1,Servantdb[a].askill1);break;case 2:o=GetMaterialSkillOrASkill(v,Servantdb[a].skill2,Servantdb[a].askill2);break;case 3:o=GetMaterialSkillOrASkill(v,Servantdb[a].skill3,Servantdb[a].askill3);break;case 4:o=GetMaterialSkillOrASkill(v,Servantdb[a].skill4,Servantdb[a].askill4);break;case 5:o=GetMaterialSkillOrASkill(v,Servantdb[a].skill5,Servantdb[a].askill5);break;case 6:o=GetMaterialSkillOrASkill(v,Servantdb[a].skill6,Servantdb[a].askill6);break;case 7:o=GetMaterialSkillOrASkill(v,Servantdb[a].skill7,Servantdb[a].askill7);break;case 8:o=GetMaterialSkillOrASkill(v,Servantdb[a].skill8,Servantdb[a].askill8);break;case 9:o=GetMaterialSkillOrASkill(v,Servantdb[a].skill9,Servantdb[a].askill9)}if(null!=o)if(n>c){for(var m in o)s[m]+=o[m];s[900]+=skillQP[l][c-1]}else{for(var m in o)d[m]+=o[m],r||(numCalcServantMaterial[e-1][m][t]+=o[m]);d[900]+=skillQP[l][c-1],r||(numCalcServantMaterial[e-1][900][t]+=skillQP[l][c-1])}}}function GetMaterialSkillOrASkill(e,a,t){var n=null;return n=e?t:a,n}function chaldeaCalc(e){for(var a=0;a<2;a++)for(var t=0;t<7;t++){count=100+10*a+t;for(var n=0;n<Servantdb.length;n++)FormChaldeaNum[n][count]=0,FormChaldeaUsed[n][count]=0}for(a=0;a<3;a++)for(t=0;t<7;t++){count=200+10*a+t;for(n=0;n<Servantdb.length;n++)FormChaldeaNum[n][count]=0,FormChaldeaUsed[n][count]=0}for(a=0;a<BronzeMaterialCount;a++){count=300+a;for(n=0;n<Servantdb.length;n++)FormChaldeaNum[n][count]=0,FormChaldeaUsed[n][count]=0}for(a=0;a<SilverMaterialCount;a++){count=400+a;for(n=0;n<Servantdb.length;n++)FormChaldeaNum[n][count]=0,FormChaldeaUsed[n][count]=0}for(a=0;a<GoldMaterialCount;a++){count=500+a;for(n=0;n<Servantdb.length;n++)FormChaldeaNum[n][count]=0,FormChaldeaUsed[n][count]=0}for(a=0;a<EventMaterialCount;a++){count=600+a;for(n=0;n<Servantdb.length;n++)FormChaldeaNum[n][count]=0,FormChaldeaUsed[n][count]=0}for(n=0;n<Servantdb.length;n++)FormChaldeaNum[n][800]=0,FormChaldeaUsed[n][800]=0;for(n=0;n<Servantdb.length;n++)FormChaldeaNum[n][900]=0,FormChaldeaUsed[n][900]=0;for(t=0;t<myServantdb.length;t++){var i=Servantdb[t].kind,r=Servantdb[t].value;if(99==e){if(1==myServantdb[t][9]&&0==myServantdb[t][10]){for(a=0;a<myServantdb[t][2];a++)switch(a){case 0:if(myServantdb[t][1]>a){for(var n in Servantdb[t].AdAgain1)FormChaldeaUsed[t][n]+=Servantdb[t].AdAgain1[n];9!=i&&(FormChaldeaUsed[t][900]+=sairinQP[r][a])}else{for(var n in Servantdb[t].AdAgain1)FormChaldeaNum[t][n]+=Servantdb[t].AdAgain1[n];9!=i&&(FormChaldeaNum[t][900]+=sairinQP[r][a])}break;case 1:if(myServantdb[t][1]>a){for(var n in Servantdb[t].AdAgain2)FormChaldeaUsed[t][n]+=Servantdb[t].AdAgain2[n];9!=i&&(FormChaldeaUsed[t][900]+=sairinQP[r][a])}else{for(var n in Servantdb[t].AdAgain2)FormChaldeaNum[t][n]+=Servantdb[t].AdAgain2[n];9!=i&&(FormChaldeaNum[t][900]+=sairinQP[r][a])}break;case 2:if(myServantdb[t][1]>a){for(var n in Servantdb[t].AdAgain3)FormChaldeaUsed[t][n]+=Servantdb[t].AdAgain3[n];9!=i&&(FormChaldeaUsed[t][900]+=sairinQP[r][a])}else{for(var n in Servantdb[t].AdAgain3)FormChaldeaNum[t][n]+=Servantdb[t].AdAgain3[n];9!=i&&(FormChaldeaNum[t][900]+=sairinQP[r][a])}break;case 3:if(myServantdb[t][1]>a){for(var n in Servantdb[t].AdAgain4)FormChaldeaUsed[t][n]+=Servantdb[t].AdAgain4[n];9!=i&&(FormChaldeaUsed[t][900]+=sairinQP[r][a])}else{for(var n in Servantdb[t].AdAgain4)FormChaldeaNum[t][n]+=Servantdb[t].AdAgain4[n];9!=i&&(FormChaldeaNum[t][900]+=sairinQP[r][a])}}for(a=1;a<myServantdb[t][4];a++)switch(a){case 1:if(myServantdb[t][3]>a){for(var n in Servantdb[t].skill1)FormChaldeaUsed[t][n]+=Servantdb[t].skill1[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill1)FormChaldeaNum[t][n]+=Servantdb[t].skill1[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 2:if(myServantdb[t][3]>a){for(var n in Servantdb[t].skill2)FormChaldeaUsed[t][n]+=Servantdb[t].skill2[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill2)FormChaldeaNum[t][n]+=Servantdb[t].skill2[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 3:if(myServantdb[t][3]>a){for(var n in Servantdb[t].skill3)FormChaldeaUsed[t][n]+=Servantdb[t].skill3[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill3)FormChaldeaNum[t][n]+=Servantdb[t].skill3[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 4:if(myServantdb[t][3]>a){for(var n in Servantdb[t].skill4)FormChaldeaUsed[t][n]+=Servantdb[t].skill4[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill4)FormChaldeaNum[t][n]+=Servantdb[t].skill4[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 5:if(myServantdb[t][3]>a){for(var n in Servantdb[t].skill5)FormChaldeaUsed[t][n]+=Servantdb[t].skill5[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill5)FormChaldeaNum[t][n]+=Servantdb[t].skill5[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 6:if(myServantdb[t][3]>a){for(var n in Servantdb[t].skill6)FormChaldeaUsed[t][n]+=Servantdb[t].skill6[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill6)FormChaldeaNum[t][n]+=Servantdb[t].skill6[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 7:if(myServantdb[t][3]>a){for(var n in Servantdb[t].skill7)FormChaldeaUsed[t][n]+=Servantdb[t].skill7[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill7)FormChaldeaNum[t][n]+=Servantdb[t].skill7[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 8:if(myServantdb[t][3]>a){for(var n in Servantdb[t].skill8)FormChaldeaUsed[t][n]+=Servantdb[t].skill8[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill8)FormChaldeaNum[t][n]+=Servantdb[t].skill8[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 9:if(myServantdb[t][3]>a){for(var n in Servantdb[t].skill9)FormChaldeaUsed[t][n]+=Servantdb[t].skill9[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill9)FormChaldeaNum[t][n]+=Servantdb[t].skill9[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}}for(a=1;a<myServantdb[t][6];a++)switch(a){case 1:if(myServantdb[t][5]>a){for(var n in Servantdb[t].skill1)FormChaldeaUsed[t][n]+=Servantdb[t].skill1[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill1)FormChaldeaNum[t][n]+=Servantdb[t].skill1[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 2:if(myServantdb[t][5]>a){for(var n in Servantdb[t].skill2)FormChaldeaUsed[t][n]+=Servantdb[t].skill2[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill2)FormChaldeaNum[t][n]+=Servantdb[t].skill2[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 3:if(myServantdb[t][5]>a){for(var n in Servantdb[t].skill3)FormChaldeaUsed[t][n]+=Servantdb[t].skill3[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill3)FormChaldeaNum[t][n]+=Servantdb[t].skill3[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 4:if(myServantdb[t][5]>a){for(var n in Servantdb[t].skill4)FormChaldeaUsed[t][n]+=Servantdb[t].skill4[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill4)FormChaldeaNum[t][n]+=Servantdb[t].skill4[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 5:if(myServantdb[t][5]>a){for(var n in Servantdb[t].skill5)FormChaldeaUsed[t][n]+=Servantdb[t].skill5[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill5)FormChaldeaNum[t][n]+=Servantdb[t].skill5[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 6:if(myServantdb[t][5]>a){for(var n in Servantdb[t].skill6)FormChaldeaUsed[t][n]+=Servantdb[t].skill6[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill6)FormChaldeaNum[t][n]+=Servantdb[t].skill6[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 7:if(myServantdb[t][5]>a){for(var n in Servantdb[t].skill7)FormChaldeaUsed[t][n]+=Servantdb[t].skill7[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill7)FormChaldeaNum[t][n]+=Servantdb[t].skill7[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 8:if(myServantdb[t][5]>a){for(var n in Servantdb[t].skill8)FormChaldeaUsed[t][n]+=Servantdb[t].skill8[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill8)FormChaldeaNum[t][n]+=Servantdb[t].skill8[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 9:if(myServantdb[t][5]>a){for(var n in Servantdb[t].skill9)FormChaldeaUsed[t][n]+=Servantdb[t].skill9[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill9)FormChaldeaNum[t][n]+=Servantdb[t].skill9[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}}for(a=1;a<myServantdb[t][8];a++)switch(a){case 1:if(myServantdb[t][7]>a){for(var n in Servantdb[t].skill1)FormChaldeaUsed[t][n]+=Servantdb[t].skill1[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill1)FormChaldeaNum[t][n]+=Servantdb[t].skill1[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 2:if(myServantdb[t][7]>a){for(var n in Servantdb[t].skill2)FormChaldeaUsed[t][n]+=Servantdb[t].skill2[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill2)FormChaldeaNum[t][n]+=Servantdb[t].skill2[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 3:if(myServantdb[t][7]>a){for(var n in Servantdb[t].skill3)FormChaldeaUsed[t][n]+=Servantdb[t].skill3[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill3)FormChaldeaNum[t][n]+=Servantdb[t].skill3[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 4:if(myServantdb[t][7]>a){for(var n in Servantdb[t].skill4)FormChaldeaUsed[t][n]+=Servantdb[t].skill4[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill4)FormChaldeaNum[t][n]+=Servantdb[t].skill4[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 5:if(myServantdb[t][7]>a){for(var n in Servantdb[t].skill5)FormChaldeaUsed[t][n]+=Servantdb[t].skill5[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill5)FormChaldeaNum[t][n]+=Servantdb[t].skill5[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 6:if(myServantdb[t][7]>a){for(var n in Servantdb[t].skill6)FormChaldeaUsed[t][n]+=Servantdb[t].skill6[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill6)FormChaldeaNum[t][n]+=Servantdb[t].skill6[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 7:if(myServantdb[t][7]>a){for(var n in Servantdb[t].skill7)FormChaldeaUsed[t][n]+=Servantdb[t].skill7[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill7)FormChaldeaNum[t][n]+=Servantdb[t].skill7[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 8:if(myServantdb[t][7]>a){for(var n in Servantdb[t].skill8)FormChaldeaUsed[t][n]+=Servantdb[t].skill8[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill8)FormChaldeaNum[t][n]+=Servantdb[t].skill8[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 9:if(myServantdb[t][7]>a){for(var n in Servantdb[t].skill9)FormChaldeaUsed[t][n]+=Servantdb[t].skill9[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill9)FormChaldeaNum[t][n]+=Servantdb[t].skill9[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}}doRequireMaterialClacSkill(-1,t,TargetPatternAppend1,myServantdb[t][myServantdbRowidxAppend1From],myServantdb[t][myServantdbRowidxAppend1To],!0),doRequireMaterialClacSkill(-1,t,TargetPatternAppend2,myServantdb[t][myServantdbRowidxAppend2From],myServantdb[t][myServantdbRowidxAppend2To],!0),doRequireMaterialClacSkill(-1,t,TargetPatternAppend3,myServantdb[t][myServantdbRowidxAppend3From],myServantdb[t][myServantdbRowidxAppend3To],!0)}}else if(1==myServantdb[t][9]&&0==myServantdb[t][10]&&Servantdb[t].kind==e){for(a=0;a<myServantdb[t][2];a++)switch(a){case 0:if(myServantdb[t][1]>a){for(var n in Servantdb[t].AdAgain1)FormChaldeaUsed[t][n]+=Servantdb[t].AdAgain1[n];9!=i&&(FormChaldeaUsed[t][900]+=sairinQP[r][a])}else{for(var n in Servantdb[t].AdAgain1)FormChaldeaNum[t][n]+=Servantdb[t].AdAgain1[n];9!=i&&(FormChaldeaNum[t][900]+=sairinQP[r][a])}break;case 1:if(myServantdb[t][1]>a){for(var n in Servantdb[t].AdAgain2)FormChaldeaUsed[t][n]+=Servantdb[t].AdAgain2[n];9!=i&&(FormChaldeaUsed[t][900]+=sairinQP[r][a])}else{for(var n in Servantdb[t].AdAgain2)FormChaldeaNum[t][n]+=Servantdb[t].AdAgain2[n];9!=i&&(FormChaldeaNum[t][900]+=sairinQP[r][a])}break;case 2:if(myServantdb[t][1]>a){for(var n in Servantdb[t].AdAgain3)FormChaldeaUsed[t][n]+=Servantdb[t].AdAgain3[n];9!=i&&(FormChaldeaUsed[t][900]+=sairinQP[r][a])}else{for(var n in Servantdb[t].AdAgain3)FormChaldeaNum[t][n]+=Servantdb[t].AdAgain3[n];9!=i&&(FormChaldeaNum[t][900]+=sairinQP[r][a])}break;case 3:if(myServantdb[t][1]>a){for(var n in Servantdb[t].AdAgain4)FormChaldeaUsed[t][n]+=Servantdb[t].AdAgain4[n];9!=i&&(FormChaldeaUsed[t][900]+=sairinQP[r][a])}else{for(var n in Servantdb[t].AdAgain4)FormChaldeaNum[t][n]+=Servantdb[t].AdAgain4[n];9!=i&&(FormChaldeaNum[t][900]+=sairinQP[r][a])}}for(a=1;a<myServantdb[t][4];a++)switch(a){case 1:if(myServantdb[t][3]>a){for(var n in Servantdb[t].skill1)FormChaldeaUsed[t][n]+=Servantdb[t].skill1[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill1)FormChaldeaNum[t][n]+=Servantdb[t].skill1[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 2:if(myServantdb[t][3]>a){for(var n in Servantdb[t].skill2)FormChaldeaUsed[t][n]+=Servantdb[t].skill2[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill2)FormChaldeaNum[t][n]+=Servantdb[t].skill2[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 3:if(myServantdb[t][3]>a){for(var n in Servantdb[t].skill3)FormChaldeaUsed[t][n]+=Servantdb[t].skill3[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill3)FormChaldeaNum[t][n]+=Servantdb[t].skill3[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 4:if(myServantdb[t][3]>a){for(var n in Servantdb[t].skill4)FormChaldeaUsed[t][n]+=Servantdb[t].skill4[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill4)FormChaldeaNum[t][n]+=Servantdb[t].skill4[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 5:if(myServantdb[t][3]>a){
for(var n in Servantdb[t].skill5)FormChaldeaUsed[t][n]+=Servantdb[t].skill5[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill5)FormChaldeaNum[t][n]+=Servantdb[t].skill5[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 6:if(myServantdb[t][3]>a){for(var n in Servantdb[t].skill6)FormChaldeaUsed[t][n]+=Servantdb[t].skill6[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill6)FormChaldeaNum[t][n]+=Servantdb[t].skill6[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 7:if(myServantdb[t][3]>a){for(var n in Servantdb[t].skill7)FormChaldeaUsed[t][n]+=Servantdb[t].skill7[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill7)FormChaldeaNum[t][n]+=Servantdb[t].skill7[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 8:if(myServantdb[t][3]>a){for(var n in Servantdb[t].skill8)FormChaldeaUsed[t][n]+=Servantdb[t].skill8[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill8)FormChaldeaNum[t][n]+=Servantdb[t].skill8[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 9:if(myServantdb[t][3]>a){for(var n in Servantdb[t].skill9)FormChaldeaUsed[t][n]+=Servantdb[t].skill9[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill9)FormChaldeaNum[t][n]+=Servantdb[t].skill9[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}}for(a=1;a<myServantdb[t][6];a++)switch(a){case 1:if(myServantdb[t][5]>a){for(var n in Servantdb[t].skill1)FormChaldeaUsed[t][n]+=Servantdb[t].skill1[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill1)FormChaldeaNum[t][n]+=Servantdb[t].skill1[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 2:if(myServantdb[t][5]>a){for(var n in Servantdb[t].skill2)FormChaldeaUsed[t][n]+=Servantdb[t].skill2[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill2)FormChaldeaNum[t][n]+=Servantdb[t].skill2[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 3:if(myServantdb[t][5]>a){for(var n in Servantdb[t].skill3)FormChaldeaUsed[t][n]+=Servantdb[t].skill3[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill3)FormChaldeaNum[t][n]+=Servantdb[t].skill3[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 4:if(myServantdb[t][5]>a){for(var n in Servantdb[t].skill4)FormChaldeaUsed[t][n]+=Servantdb[t].skill4[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill4)FormChaldeaNum[t][n]+=Servantdb[t].skill4[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 5:if(myServantdb[t][5]>a){for(var n in Servantdb[t].skill5)FormChaldeaUsed[t][n]+=Servantdb[t].skill5[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill5)FormChaldeaNum[t][n]+=Servantdb[t].skill5[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 6:if(myServantdb[t][5]>a){for(var n in Servantdb[t].skill6)FormChaldeaUsed[t][n]+=Servantdb[t].skill6[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill6)FormChaldeaNum[t][n]+=Servantdb[t].skill6[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 7:if(myServantdb[t][5]>a){for(var n in Servantdb[t].skill7)FormChaldeaUsed[t][n]+=Servantdb[t].skill7[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill7)FormChaldeaNum[t][n]+=Servantdb[t].skill7[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 8:if(myServantdb[t][5]>a){for(var n in Servantdb[t].skill8)FormChaldeaUsed[t][n]+=Servantdb[t].skill8[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill8)FormChaldeaNum[t][n]+=Servantdb[t].skill8[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 9:if(myServantdb[t][5]>a){for(var n in Servantdb[t].skill9)FormChaldeaUsed[t][n]+=Servantdb[t].skill9[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill9)FormChaldeaNum[t][n]+=Servantdb[t].skill9[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}}for(a=1;a<myServantdb[t][8];a++)switch(a){case 1:if(myServantdb[t][7]>a){for(var n in Servantdb[t].skill1)FormChaldeaUsed[t][n]+=Servantdb[t].skill1[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill1)FormChaldeaNum[t][n]+=Servantdb[t].skill1[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 2:if(myServantdb[t][7]>a){for(var n in Servantdb[t].skill2)FormChaldeaUsed[t][n]+=Servantdb[t].skill2[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill2)FormChaldeaNum[t][n]+=Servantdb[t].skill2[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 3:if(myServantdb[t][7]>a){for(var n in Servantdb[t].skill3)FormChaldeaUsed[t][n]+=Servantdb[t].skill3[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill3)FormChaldeaNum[t][n]+=Servantdb[t].skill3[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 4:if(myServantdb[t][7]>a){for(var n in Servantdb[t].skill4)FormChaldeaUsed[t][n]+=Servantdb[t].skill4[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill4)FormChaldeaNum[t][n]+=Servantdb[t].skill4[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 5:if(myServantdb[t][7]>a){for(var n in Servantdb[t].skill5)FormChaldeaUsed[t][n]+=Servantdb[t].skill5[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill5)FormChaldeaNum[t][n]+=Servantdb[t].skill5[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 6:if(myServantdb[t][7]>a){for(var n in Servantdb[t].skill6)FormChaldeaUsed[t][n]+=Servantdb[t].skill6[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill6)FormChaldeaNum[t][n]+=Servantdb[t].skill6[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 7:if(myServantdb[t][7]>a){for(var n in Servantdb[t].skill7)FormChaldeaUsed[t][n]+=Servantdb[t].skill7[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill7)FormChaldeaNum[t][n]+=Servantdb[t].skill7[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 8:if(myServantdb[t][7]>a){for(var n in Servantdb[t].skill8)FormChaldeaUsed[t][n]+=Servantdb[t].skill8[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill8)FormChaldeaNum[t][n]+=Servantdb[t].skill8[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}break;case 9:if(myServantdb[t][7]>a){for(var n in Servantdb[t].skill9)FormChaldeaUsed[t][n]+=Servantdb[t].skill9[n];FormChaldeaUsed[t][900]+=skillQP[r][a-1]}else{for(var n in Servantdb[t].skill9)FormChaldeaNum[t][n]+=Servantdb[t].skill9[n];FormChaldeaNum[t][900]+=skillQP[r][a-1]}}doRequireMaterialClacSkill(-1,t,TargetPatternAppend1,myServantdb[t][myServantdbRowidxAppend1From],myServantdb[t][myServantdbRowidxAppend1To],!0),doRequireMaterialClacSkill(-1,t,TargetPatternAppend2,myServantdb[t][myServantdbRowidxAppend2From],myServantdb[t][myServantdbRowidxAppend2To],!0),doRequireMaterialClacSkill(-1,t,TargetPatternAppend3,myServantdb[t][myServantdbRowidxAppend3From],myServantdb[t][myServantdbRowidxAppend3To],!0)}}chaldeaTotal()}function chaldeaTotal(){for(var e=0,a=0;a<2;a++)for(var t=0;t<7;t++)e=100+10*a+t,mTotalChaldea[e]=0,mUsedChaldea[e]=0;for(a=0;a<3;a++)for(t=0;t<7;t++)e=200+10*a+t,mTotalChaldea[e]=0,mUsedChaldea[e]=0;for(a=0;a<BronzeMaterialCount;a++)e=300+a,mTotalChaldea[e]=0,mUsedChaldea[e]=0;for(a=0;a<SilverMaterialCount;a++)e=400+a,mTotalChaldea[e]=0,mUsedChaldea[e]=0;for(a=0;a<GoldMaterialCount;a++)e=500+a,mTotalChaldea[e]=0,mUsedChaldea[e]=0;for(a=0;a<EventMaterialCount;a++)e=600+a,mTotalChaldea[e]=0,mUsedChaldea[e]=0;for(mTotalChaldea[800]=0,mUsedChaldea[800]=0,mTotalChaldea[900]=0,mUsedChaldea[900]=0,a=0;a<Servantdb.length;a++){for(var n in FormChaldeaNum[a])mTotalChaldea[n]+=FormChaldeaNum[a][n];for(var n in FormChaldeaNum[a])mUsedChaldea[n]+=FormChaldeaUsed[a][n]}0==useInv?($(".num-chaldea").css("color","rgb(255,255,255)"),$(".chaldea-qp").css("color","rgb(25,25,25)")):1==useInv?($(".num-chaldea").css("color","rgb(255,117,117)"),$(".chaldea-qp").css("color","rgb(225,25,25)")):($(".num-chaldea").css("color","rgb(187,222,251)"),$(".chaldea-qp").css("color","rgb(64,146,220)"));if(e=0,0==useInv){for(a=0;a<2;a++)for(t=0;t<7;t++)e=100+10*a+t,$("#chaldea_"+e).text(mTotalChaldea[e]),mTotalChaldea[e]>0?$("#chaldea_box_"+e).fadeIn("fast"):0==mTotalChaldea[e]&&$("#chaldea_box_"+e).fadeOut("fast"),mTotalChaldea[e];for(a=0;a<3;a++)for(t=0;t<7;t++)e=200+10*a+t,$("#chaldea_"+e).text(mTotalChaldea[e]),mTotalChaldea[e]>0?$("#chaldea_box_"+e).fadeIn("fast"):0==mTotalChaldea[e]&&$("#chaldea_box_"+e).fadeOut("fast"),mTotalChaldea[e];for(a=0;a<BronzeMaterialCount;a++)e=300+a,$("#chaldea_"+e).text(mTotalChaldea[e]),mTotalChaldea[e]>0?$("#chaldea_box_"+e).fadeIn("fast"):0==mTotalChaldea[e]&&$("#chaldea_box_"+e).fadeOut("fast"),mTotalChaldea[e];for(a=0;a<SilverMaterialCount;a++)e=400+a,$("#chaldea_"+e).text(mTotalChaldea[e]),mTotalChaldea[e]>0?$("#chaldea_box_"+e).fadeIn("fast"):0==mTotalChaldea[e]&&$("#chaldea_box_"+e).fadeOut("fast"),mTotalChaldea[e];for(a=0;a<GoldMaterialCount;a++)e=500+a,$("#chaldea_"+e).text(mTotalChaldea[e]),mTotalChaldea[e]>0?$("#chaldea_box_"+e).fadeIn("fast"):0==mTotalChaldea[e]&&$("#chaldea_box_"+e).fadeOut("fast"),mTotalChaldea[e];for(a=0;a<EventMaterialCount;a++)e=600+a,$("#chaldea_"+e).text(mTotalChaldea[e]),mTotalChaldea[e]>0?$("#chaldea_box_"+e).fadeIn("fast"):0==mTotalChaldea[e]&&$("#chaldea_box_"+e).fadeOut("fast"),mTotalChaldea[e];e=800,$("#chaldea_"+e).text(mTotalChaldea[e]),mTotalChaldea[e]>0?$("#chaldea_box_"+e).fadeIn("fast"):0==mTotalChaldea[e]&&$("#chaldea_box_"+e).fadeOut("fast"),mTotalChaldea[e],e=900,document.getElementById("chaldea_"+e).rows[0].cells[1].innerText=separate(mTotalChaldea[e]),mTotalChaldea[e]>0?$("#chaldea_box_"+e).fadeIn("fast"):0==mTotalChaldea[e]&&$("#chaldea_box_"+e).fadeOut("fast"),mTotalChaldea[e]}else if(1==useInv){for(a=0;a<2;a++)for(t=0;t<7;t++)tempNum=0,e=100+10*a+t,tempNum=mTotalChaldea[e]-inventoryNum[e],tempNum<0&&(tempNum=0),tempNum>0?$("#chaldea_box_"+e).fadeIn("fast"):0==tempNum&&$("#chaldea_box_"+e).fadeOut("fast"),$("#chaldea_"+e).text(tempNum),mTotalChaldea[e];for(a=0;a<3;a++)for(t=0;t<7;t++)tempNum=0,e=200+10*a+t,tempNum=mTotalChaldea[e]-inventoryNum[e],tempNum<0&&(tempNum=0),tempNum>0?$("#chaldea_box_"+e).fadeIn("fast"):0==tempNum&&$("#chaldea_box_"+e).fadeOut("fast"),$("#chaldea_"+e).text(tempNum),mTotalChaldea[e];for(a=0;a<BronzeMaterialCount;a++)tempNum=0,e=300+a,tempNum=mTotalChaldea[e]-inventoryNum[e],tempNum<0&&(tempNum=0),tempNum>0?$("#chaldea_box_"+e).fadeIn("fast"):0==tempNum&&$("#chaldea_box_"+e).fadeOut("fast"),$("#chaldea_"+e).text(tempNum),mTotalChaldea[e];for(a=0;a<SilverMaterialCount;a++)tempNum=0,e=400+a,tempNum=mTotalChaldea[e]-inventoryNum[e],tempNum<0&&(tempNum=0),tempNum>0?$("#chaldea_box_"+e).fadeIn("fast"):0==tempNum&&$("#chaldea_box_"+e).fadeOut("fast"),$("#chaldea_"+e).text(tempNum),mTotalChaldea[e];for(a=0;a<GoldMaterialCount;a++)tempNum=0,e=500+a,tempNum=mTotalChaldea[e]-inventoryNum[e],tempNum<0&&(tempNum=0),tempNum>0?$("#chaldea_box_"+e).fadeIn("fast"):0==tempNum&&$("#chaldea_box_"+e).fadeOut("fast"),$("#chaldea_"+e).text(tempNum),mTotalChaldea[e];for(a=0;a<EventMaterialCount;a++)e=600+a,mTotalChaldea[e]>0?$("#chaldea_box_"+e).fadeIn("fast"):0==mTotalChaldea[e]&&$("#chaldea_box_"+e).fadeOut("fast"),$("#chaldea_"+e).text(mTotalChaldea[e]),mTotalChaldea[e];tempNum=0,e=800,tempNum=mTotalChaldea[e]-inventoryNum[e],tempNum<0&&(tempNum=0),tempNum>0?$("#chaldea_box_"+e).fadeIn("fast"):0==tempNum&&$("#chaldea_box_"+e).fadeOut("fast"),$("#chaldea_"+e).text(tempNum),mTotalChaldea[e],tempNum=0,e=900,tempNum=mTotalChaldea[e]-inventoryNum[e],tempNum<0&&(tempNum=0),tempNum>0?$("#chaldea_box_"+e).fadeIn("fast"):0==tempNum&&$("#chaldea_box_"+e).fadeOut("fast"),document.getElementById("chaldea_"+e).rows[0].cells[1].innerText=separate(tempNum),mTotalChaldea[e]}else{for(a=0;a<2;a++)for(t=0;t<7;t++)e=100+10*a+t,mUsedChaldea[e]>0?$("#chaldea_box_"+e).fadeIn("fast"):0==mUsedChaldea[e]&&$("#chaldea_box_"+e).fadeOut("fast"),$("#chaldea_"+e).text(mUsedChaldea[e]),mUsedChaldea[e];for(a=0;a<3;a++)for(t=0;t<7;t++)e=200+10*a+t,mUsedChaldea[e]>0?$("#chaldea_box_"+e).fadeIn("fast"):0==mUsedChaldea[e]&&$("#chaldea_box_"+e).fadeOut("fast"),$("#chaldea_"+e).text(mUsedChaldea[e]),mUsedChaldea[e];for(a=0;a<BronzeMaterialCount;a++)e=300+a,mUsedChaldea[e]>0?$("#chaldea_box_"+e).fadeIn("fast"):0==mUsedChaldea[e]&&$("#chaldea_box_"+e).fadeOut("fast"),$("#chaldea_"+e).text(mUsedChaldea[e]),mUsedChaldea[e];for(a=0;a<SilverMaterialCount;a++)e=400+a,mUsedChaldea[e]>0?$("#chaldea_box_"+e).fadeIn("fast"):0==mUsedChaldea[e]&&$("#chaldea_box_"+e).fadeOut("fast"),$("#chaldea_"+e).text(mUsedChaldea[e]),mUsedChaldea[e];for(a=0;a<GoldMaterialCount;a++)e=500+a,mUsedChaldea[e]>0?$("#chaldea_box_"+e).fadeIn("fast"):0==mUsedChaldea[e]&&$("#chaldea_box_"+e).fadeOut("fast"),$("#chaldea_"+e).text(mUsedChaldea[e]),mUsedChaldea[e];for(a=0;a<EventMaterialCount;a++)e=600+a,mUsedChaldea[e]>0?$("#chaldea_box_"+e).fadeIn("fast"):0==mUsedChaldea[e]&&$("#chaldea_box_"+e).fadeOut("fast"),$("#chaldea_"+e).text(mUsedChaldea[e]),mUsedChaldea[e];e=800,mUsedChaldea[e]>0?$("#chaldea_box_"+e).fadeIn("fast"):0==mUsedChaldea[e]&&$("#chaldea_box_"+e).fadeOut("fast"),$("#chaldea_"+e).text(mUsedChaldea[e]),mUsedChaldea[e],e=900,document.getElementById("chaldea_"+e).rows[0].cells[1].innerText=separate(mUsedChaldea[e]),mUsedChaldea[e]>0?$("#chaldea_box_"+e).fadeIn("fast"):0==mUsedChaldea[e]&&$("#chaldea_box_"+e).fadeOut("fast"),mUsedChaldea[e]}}function materialTotal(){document.getElementById("qpTM");for(var e=0,a=0,t=0;t<2;t++)for(j=0;j<7;j++)a=100+10*t+j,mTotalNum[a]=0,mTotalUsed[a]=0;for(t=0;t<3;t++)for(j=0;j<7;j++)a=200+10*t+j,mTotalNum[a]=0,mTotalUsed[a]=0;for(t=0;t<BronzeMaterialCount;t++)a=300+t,mTotalNum[a]=0,mTotalUsed[a]=0;for(t=0;t<SilverMaterialCount;t++)a=400+t,mTotalNum[a]=0,mTotalUsed[a]=0;for(t=0;t<GoldMaterialCount;t++)a=500+t,mTotalNum[a]=0,mTotalUsed[a]=0;for(t=0;t<EventMaterialCount;t++)a=600+t,mTotalNum[a]=0,mTotalUsed[a]=0;for(mTotalNum[800]=0,mTotalUsed[800]=0,mTotalNum[900]=0,mTotalUsed[900]=0,t=0;t<Servantdb.length;t++){for(var n in FormidNum[t])mTotalNum[n]+=FormidNum[t][n];for(var n in FormidUsed[t])mTotalUsed[n]+=FormidUsed[t][n]}0==useInv?($(".num-icon").css("color","rgb(255,255,255)"),$(".num-qp").css("color","rgb(25,25,25)")):1==useInv?($(".num-icon").css("color","rgb(255,117,117)"),$(".num-qp").css("color","rgb(225,25,25)")):($(".num-icon").css("color","rgb(187,222,251)"),$(".num-qp").css("color","rgb(64,146,220)"));a=0;if(0==useInv){for(t=0;t<2;t++)for(j=0;j<7;j++)a=100+10*t+j,document.getElementById(a).innerText=mTotalNum[a],document.getElementById("chaldea_"+a).innerText=mTotalChaldea[a],mTotalNum[a]>0?$("#box_"+a).fadeIn("fast"):0==mTotalNum[a]&&$("#box_"+a).fadeOut("fast"),e+=mTotalNum[a];for(t=0;t<3;t++)for(j=0;j<7;j++)a=200+10*t+j,document.getElementById(a).innerText=mTotalNum[a],document.getElementById("chaldea_"+a).innerText=mTotalChaldea[a],mTotalNum[a]>0?$("#box_"+a).fadeIn("fast"):0==mTotalNum[a]&&$("#box_"+a).fadeOut("fast"),e+=mTotalNum[a];for(t=0;t<BronzeMaterialCount;t++)a=300+t,document.getElementById(a).innerText=mTotalNum[a],document.getElementById("chaldea_"+a).innerText=mTotalChaldea[a],mTotalNum[a]>0?$("#box_"+a).fadeIn("fast"):0==mTotalNum[a]&&$("#box_"+a).fadeOut("fast"),e+=mTotalNum[a];for(t=0;t<SilverMaterialCount;t++)a=400+t,document.getElementById(a).innerText=mTotalNum[a],document.getElementById("chaldea_"+a).innerText=mTotalChaldea[a],mTotalNum[a]>0?$("#box_"+a).fadeIn("fast"):0==mTotalNum[a]&&$("#box_"+a).fadeOut("fast"),e+=mTotalNum[a];for(t=0;t<GoldMaterialCount;t++)a=500+t,document.getElementById(a).innerText=mTotalNum[a],document.getElementById("chaldea_"+a).innerText=mTotalChaldea[a],mTotalNum[a]>0?$("#box_"+a).fadeIn("fast"):0==mTotalNum[a]&&$("#box_"+a).fadeOut("fast"),e+=mTotalNum[a];for(t=0;t<EventMaterialCount;t++)a=600+t,document.getElementById(a).innerText=mTotalNum[a],document.getElementById("chaldea_"+a).innerText=mTotalChaldea[a],mTotalNum[a]>0?$("#box_"+a).fadeIn("fast"):0==mTotalNum[a]&&$("#box_"+a).fadeOut("fast"),e+=mTotalNum[a];a=800,document.getElementById(a).innerText=mTotalNum[a],document.getElementById("chaldea_"+a).innerText=mTotalChaldea[a],mTotalNum[a]>0?$("#box_"+a).fadeIn("fast"):0==mTotalNum[a]&&$("#box_"+a).fadeOut("fast"),e+=mTotalNum[a],a=900,document.getElementById(a).rows[0].cells[1].innerText=separate(mTotalNum[a]),document.getElementById("chaldea_"+a).rows[0].cells[1].innerText=separate(mTotalChaldea[a]),mTotalNum[a]>0?$("#box_"+a).fadeIn("fast"):0==mTotalNum[a]&&$("#box_"+a).fadeOut("fast")}else if(1==useInv){for(t=0;t<2;t++)for(j=0;j<7;j++)tempNum=0,a=100+10*t+j,tempNum=mTotalNum[a]-inventoryNum[a],tempNum<0&&(tempNum=0),tempNum>0?$("#box_"+a).fadeIn("fast"):$("#box_"+a).fadeOut("fast"),document.getElementById(a).innerText=tempNum,e+=mTotalNum[a];for(t=0;t<3;t++)for(j=0;j<7;j++)tempNum=0,a=200+10*t+j,tempNum=mTotalNum[a]-inventoryNum[a],tempNum<0&&(tempNum=0),tempNum>0?$("#box_"+a).fadeIn("fast"):$("#box_"+a).fadeOut("fast"),document.getElementById(a).innerText=tempNum,e+=mTotalNum[a];for(t=0;t<BronzeMaterialCount;t++)tempNum=0,a=300+t,tempNum=mTotalNum[a]-inventoryNum[a],tempNum<0&&(tempNum=0),tempNum>0?$("#box_"+a).fadeIn("fast"):$("#box_"+a).fadeOut("fast"),document.getElementById(a).innerText=tempNum,e+=mTotalNum[a];for(t=0;t<SilverMaterialCount;t++)tempNum=0,a=400+t,tempNum=mTotalNum[a]-inventoryNum[a],tempNum<0&&(tempNum=0),tempNum>0?$("#box_"+a).fadeIn("fast"):$("#box_"+a).fadeOut("fast"),document.getElementById(a).innerText=tempNum,e+=mTotalNum[a];for(t=0;t<GoldMaterialCount;t++)tempNum=0,a=500+t,tempNum=mTotalNum[a]-inventoryNum[a],tempNum<0&&(tempNum=0),tempNum>0?$("#box_"+a).fadeIn("fast"):$("#box_"+a).fadeOut("fast"),document.getElementById(a).innerText=tempNum,e+=mTotalNum[a];for(t=0;t<EventMaterialCount;t++)tempNum=0,a=600+t,tempNum=mTotalNum[a]-inventoryNum[a],tempNum<0&&(tempNum=0),tempNum>0?$("#box_"+a).fadeIn("fast"):$("#box_"+a).fadeOut("fast"),document.getElementById(a).innerText=tempNum,e+=mTotalNum[a];tempNum=0,a=800,tempNum=mTotalNum[a]-inventoryNum[a],tempNum<0&&(tempNum=0),tempNum>0?$("#box_"+a).fadeIn("fast"):$("#box_"+a).fadeOut("fast"),document.getElementById(a).innerText=tempNum,e+=mTotalNum[a],tempNum=0,a=900,tempNum=mTotalNum[a]-inventoryNum[a],tempNum<0&&(tempNum=0),tempNum>0?$("#box_"+a).fadeIn("fast"):$("#box_"+a).fadeOut("fast"),document.getElementById(a).rows[0].cells[1].innerText=separate(tempNum),e+=mTotalNum[a]}else{for(t=0;t<2;t++)for(j=0;j<7;j++)a=100+10*t+j,document.getElementById(a).innerText=mTotalUsed[a],mTotalUsed[a]>0?$("#box_"+a).fadeIn("fast"):0==mTotalUsed[a]&&$("#box_"+a).fadeOut("fast"),e+=mTotalUsed[a];for(t=0;t<3;t++)for(j=0;j<7;j++)a=200+10*t+j,document.getElementById(a).innerText=mTotalUsed[a],mTotalUsed[a]>0?$("#box_"+a).fadeIn("fast"):0==mTotalUsed[a]&&$("#box_"+a).fadeOut("fast"),e+=mTotalUsed[a];for(t=0;t<BronzeMaterialCount;t++)a=300+t,document.getElementById(a).innerText=mTotalUsed[a],mTotalUsed[a]>0?$("#box_"+a).fadeIn("fast"):0==mTotalUsed[a]&&$("#box_"+a).fadeOut("fast"),e+=mTotalUsed[a];for(t=0;t<SilverMaterialCount;t++)a=400+t,document.getElementById(a).innerText=mTotalUsed[a],mTotalUsed[a]>0?$("#box_"+a).fadeIn("fast"):0==mTotalUsed[a]&&$("#box_"+a).fadeOut("fast"),e+=mTotalUsed[a];for(t=0;t<GoldMaterialCount;t++)a=500+t,document.getElementById(a).innerText=mTotalUsed[a],mTotalUsed[a]>0?$("#box_"+a).fadeIn("fast"):0==mTotalUsed[a]&&$("#box_"+a).fadeOut("fast"),e+=mTotalUsed[a];for(t=0;t<EventMaterialCount;t++)a=600+t,document.getElementById(a).innerText=mTotalUsed[a],mTotalUsed[a]>0?$("#box_"+a).fadeIn("fast"):0==mTotalUsed[a]&&$("#box_"+a).fadeOut("fast"),e+=mTotalUsed[a];a=800,document.getElementById(a).innerText=mTotalUsed[a],mTotalUsed[a]>0?$("#box_"+a).fadeIn("fast"):0==mTotalUsed[a]&&$("#box_"+a).fadeOut("fast"),e+=mTotalUsed[a],a=900,document.getElementById(a).rows[0].cells[1].innerText=separate(mTotalUsed[a]),mTotalUsed[a]>0?$("#box_"+a).fadeIn("fast"):0==mTotalUsed[a]&&$("#box_"+a).fadeOut("fast"),e+=mTotalUsed[a]}e<=0?$("#inst").show():e>0&&$("#inst").hide()}function StatusSearch(e){if($("#icon-img14").show(),$(".filterBox").hide(),$("[name='class-btn']:checked").prop("checked",!1),$("input[name=class-btn]:eq(12)").prop("checked",!0),clnum=$("[name='class-btn']:checked").val(),statusnum=1,$(".setting-btn").show(),$(this).blur(),$("#modal-overlay")[0])return!1;$("body").append('<div id="modal-overlay"></div>'),$("#modal-overlay").fadeIn("fast"),centeringModalSyncer(3),ChangeServantIcon(),$(".select-slide").css({height:Math.floor($(window).height()-($(".select-servant-title").outerHeight()+$(".status-filter").outerHeight()+$(".select-class").outerHeight()))+"px"}),$("#select-servant").fadeIn("fast")}function ReverseSearch(e){if($("#icon-img14").show(),$(this).blur(),$("#modal-overlay")[0])return!1;$("body").append('<div id="modal-overlay"></div>'),$("#modal-overlay").fadeIn("fast"),centeringModalSyncer(3),$(".reverseBox").show(),$(".select-slide").css({height:Math.floor($(window).height()-($(".select-servant-title").outerHeight()+$(".reverseBox").outerHeight()+$(".select-class").outerHeight()))+"px"}),$("#select-servant").fadeIn("fast")}function ServantSearch(e){if($(this).blur(),$("#modal-overlay")[0])return!1;$("[name='class-btn']:checked").prop("checked",!1),$("[name='class-btn'][value='0']").prop("checked",!0),clnum=$("[name='class-btn']:checked").val(),renum=0,ChangeServantIcon(),$("body").append('<div id="modal-overlay"></div>'),$("#modal-overlay").fadeIn("fast"),centeringModalSyncer(3),$(".select-slide").css({height:Math.floor($(window).height()-($(".select-servant-title").outerHeight()+$(".select-class").outerHeight()))+"px"}),$("#select-servant").fadeIn("fast")}function ChangeServantIcon(){if($('div[class="box_focus_total"]:has(.selected-material-icon)').remove(),$(".selectedMaterial").append('<div class="box_focus_total"><figure class="fig-relative"><img src="./i/icon/item_'+renum+'.jpg" class="selected-material-icon"><figcaption class="num-focus_total"><span id="focus_total"></span></figcaption></figure></div>'),console.log(renum),rev=$("[name='reverse-btn']:checked").val(),$(".servant-icon").remove(),$('div[class="box_focus"]').remove(),$('div[class="box-chaldea"]').remove(),0==renum&&0==statusnum&&0==chaldeanum){if(tempNum=0,tempNumtotal=0,99==clnum){for(i=0;i<Servantdb.length;i++)if(-1==$.inArray(Servantdb[i].id,numCalcServantId))switch(Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>')}else if($.inArray(Servantdb[i].id,numCalcServantId)>-1)switch(Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>')}}else for(i=0;i<Servantdb.length;i++)if(Servantdb[i].kind==clnum&&-1==$.inArray(Servantdb[i].id,numCalcServantId))switch(Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"></figure></div>')}else if(Servantdb[i].kind==clnum&&$.inArray(Servantdb[i].id,numCalcServantId)>-1)switch(Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></figure></div>')}}else if(1==chaldeanum&&99==clnum){for($(".chaldea-r5").hide(),$(".chaldea-r4").hide(),$(".chaldea-r3").hide(),$(".chaldea-r2").hide(),$(".chaldea-r1").hide(),i=0;i<Servantdb.length;i++)if(1==myServantdb[i][9]&&-1==$.inArray(Servantdb[i].id,numCalcServantId))switch(Servantdb[i].value){case 4:$(".chaldea-r5").show(),$(".icon-chaldea-r5").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 3:$(".chaldea-r4").show(),$(".icon-chaldea-r4").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 2:$(".chaldea-r3").show(),$(".icon-chaldea-r3").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 1:$(".chaldea-r2").show(),$(".icon-chaldea-r2").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 0:$(".chaldea-r1").show(),$(".icon-chaldea-r1").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>")}else if(1==myServantdb[i][9]&&$.inArray(Servantdb[i].id,numCalcServantId)>-1)switch(Servantdb[i].value){case 4:$(".chaldea-r5").show(),$(".icon-chaldea-r5").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 3:$(".chaldea-r4").show(),
$(".icon-chaldea-r4").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 2:$(".chaldea-r3").show(),$(".icon-chaldea-r3").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 1:$(".chaldea-r2").show(),$(".icon-chaldea-r2").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 0:$(".chaldea-r1").show(),$(".icon-chaldea-r1").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>")}}else if(1==chaldeanum){for($(".chaldea-r5").hide(),$(".chaldea-r4").hide(),$(".chaldea-r3").hide(),$(".chaldea-r2").hide(),$(".chaldea-r1").hide(),i=0;i<Servantdb.length;i++)if(1==myServantdb[i][9]&&Servantdb[i].kind==clnum&&-1==$.inArray(Servantdb[i].id,numCalcServantId))switch(Servantdb[i].value){case 4:$(".chaldea-r5").show(),$(".icon-chaldea-r5").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 3:$(".chaldea-r4").show(),$(".icon-chaldea-r4").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 2:$(".chaldea-r3").show(),$(".icon-chaldea-r3").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 1:$(".chaldea-r2").show(),$(".icon-chaldea-r2").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 0:$(".chaldea-r1").show(),$(".icon-chaldea-r1").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="input_chaldea"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>")}else if(1==myServantdb[i][9]&&Servantdb[i].kind==clnum&&$.inArray(Servantdb[i].id,numCalcServantId)>-1)switch(Servantdb[i].value){case 4:$(".chaldea-r5").show(),$(".icon-chaldea-r5").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 3:$(".chaldea-r4").show(),$(".icon-chaldea-r4").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 2:$(".chaldea-r3").show(),$(".icon-chaldea-r3").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 1:$(".chaldea-r2").show(),$(".icon-chaldea-r2").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>");break;case 0:$(".chaldea-r1").show(),$(".icon-chaldea-r1").append('<div class="box-chaldea"><div class="box-c_image"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"></div><div class="box-c_ascension"><span>'+myServantdb[i][1]+'</span></div><div class="box-c_skill"><span>'+myServantdb[i][3]+"/"+myServantdb[i][5]+"/"+myServantdb[i][7]+"</span><br><span>"+myServantdb[i][myServantdbRowidxAppend1From]+"/"+myServantdb[i][myServantdbRowidxAppend2From]+"/"+myServantdb[i][myServantdbRowidxAppend3From]+"</span></div></div>")}}else if(1==statusnum&&99==clnum){switch(statusArray[0]){case 0:e=Servantdb;break;case"1":e=jQuery.grep(Servantdb,function(e){return!!e.policyLaw});break;case"2":e=jQuery.grep(Servantdb,function(e){return!!e.policyNeutral});break;case"3":e=jQuery.grep(Servantdb,function(e){return!!e.policyChaos})}switch(statusArray[1]){case 0:e=e;break;case"1":e=jQuery.grep(e,function(e){return!!e.personalGood});break;case"2":e=jQuery.grep(e,function(e){return!!e.personalNeutral});break;case"3":e=jQuery.grep(e,function(e){return!!e.personalEvil});break;case"4":e=jQuery.grep(e,function(e){return!!e.personalMad});break;case"5":e=jQuery.grep(e,function(e){return!!e.personalBride});break;case"6":e=jQuery.grep(e,function(e){return!!e.personalSummer})}switch(statusArray[2]){case 0:e=e;break;case"1":e=jQuery.grep(e,function(e){return!!e.attrbuteSky});break;case"2":e=jQuery.grep(e,function(e){return!!e.attrbuteEarth});break;case"3":e=jQuery.grep(e,function(e){return!!e.attrbuteMan});break;case"4":e=jQuery.grep(e,function(e){return!!e.attrbuteStar});break;case"5":e=jQuery.grep(e,function(e){return!!e.attrbuteBeast})}switch(statusArray[3]>0&&(e=jQuery.grep(e,function(e){return!!e.divinity})),statusArray[4]>0&&(e=jQuery.grep(e,function(e){return!!e.dragon})),statusArray[5]>0&&(e=jQuery.grep(e,function(e){return!!e.roma})),statusArray[6]>0&&(e=jQuery.grep(e,function(e){return!!e.savagebeast})),statusArray[7]>0&&(e=jQuery.grep(e,function(e){return!!e.riding})),statusArray[8]>0&&(e=jQuery.grep(e,function(e){return!!e.love})),statusArray[9]>0&&(e=jQuery.grep(e,function(e){return!!e.devilish})),statusArray[10]>0&&(e=jQuery.grep(e,function(e){return!!e.davinci})),statusArray[11]>0&&(e=jQuery.grep(e,function(e){return!!e.saberface})),statusArray[12]>0&&(e=jQuery.grep(e,function(e){return!!e.arthur})),statusArray[13]){case 0:e=e;break;case"1":e=jQuery.grep(e,function(e){return!!e.nptypeQ});break;case"2":e=jQuery.grep(e,function(e){return!!e.nptypeA});break;case"3":e=jQuery.grep(e,function(e){return!!e.nptypeB})}switch(statusArray[14]){case 0:e=e;break;case"1":e=jQuery.grep(e,function(e){return!!e.npeffectA});break;case"2":e=jQuery.grep(e,function(e){return!!e.npeffectO});break;case"3":e=jQuery.grep(e,function(e){return!!e.npeffectS})}switch(statusArray[15]){case 0:e=e;break;case"1":e=jQuery.grep(e,function(e){return!!e.npEXmale});break;case"2":e=jQuery.grep(e,function(e){return!!e.npEXfemale});break;case"3":e=jQuery.grep(e,function(e){return!!e.npEXdivine});break;case"4":e=jQuery.grep(e,function(e){return!!e.npEXdragon});break;case"5":e=jQuery.grep(e,function(e){return!!e.npEXpoison});break;case"6":e=jQuery.grep(e,function(e){return!!e.npEXriding});break;case"7":e=jQuery.grep(e,function(e){return!!e.npEXlove});break;case"8":e=jQuery.grep(e,function(e){return!!e.npEXevil});break;case"9":e=jQuery.grep(e,function(e){return!!e.npEXdemonic});break;case"10":e=jQuery.grep(e,function(e){return!!e.npEXskyearth});break;case"11":e=jQuery.grep(e,function(e){return!!e.npEXservant});break;case"12":e=jQuery.grep(e,function(e){return!!e.npEXface});break;case"13":e=jQuery.grep(e,function(e){return!!e.npEXarthur});break;case"14":e=jQuery.grep(e,function(e){return!!e.npEXsaber})}switch(statusArray[16]){case 0:e=e;break;case"1":e=jQuery.grep(e,function(e){return!!e.sEXmale});break;case"2":e=jQuery.grep(e,function(e){return!!e.sEXdivine});break;case"3":e=jQuery.grep(e,function(e){return!!e.sEXdragon});break;case"4":e=jQuery.grep(e,function(e){return!!e.sEXroma});break;case"5":e=jQuery.grep(e,function(e){return!!e.sEXsavagebeast});break;case"6":e=jQuery.grep(e,function(e){return!!e.sEXevil});break;case"7":e=jQuery.grep(e,function(e){return!!e.sEXdemonic});break;case"8":e=jQuery.grep(e,function(e){return!!e.sEXskyearth});break;case"9":e=jQuery.grep(e,function(e){return!!e.sEXhuman});break;case"10":e=jQuery.grep(e,function(e){return!!e.sEXhumanoid});break;case"11":e=jQuery.grep(e,function(e){return!!e.sEXundead});break;case"12":e=jQuery.grep(e,function(e){return!!e.sEXdemon});break;case"13":e=jQuery.grep(e,function(e){return!!e.sEXlarge});break;case"14":e=jQuery.grep(e,function(e){return!!e.sEXsaber})}for(i=0;i<e.length;i++)if(-1==$.inArray(e[i].id,numCalcServantId))switch(e[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-focus"></figure></div>')}else if($.inArray(Servantdb[i].id,numCalcServantId)>-1)switch(e[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-selected"></figure></div>')}}else if(1==statusnum){var e;switch(statusArray[0]){case 0:e=Servantdb;break;case"1":e=jQuery.grep(Servantdb,function(e){return!!e.policyLaw});break;case"2":e=jQuery.grep(Servantdb,function(e){return!!e.policyNeutral});break;case"3":e=jQuery.grep(Servantdb,function(e){return!!e.policyChaos})}switch(statusArray[1]){case 0:e=e;break;case"1":e=jQuery.grep(e,function(e){return!!e.personalGood});break;case"2":e=jQuery.grep(e,function(e){return!!e.personalNeutral});break;case"3":e=jQuery.grep(e,function(e){return!!e.personalEvil});break;case"4":e=jQuery.grep(e,function(e){return!!e.personalMad});break;case"5":e=jQuery.grep(e,function(e){return!!e.personalBride});break;case"6":e=jQuery.grep(e,function(e){return!!e.personalSummer})}switch(statusArray[2]){case 0:e=e;break;case"1":e=jQuery.grep(e,function(e){return!!e.attrbuteSky});break;case"2":e=jQuery.grep(e,function(e){return!!e.attrbuteEarth});break;case"3":e=jQuery.grep(e,function(e){return!!e.attrbuteMan});break;case"4":e=jQuery.grep(e,function(e){return!!e.attrbuteStar});break;case"5":e=jQuery.grep(e,function(e){return!!e.attrbuteBeast})}switch(statusArray[3]>0&&(e=jQuery.grep(e,function(e){return!!e.divinity})),statusArray[4]>0&&(e=jQuery.grep(e,function(e){return!!e.dragon})),statusArray[5]>0&&(e=jQuery.grep(e,function(e){return!!e.roma})),statusArray[6]>0&&(e=jQuery.grep(e,function(e){return!!e.savagebeast})),statusArray[7]>0&&(e=jQuery.grep(e,function(e){return!!e.riding})),statusArray[8]>0&&(e=jQuery.grep(e,function(e){return!!e.love})),statusArray[9]>0&&(e=jQuery.grep(e,function(e){return!!e.devilish})),statusArray[10]>0&&(e=jQuery.grep(e,function(e){return!!e.davinci})),statusArray[11]>0&&(e=jQuery.grep(e,function(e){return!!e.saberface})),statusArray[12]>0&&(e=jQuery.grep(e,function(e){return!!e.arthur})),statusArray[13]){case 0:e=e;break;case"1":e=jQuery.grep(e,function(e){return!!e.nptypeQ});break;case"2":e=jQuery.grep(e,function(e){return!!e.nptypeA});break;case"3":e=jQuery.grep(e,function(e){return!!e.nptypeB})}switch(statusArray[14]){case 0:e=e;break;case"1":e=jQuery.grep(e,function(e){return!!e.npeffectA});break;case"2":e=jQuery.grep(e,function(e){return!!e.npeffectO});break;case"3":e=jQuery.grep(e,function(e){return!!e.npeffectS})}switch(statusArray[15]){case 0:e=e;break;case"1":e=jQuery.grep(e,function(e){return!!e.npEXmale});break;case"2":e=jQuery.grep(e,function(e){return!!e.npEXfemale});break;case"3":e=jQuery.grep(e,function(e){return!!e.npEXdivine});break;case"4":e=jQuery.grep(e,function(e){return!!e.npEXdragon});break;case"5":e=jQuery.grep(e,function(e){return!!e.npEXpoison});break;case"6":e=jQuery.grep(e,function(e){return!!e.npEXriding});break;case"7":e=jQuery.grep(e,function(e){return!!e.npEXlove});break;case"8":e=jQuery.grep(e,function(e){return!!e.npEXevil});break;case"9":e=jQuery.grep(e,function(e){return!!e.npEXdemonic});break;case"10":e=jQuery.grep(e,function(e){return!!e.npEXskyearth});break;case"11":e=jQuery.grep(e,function(e){return!!e.npEXservant});break;case"12":e=jQuery.grep(e,function(e){return!!e.npEXface});break;case"13":e=jQuery.grep(e,function(e){return!!e.npEXarthur});break;case"14":e=jQuery.grep(e,function(e){return!!e.npEXsaber})}switch(statusArray[16]){case 0:e=e;break;case"1":e=jQuery.grep(e,function(e){return!!e.sEXmale});break;case"2":e=jQuery.grep(e,function(e){return!!e.sEXdivine});break;case"3":e=jQuery.grep(e,function(e){return!!e.sEXdragon});break;case"4":e=jQuery.grep(e,function(e){return!!e.sEXroma});break;case"5":e=jQuery.grep(e,function(e){return!!e.sEXsavagebeast});break;case"6":e=jQuery.grep(e,function(e){return!!e.sEXevil});break;case"7":e=jQuery.grep(e,function(e){return!!e.sEXdemonic});break;case"8":e=jQuery.grep(e,function(e){return!!e.sEXskyearth});break;case"9":e=jQuery.grep(e,function(e){return!!e.sEXhuman});break;case"10":e=jQuery.grep(e,function(e){return!!e.sEXhumanoid});break;case"11":e=jQuery.grep(e,function(e){return!!e.sEXundead});break;case"12":e=jQuery.grep(e,function(e){return!!e.sEXdemon});break;case"13":e=jQuery.grep(e,function(e){return!!e.sEXlarge});break;case"14":e=jQuery.grep(e,function(e){return!!e.sEXsaber})}for(i=0;i<e.length;i++)if(e[i].kind==clnum&&-1==$.inArray(e[i].id,numCalcServantId))switch(e[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-focus"></figure></div>');break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-focus"></figure></div>')}else if(e[i].kind==clnum&&$.inArray(Servantdb[i].id,numCalcServantId)>-1)switch(e[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-selected"></figure></div>');break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+e[i].id+'" src="./i/icon_servants/'+e[i].id+'.jpg?20190827" class="servant-selected"></figure></div>')}}else{if(tempNumtotal=0,99==clnum){for(clnum=0;clnum<ServantClassCount;clnum++)for(i=0;i<Servantdb.length;i++)if(tempNum=0,Servantdb[i].kind==clnum&&-1==$.inArray(Servantdb[i].id,numCalcServantId)){if(10==rev){if(renum in Servantdb[i].AdAgain1==1||renum in Servantdb[i].AdAgain2==1||renum in Servantdb[i].AdAgain3==1||renum in Servantdb[i].AdAgain4==1){switch(renum in Servantdb[i].AdAgain1==1&&(tempNum+=Servantdb[i].AdAgain1[renum]),renum in Servantdb[i].AdAgain2==1&&(tempNum+=Servantdb[i].AdAgain2[renum]),renum in Servantdb[i].AdAgain3==1&&(tempNum+=Servantdb[i].AdAgain3[renum]),renum in Servantdb[i].AdAgain4==1&&(tempNum+=Servantdb[i].AdAgain4[renum]),Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>")}tempNumtotal+=tempNum}}else if(11==rev){if(renum in Servantdb[i].skill1==1||renum in Servantdb[i].skill2==1||renum in Servantdb[i].skill3==1||renum in Servantdb[i].skill4==1||renum in Servantdb[i].skill5==1||renum in Servantdb[i].skill6==1||renum in Servantdb[i].skill7==1||renum in Servantdb[i].skill8==1||renum in Servantdb[i].skill9==1){switch(renum in Servantdb[i].skill1==1&&(tempNum+=Servantdb[i].skill1[renum]),renum in Servantdb[i].skill2==1&&(tempNum+=Servantdb[i].skill2[renum]),renum in Servantdb[i].skill3==1&&(tempNum+=Servantdb[i].skill3[renum]),renum in Servantdb[i].skill4==1&&(tempNum+=Servantdb[i].skill4[renum]),renum in Servantdb[i].skill5==1&&(tempNum+=Servantdb[i].skill5[renum]),renum in Servantdb[i].skill6==1&&(tempNum+=Servantdb[i].skill6[renum]),renum in Servantdb[i].skill7==1&&(tempNum+=Servantdb[i].skill7[renum]),renum in Servantdb[i].skill8==1&&(tempNum+=Servantdb[i].skill8[renum]),renum in Servantdb[i].skill9==1&&(tempNum+=Servantdb[i].skill9[renum]),tempNum*=3,Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>")}tempNumtotal+=tempNum}}else if(12==rev&&(renum in Servantdb[i].askill1==1||renum in Servantdb[i].askill2==1||renum in Servantdb[i].askill3==1||renum in Servantdb[i].askill4==1||renum in Servantdb[i].askill5==1||renum in Servantdb[i].askill6==1||renum in Servantdb[i].askill7==1||renum in Servantdb[i].askill8==1||renum in Servantdb[i].askill9==1)){switch(renum in Servantdb[i].askill1==1&&(tempNum+=Servantdb[i].askill1[renum]),renum in Servantdb[i].askill2==1&&(tempNum+=Servantdb[i].askill2[renum]),renum in Servantdb[i].askill3==1&&(tempNum+=Servantdb[i].askill3[renum]),renum in Servantdb[i].askill4==1&&(tempNum+=Servantdb[i].askill4[renum]),renum in Servantdb[i].askill5==1&&(tempNum+=Servantdb[i].askill5[renum]),renum in Servantdb[i].askill6==1&&(tempNum+=Servantdb[i].askill6[renum]),renum in Servantdb[i].askill7==1&&(tempNum+=Servantdb[i].askill7[renum]),renum in Servantdb[i].askill8==1&&(tempNum+=Servantdb[i].askill8[renum]),renum in Servantdb[i].askill9==1&&(tempNum+=Servantdb[i].askill9[renum]),tempNum*=3,Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>")}tempNumtotal+=tempNum}}else if(Servantdb[i].kind==clnum&&$.inArray(Servantdb[i].id,numCalcServantId)>-1)if(10==rev){if(renum in Servantdb[i].AdAgain1==1&&$.inArray(Servantdb[i].id,numCalcServantId)>-1||renum in Servantdb[i].AdAgain2==1||renum in Servantdb[i].AdAgain3==1||renum in Servantdb[i].AdAgain4==1)switch(renum in Servantdb[i].AdAgain1==1&&(tempNum+=Servantdb[i].AdAgain1[renum]),renum in Servantdb[i].AdAgain2==1&&(tempNum+=Servantdb[i].AdAgain2[renum]),renum in Servantdb[i].AdAgain3==1&&(tempNum+=Servantdb[i].AdAgain3[renum]),renum in Servantdb[i].AdAgain4==1&&(tempNum+=Servantdb[i].AdAgain4[renum]),Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>")}}else if(11==rev){
if(renum in Servantdb[i].skill1==1||renum in Servantdb[i].skill2==1||renum in Servantdb[i].skill3==1||renum in Servantdb[i].skill4==1||renum in Servantdb[i].skill5==1||renum in Servantdb[i].skill6==1||renum in Servantdb[i].skill7==1||renum in Servantdb[i].skill8==1||renum in Servantdb[i].skill9==1)switch(renum in Servantdb[i].skill1==1&&(tempNum+=Servantdb[i].skill1[renum]),renum in Servantdb[i].skill2==1&&(tempNum+=Servantdb[i].skill2[renum]),renum in Servantdb[i].skill3==1&&(tempNum+=Servantdb[i].skill3[renum]),renum in Servantdb[i].skill4==1&&(tempNum+=Servantdb[i].skill4[renum]),renum in Servantdb[i].skill5==1&&(tempNum+=Servantdb[i].skill5[renum]),renum in Servantdb[i].skill6==1&&(tempNum+=Servantdb[i].skill6[renum]),renum in Servantdb[i].skill7==1&&(tempNum+=Servantdb[i].skill7[renum]),renum in Servantdb[i].skill8==1&&(tempNum+=Servantdb[i].skill8[renum]),renum in Servantdb[i].skill9==1&&(tempNum+=Servantdb[i].skill9[renum]),tempNum*=3,Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>")}}else if(12==rev&&(renum in Servantdb[i].askill1==1||renum in Servantdb[i].askill2==1||renum in Servantdb[i].askill3==1||renum in Servantdb[i].askill4==1||renum in Servantdb[i].askill5==1||renum in Servantdb[i].askill6==1||renum in Servantdb[i].askill7==1||renum in Servantdb[i].askill8==1||renum in Servantdb[i].askill9==1))switch(renum in Servantdb[i].askill1==1&&(tempNum+=Servantdb[i].askill1[renum]),renum in Servantdb[i].askill2==1&&(tempNum+=Servantdb[i].askill2[renum]),renum in Servantdb[i].askill3==1&&(tempNum+=Servantdb[i].askill3[renum]),renum in Servantdb[i].askill4==1&&(tempNum+=Servantdb[i].askill4[renum]),renum in Servantdb[i].askill5==1&&(tempNum+=Servantdb[i].askill5[renum]),renum in Servantdb[i].askill6==1&&(tempNum+=Servantdb[i].askill6[renum]),renum in Servantdb[i].askill7==1&&(tempNum+=Servantdb[i].askill7[renum]),renum in Servantdb[i].askill8==1&&(tempNum+=Servantdb[i].askill8[renum]),renum in Servantdb[i].askill9==1&&(tempNum+=Servantdb[i].askill9[renum]),tempNum*=3,Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>")}clnum=13}else for(i=0;i<Servantdb.length;i++)if(tempNum=0,Servantdb[i].kind==clnum&&-1==$.inArray(Servantdb[i].id,numCalcServantId)){if(10==rev){if(renum in Servantdb[i].AdAgain1==1||renum in Servantdb[i].AdAgain2==1||renum in Servantdb[i].AdAgain3==1||renum in Servantdb[i].AdAgain4==1){switch(renum in Servantdb[i].AdAgain1==1&&(tempNum+=Servantdb[i].AdAgain1[renum]),renum in Servantdb[i].AdAgain2==1&&(tempNum+=Servantdb[i].AdAgain2[renum]),renum in Servantdb[i].AdAgain3==1&&(tempNum+=Servantdb[i].AdAgain3[renum]),renum in Servantdb[i].AdAgain4==1&&(tempNum+=Servantdb[i].AdAgain4[renum]),Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>")}tempNumtotal+=tempNum}}else if(11==rev){if(renum in Servantdb[i].skill1==1||renum in Servantdb[i].skill2==1||renum in Servantdb[i].skill3==1||renum in Servantdb[i].skill4==1||renum in Servantdb[i].skill5==1||renum in Servantdb[i].skill6==1||renum in Servantdb[i].skill7==1||renum in Servantdb[i].skill8==1||renum in Servantdb[i].skill9==1){switch(renum in Servantdb[i].skill1==1&&(tempNum+=Servantdb[i].skill1[renum]),renum in Servantdb[i].skill2==1&&(tempNum+=Servantdb[i].skill2[renum]),renum in Servantdb[i].skill3==1&&(tempNum+=Servantdb[i].skill3[renum]),renum in Servantdb[i].skill4==1&&(tempNum+=Servantdb[i].skill4[renum]),renum in Servantdb[i].skill5==1&&(tempNum+=Servantdb[i].skill5[renum]),renum in Servantdb[i].skill6==1&&(tempNum+=Servantdb[i].skill6[renum]),renum in Servantdb[i].skill7==1&&(tempNum+=Servantdb[i].skill7[renum]),renum in Servantdb[i].skill8==1&&(tempNum+=Servantdb[i].skill8[renum]),renum in Servantdb[i].skill9==1&&(tempNum+=Servantdb[i].skill9[renum]),tempNum*=3,Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>")}tempNumtotal+=tempNum}}else if(12==rev&&(renum in Servantdb[i].askill1==1||renum in Servantdb[i].askill2==1||renum in Servantdb[i].askill3==1||renum in Servantdb[i].askill4==1||renum in Servantdb[i].askill5==1||renum in Servantdb[i].askill6==1||renum in Servantdb[i].askill7==1||renum in Servantdb[i].askill8==1||renum in Servantdb[i].askill9==1)){switch(renum in Servantdb[i].askill1==1&&(tempNum+=Servantdb[i].askill1[renum]),renum in Servantdb[i].askill2==1&&(tempNum+=Servantdb[i].askill2[renum]),renum in Servantdb[i].askill3==1&&(tempNum+=Servantdb[i].askill3[renum]),renum in Servantdb[i].askill4==1&&(tempNum+=Servantdb[i].askill4[renum]),renum in Servantdb[i].askill5==1&&(tempNum+=Servantdb[i].askill5[renum]),renum in Servantdb[i].askill6==1&&(tempNum+=Servantdb[i].askill6[renum]),renum in Servantdb[i].askill7==1&&(tempNum+=Servantdb[i].askill7[renum]),renum in Servantdb[i].askill8==1&&(tempNum+=Servantdb[i].askill8[renum]),renum in Servantdb[i].askill9==1&&(tempNum+=Servantdb[i].askill9[renum]),tempNum*=3,Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-focus"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>")}tempNumtotal+=tempNum}}else if(Servantdb[i].kind==clnum&&$.inArray(Servantdb[i].id,numCalcServantId)>-1)if(10==rev){if(renum in Servantdb[i].AdAgain1==1||renum in Servantdb[i].AdAgain2==1||renum in Servantdb[i].AdAgain3==1||renum in Servantdb[i].AdAgain4==1)switch(renum in Servantdb[i].AdAgain1==1&&(tempNum+=Servantdb[i].AdAgain1[renum]),renum in Servantdb[i].AdAgain2==1&&(tempNum+=Servantdb[i].AdAgain2[renum]),renum in Servantdb[i].AdAgain3==1&&(tempNum+=Servantdb[i].AdAgain3[renum]),renum in Servantdb[i].AdAgain4==1&&(tempNum+=Servantdb[i].AdAgain4[renum]),Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>")}}else if(11==rev){if(renum in Servantdb[i].skill1==1||renum in Servantdb[i].skill2==1||renum in Servantdb[i].skill3==1||renum in Servantdb[i].skill4==1||renum in Servantdb[i].skill5==1||renum in Servantdb[i].skill6==1||renum in Servantdb[i].skill7==1||renum in Servantdb[i].skill8==1||renum in Servantdb[i].skill9==1)switch(renum in Servantdb[i].skill1==1&&(tempNum+=Servantdb[i].skill1[renum]),renum in Servantdb[i].skill2==1&&(tempNum+=Servantdb[i].skill2[renum]),renum in Servantdb[i].skill3==1&&(tempNum+=Servantdb[i].skill3[renum]),renum in Servantdb[i].skill4==1&&(tempNum+=Servantdb[i].skill4[renum]),renum in Servantdb[i].skill5==1&&(tempNum+=Servantdb[i].skill5[renum]),renum in Servantdb[i].skill6==1&&(tempNum+=Servantdb[i].skill6[renum]),renum in Servantdb[i].skill7==1&&(tempNum+=Servantdb[i].skill7[renum]),renum in Servantdb[i].skill8==1&&(tempNum+=Servantdb[i].skill8[renum]),renum in Servantdb[i].skill9==1&&(tempNum+=Servantdb[i].skill9[renum]),tempNum*=3,Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>")}}else if(12==rev&&(renum in Servantdb[i].askill1==1||renum in Servantdb[i].askill2==1||renum in Servantdb[i].askill3==1||renum in Servantdb[i].askill4==1||renum in Servantdb[i].askill5==1||renum in Servantdb[i].askill6==1||renum in Servantdb[i].askill7==1||renum in Servantdb[i].askill8==1||renum in Servantdb[i].askill9==1))switch(renum in Servantdb[i].askill1==1&&(tempNum+=Servantdb[i].askill1[renum]),renum in Servantdb[i].askill2==1&&(tempNum+=Servantdb[i].askill2[renum]),renum in Servantdb[i].askill3==1&&(tempNum+=Servantdb[i].askill3[renum]),renum in Servantdb[i].askill4==1&&(tempNum+=Servantdb[i].askill4[renum]),renum in Servantdb[i].askill5==1&&(tempNum+=Servantdb[i].askill5[renum]),renum in Servantdb[i].askill6==1&&(tempNum+=Servantdb[i].askill6[renum]),renum in Servantdb[i].askill7==1&&(tempNum+=Servantdb[i].askill7[renum]),renum in Servantdb[i].askill8==1&&(tempNum+=Servantdb[i].askill8[renum]),renum in Servantdb[i].askill9==1&&(tempNum+=Servantdb[i].askill9[renum]),tempNum*=3,Servantdb[i].value){case 4:$(".icon-place-r5").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 3:$(".icon-place-r4").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 2:$(".icon-place-r3").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 1:$(".icon-place-r2").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>");break;case 0:$(".icon-place-r1").append('<div class="box_focus"><figure class="fig-relative"><input type="image" value="'+Servantdb[i].id+'" src="./i/icon_servants/'+Servantdb[i].id+'.jpg?20190827" class="servant-selected"><figcaption class="num-focus"><span id="focus_'+Servantdb[i].id+'">'+tempNum+"</span></figcaption></figure></div>")}document.getElementById("focus_total").innerText=tempNumtotal}}function locking(e,a){if(a==lockingPatternAll)$("#sairin_to_"+e).val()==$("#sairin_from_"+e).val()?(lockSetting[e-1][0]=1,4==$("#sairin_from_"+e).val()?$("[name=stage2_0_"+e+"]").html('<img src="i/Finish.png">'):$("[name=stage2_0_"+e+"]").html("<span>"+$("#sairin_from_"+e).val()+'</span><img src="i/Lock.png">'),$("[name=stage2_0_"+e+"]").show()):$("[name=stage2_0_"+e+"]").hide(),$("#skill1_to_"+e).val()==$("#skill1_from_"+e).val()?(lockSetting[e-1][1]=1,10==$("#skill1_from_"+e).val()?$("[name=stage2_1_"+e+"]").html('<img src="i/Finish.png">'):$("[name=stage2_1_"+e+"]").html("<span>"+$("#skill1_from_"+e).val()+'</span><img src="i/Lock.png">'),$("[name=stage2_1_"+e+"]").show()):$("[name=stage2_1_"+e+"]").hide(),$("#skill2_to_"+e).val()==$("#skill2_from_"+e).val()?(lockSetting[e-1][2]=1,10==$("#skill2_from_"+e).val()?$("[name=stage2_2_"+e+"]").html('<img src="i/Finish.png">'):$("[name=stage2_2_"+e+"]").html("<span>"+$("#skill2_from_"+e).val()+'</span><img src="i/Lock.png">'),$("[name=stage2_2_"+e+"]").show()):$("[name=stage2_2_"+e+"]").hide(),$("#skill3_to_"+e).val()==$("#skill3_from_"+e).val()?(lockSetting[e-1][3]=1,10==$("#skill3_from_"+e).val()?$("[name=stage2_3_"+e+"]").html('<img src="i/Finish.png">'):$("[name=stage2_3_"+e+"]").html("<span>"+$("#skill3_from_"+e).val()+'</span><img src="i/Lock.png">'),$("[name=stage2_3_"+e+"]").show()):$("[name=stage2_3_"+e+"]").hide(),$(IDAppend1To+e).val()==$(IDAppend1From+e).val()?(lockSetting[e-1][TargetPatternAppend1]=1,dolock($("[name="+NameAppend1LockSelect+e+"]"),$(IDAppend1From+e),$(IDAppend1To+e),!1)):(lockSetting[e-1][TargetPatternAppend1]=0,doUnlock($("[name="+NameAppend1LockSelect+e+"]"),$(IDAppend1From+e),$(IDAppend1To+e),!1)),$(IDAppend2To+e).val()==$(IDAppend2From+e).val()?(lockSetting[e-1][TargetPatternAppend2]=1,dolock($("[name="+NameAppend2LockSelect+e+"]"),$(IDAppend2From+e),$(IDAppend2To+e),!1)):(lockSetting[e-1][TargetPatternAppend2]=0,doUnlock($("[name="+NameAppend2LockSelect+e+"]"),$(IDAppend2From+e),$(IDAppend2To+e),!1)),$(IDAppend3To+e).val()==$(IDAppend3From+e).val()?(lockSetting[e-1][TargetPatternAppend3]=1,dolock($("[name="+NameAppend3LockSelect+e+"]"),$(IDAppend3From+e),$(IDAppend3To+e),!1)):(lockSetting[e-1][TargetPatternAppend3]=0,doUnlock($("[name="+NameAppend3LockSelect+e+"]"),$(IDAppend3From+e),$(IDAppend3To+e),!1)),materialCalc(e);else if(0==lockSetting[e-1][a]){switch(lockSetting[e-1][a]=1,a){case 0:$("#sairin_to_"+e).val($("#sairin_from_"+e).val()),4==$("#sairin_from_"+e).val()?$("[name=stage2_0_"+e+"]").html('<img src="i/Finish.png">'):$("[name=stage2_0_"+e+"]").html("<span>"+$("#sairin_from_"+e).val()+'</span><img src="i/Lock.png">'),$("[name=stage2_"+a+"_"+e+"]").fadeIn(100);break;case 1:$("#skill1_to_"+e).val($("#skill1_from_"+e).val()),10==$("#skill1_from_"+e).val()?$("[name=stage2_1_"+e+"]").html('<img src="i/Finish.png">'):$("[name=stage2_1_"+e+"]").html("<span>"+$("#skill1_from_"+e).val()+'</span><img src="i/Lock.png">'),$("[name=stage2_"+a+"_"+e+"]").fadeIn(100);break;case 2:$("#skill2_to_"+e).val($("#skill2_from_"+e).val()),10==$("#skill2_from_"+e).val()?$("[name=stage2_2_"+e+"]").html('<img src="i/Finish.png">'):$("[name=stage2_2_"+e+"]").html("<span>"+$("#skill2_from_"+e).val()+'</span><img src="i/Lock.png">'),$("[name=stage2_"+a+"_"+e+"]").fadeIn(100);break;case 3:$("#skill3_to_"+e).val($("#skill3_from_"+e).val()),10==$("#skill3_from_"+e).val()?$("[name=stage2_3_"+e+"]").html('<img src="i/Finish.png">'):$("[name=stage2_3_"+e+"]").html("<span>"+$("#skill3_from_"+e).val()+'</span><img src="i/Lock.png">'),$("[name=stage2_"+a+"_"+e+"]").fadeIn(100);break;case TargetPatternAppend1:dolock($("[name="+NameAppend1LockSelect+e+"]"),$(IDAppend1From+e),$(IDAppend1To+e),!0);break;case TargetPatternAppend2:dolock($("[name="+NameAppend2LockSelect+e+"]"),$(IDAppend2From+e),$(IDAppend2To+e),!0);break;case TargetPatternAppend3:dolock($("[name="+NameAppend3LockSelect+e+"]"),$(IDAppend3From+e),$(IDAppend3To+e),!0)}materialCalc(e)}else if(1==lockSetting[e-1][a]){switch(lockSetting[e-1][a]=0,a){case 0:$("#sairin_to_"+e).val(4),$("[name=stage2_"+a+"_"+e+"]").fadeOut(100);break;case 1:$("#skill1_to_"+e).val(10),$("[name=stage2_"+a+"_"+e+"]").fadeOut(100);break;case 2:$("#skill2_to_"+e).val(10),$("[name=stage2_"+a+"_"+e+"]").fadeOut(100);break;case 3:$("#skill3_to_"+e).val(10),$("[name=stage2_"+a+"_"+e+"]").fadeOut(100);break;case TargetPatternAppend1:doUnlock($("[name="+NameAppend1LockSelect+e+"]"),$(IDAppend1From+e),$(IDAppend1To+e),!0);break;case TargetPatternAppend2:doUnlock($("[name="+NameAppend2LockSelect+e+"]"),$(IDAppend2From+e),$(IDAppend2To+e),!0);break;case TargetPatternAppend3:doUnlock($("[name="+NameAppend3LockSelect+e+"]"),$(IDAppend3From+e),$(IDAppend3To+e),!0)}materialCalc(e)}}function dolock(e,a,t,n){t.val(a.val()),10==a.val()?e.html('<img src="i/Finish.png">'):e.html("<span>"+a.val()+'</span><img src="i/Lock.png">'),n?e.fadeIn(100):e.show()}function doUnlock(e,a,t,n){a.val()==t.val()&&t.val(10),n?e.fadeOut(100):e.hide()}function aiming(e,a){switch(e){case 0:$("#sairin_from_"+a).val(4),$("#sairin_to_"+a).val()<4&&$("#sairin_to_"+a).val(4);break;case 1:$("#skill1_from_"+a).val()<4?($("#skill1_from_"+a).val(4),$("#skill1_to_"+a).val()<=4&&$("#skill1_to_"+a).val(10)):$("#skill1_from_"+a).val()<6?($("#skill1_from_"+a).val(6),$("#skill1_to_"+a).val()<=6&&$("#skill1_to_"+a).val(10)):$("#skill1_from_"+a).val()<9?($("#skill1_from_"+a).val(9),$("#skill1_to_"+a).val()<=9&&$("#skill1_to_"+a).val(10)):($("#skill1_from_"+a).val(10),$("#skill1_to_"+a).val()<10&&$("#skill1_to_"+a).val(10));break;case 2:$("#skill2_from_"+a).val()<4?($("#skill2_from_"+a).val(4),$("#skill2_to_"+a).val()<=4&&$("#skill2_to_"+a).val(10)):$("#skill2_from_"+a).val()<6?($("#skill2_from_"+a).val(6),$("#skill2_to_"+a).val()<=6&&$("#skill2_to_"+a).val(10)):$("#skill2_from_"+a).val()<9?($("#skill2_from_"+a).val(9),$("#skill2_to_"+a).val()<=9&&$("#skill2_to_"+a).val(10)):($("#skill2_from_"+a).val(10),$("#skill2_to_"+a).val()<10&&$("#skill2_to_"+a).val(10));break;case 3:$("#skill3_from_"+a).val()<4?($("#skill3_from_"+a).val(4),$("#skill3_to_"+a).val()<=4&&$("#skill3_to_"+a).val(10)):$("#skill3_from_"+a).val()<6?($("#skill3_from_"+a).val(6),$("#skill3_to_"+a).val()<=6&&$("#skill3_to_"+a).val(10)):$("#skill3_from_"+a).val()<9?($("#skill3_from_"+a).val(9),$("#skill3_to_"+a).val()<=9&&$("#skill3_to_"+a).val(10)):($("#skill3_from_"+a).val(10),$("#skill3_to_"+a).val()<10&&$("#skill3_to_"+a).val(10));break;case TargetPatternAppend1:doAim4_6_9_10($(IDAppend1From+a),$(IDAppend1To+a));break;case TargetPatternAppend2:doAim4_6_9_10($(IDAppend2From+a),$(IDAppend2To+a));break;case TargetPatternAppend3:doAim4_6_9_10($(IDAppend3From+a),$(IDAppend3To+a))}materialCalc(a)}function doAim4_6_9_10(e,a){e.val()<4?(e.val(4),a.val()<=4&&a.val(10)):e.val()<6?(e.val(6),a.val()<=6&&a.val(10)):e.val()<9?(e.val(9),a.val()<=9&&a.val(10)):(e.val(10),a.val(10))}function separate(e){e=String(e);var a=e.length;return a>3?separate(e.substring(0,a-3))+","+e.substring(a-3):e}function saveLocalStorageServant(){var e=new Array;myServantdb[82]=initmyServantdbRow(),null==localStorage.getItem("servant")&&localStorage.removeItem("servant");for(var a=0;a<Servantdb.length;a++)1==myServantdb[a][9]&&(0!=myServantdb[a][10]&&(myServantdb[a][10]=0),e.push(myServantdb[a]));$("#handover_code").val(JSON.stringify(e)),localStorage.setItem("servant",JSON.stringify(e))}function loadLocalStorageServant(){if(null==localStorage.getItem("servant")&&localStorage.removeItem("servant"),"servant"in localStorage){var e=localStorage.getItem("servant");e=JSON.parse(e);for(var a=0;a<e.length;a++)0!=e[a][10]&&(e[a][10]=0),myServantdb[e[a][0]-1]=e[a],myServantdb[e[a][0]-1].length<myServantdbRowidxAppend3To+1&&myServantdb[e[a][0]-1].push(1,1,1,1,1,1)}else saveLocalStorageServant()}function saveLocalStorageInventory(){null==localStorage.getItem("inventory")&&localStorage.removeItem("inventory"),$("#handover_code").val(JSON.stringify(inventoryNum));var e=inventoryNum;localStorage.setItem("inventory",JSON.stringify(e))}function loadLocalStorageInventory(){if(null==localStorage.getItem("inventory")&&localStorage.removeItem("inventory"),"inventory"in localStorage){var e=localStorage.getItem("inventory");e=JSON.parse(e),inventoryNum=e;for(var a=0,t=0;t<2;t++)for(j=0;j<7;j++)a=100+10*t+j,a in inventoryNum==0&&(inventoryNum[a]=0);for(t=0;t<3;t++)for(j=0;j<7;j++)a=200+10*t+j,a in inventoryNum==0&&(inventoryNum[a]=0);for(t=0;t<BronzeMaterialCount;t++)a=300+t,a in inventoryNum==0&&(inventoryNum[a]=0);for(t=0;t<SilverMaterialCount;t++)a=400+t,a in inventoryNum==0&&(inventoryNum[a]=0);for(t=0;t<GoldMaterialCount;t++)a=500+t,a in inventoryNum==0&&(inventoryNum[a]=0);for(t=0;t<EventMaterialCount;t++)a=600+t,delete inventoryNum[a];for(var n in inventoryNum)900==n?document.getElementById("inv_"+n).rows[0].cells[1].innerText=separate(inventoryNum[n]):n>=600&&n<=620||(document.getElementById("inv_"+n).innerText=separate(inventoryNum[n])),inventoryNum[n]>0&&(useInv=1,$("[name='result-btn']:checked").prop("checked",!1),$("[name='result-btn'][value='1']").prop("checked",!0),$("[name='result-chaldea']:checked").prop("checked",!1),$("[name='result-chaldea'][value='1']").prop("checked",!0));saveLocalStorageInventory()}else saveLocalStorageInventory()}function loadServant(e){var a,t="";if("["==e.substr(0,1)){var n=e;n=JSON.parse(n);for(var i=0;i<n.length;i++){var r=n[i].length;(11==r||r==myServantdbRowidxAppend3To+1)&&n[i][0]<=Servantdb.length&&((n[i][1]<0||4<n[i][1])&&(n[i][1]=0),(n[i][2]<0||4<n[i][2])&&(n[i][2]=0),(n[i][3]<1||10<n[i][3])&&(n[i][3]=1),(n[i][4]<1||10<n[i][4])&&(n[i][4]=10),(n[i][5]<1||10<n[i][5])&&(n[i][5]=1),(n[i][6]<1||10<n[i][6])&&(n[i][6]=10),(n[i][7]<1||10<n[i][7])&&(n[i][7]=1),(n[i][8]<1||10<n[i][8])&&(n[i][8]=10),1!=n[i][9]&&(n[i][9]=1),0!=n[i][10]&&(n[i][10]=0),(11==r||n[i][myServantdbRowidxAppend1From]<1||10<n[i][myServantdbRowidxAppend1From])&&(n[i][myServantdbRowidxAppend1From]=1),(11==r||n[i][myServantdbRowidxAppend1To]<1||10<n[i][myServantdbRowidxAppend1To])&&(n[i][myServantdbRowidxAppend1To]=1),(11==r||n[i][myServantdbRowidxAppend2From]<1||10<n[i][myServantdbRowidxAppend2From])&&(n[i][myServantdbRowidxAppend2From]=1),(11==r||n[i][myServantdbRowidxAppend2To]<1||10<n[i][myServantdbRowidxAppend2To])&&(n[i][myServantdbRowidxAppend2To]=1),(11==r||n[i][myServantdbRowidxAppend3From]<1||10<n[i][myServantdbRowidxAppend3From])&&(n[i][myServantdbRowidxAppend3From]=1),(11==r||n[i][myServantdbRowidxAppend3To]<1||10<n[i][myServantdbRowidxAppend3To])&&(n[i][myServantdbRowidxAppend3To]=1),myServantdb[n[i][0]-1]=n[i])}saveLocalStorageServant(),$("#handover_code").val("サーヴァントコード読込み完了")}else if("#"==e.substr(0,1)){if(e=e.slice(1),e.length%7==0){for(i=0;i<Servantdb.length;i++)myServantdb[i]=initmyServantdbRow();for(i=0;i<e.length/7;i++)t=e.substr(7*i,2),a=parseInt(t,36),myServantdb[a-1][0]=a,t=e.substr(2+7*i,5),t=String(parseInt(t,36)),myServantdb[a-1][1]=parseInt(t.substr(0,1))-1,myServantdb[a-1][2]=parseInt(t.substr(1,1))-1,myServantdb[a-1][3]=parseInt(t.substr(2,1))+1,myServantdb[a-1][4]=parseInt(t.substr(3,1))+1,myServantdb[a-1][5]=parseInt(t.substr(4,1))+1,myServantdb[a-1][6]=parseInt(t.substr(5,1))+1,
myServantdb[a-1][7]=parseInt(t.substr(6,1))+1,myServantdb[a-1][8]=parseInt(t.substr(7,1))+1,myServantdb[a-1][9]=1}saveLocalStorageServant(),$("#handover_code").val("サーヴァントコード読込み完了")}else if("*"==e.substr(0,1))$("#handover_code").val("アイテムコードを検知しました。サーヴァントコードを入力してください。");else{for(i=0;i<Servantdb.length;i++)myServantdb[i]=initmyServantdbRow();for(i=0;i<Servantdb.length;i++)""!=e.substr(12*i,3)?(myServantdb[i][0]=parseInt(e.substr(12*i,3)),myServantdb[i][1]=parseInt(e.substr(12*i+3,1)),myServantdb[i][2]=parseInt(e.substr(12*i+4,1)),myServantdb[i][3]=parseInt(e.substr(12*i+5,1))+1,myServantdb[i][4]=parseInt(e.substr(12*i+6,1))+1,myServantdb[i][5]=parseInt(e.substr(12*i+7,1))+1,myServantdb[i][6]=parseInt(e.substr(12*i+8,1))+1,myServantdb[i][7]=parseInt(e.substr(12*i+9,1))+1,myServantdb[i][8]=parseInt(e.substr(12*i+10,1))+1,myServantdb[i][9]=parseInt(e.substr(12*i+11,1)),myServantdb[i][10]=0):myServantdb[i]=initmyServantdbRow();saveLocalStorageServant()}}function loadInventory(e){var a,t,n,i,r=302;if('{"'==e.substr(0,2)){for(var l in getjson=JSON.parse(e),console.log(getjson),console.log(inventoryNum),inventoryNum=getjson,console.log(inventoryNum),inventoryNum)900==l?document.getElementById("inv_"+l).rows[0].cells[1].innerText=separate(inventoryNum[l]):l>=600&&l<=620||(document.getElementById("inv_"+l).innerText=separate(inventoryNum[l])),inventoryNum[l]>0&&(useInv=1,$("[name='result-btn']:checked").prop("checked",!1),$("[name='result-btn'][value='1']").prop("checked",!0),$("[name='result-chaldea']:checked").prop("checked",!1),$("[name='result-chaldea'][value='1']").prop("checked",!0));saveLocalStorageInventory(),$("#handover_code").val("アイテムコード読込み完了")}else if("#"==e.substr(0,1))$("#handover_code").val("サーヴァントコードを検知しました。アイテムコードを入力してください。");else if("*c"==e.substr(0,2)){if(e.length!=r){if(t=e.indexOf("*b",0),n=e.indexOf("*s",0),i=e.indexOf("*g",0),t<152)for(var s=t;t<152;s++)e=e.slice(0,s)+"0"+e.slice(s);if(n<190)for(s=n;n<190;s++)e=e.slice(0,s)+"0"+e.slice(s);if(i<252)for(s=i;i<252;s++)e=e.slice(0,s)+"0"+e.slice(s);if(e.length<r)for(e="0",s=0;e.length<r;s++)e+="0"}a=e.substr(2,150),t=e.substr(154,36),n=e.substr(192,60),i=e.substr(254,48),inventoryNum[900]=parseInt(a.substr(0,6),36),inventoryNum[800]=parseInt(a.substr(6,4),36);for(s=0;s<7;s++)inventoryNum[100+s]=parseInt(a.substr(10+4*s,4),36);for(s=0;s<7;s++)inventoryNum[110+s]=parseInt(a.substr(38+4*s,4),36);for(s=0;s<7;s++)inventoryNum[200+s]=parseInt(a.substr(66+4*s,4),36);for(s=0;s<7;s++)inventoryNum[210+s]=parseInt(a.substr(94+4*s,4),36);for(s=0;s<7;s++)inventoryNum[220+s]=parseInt(a.substr(122+4*s,4),36);for(s=0;s<BronzeMaterialCount;s++)inventoryNum[300+s]=parseInt(t.substr(4*s,4),36);for(s=0;s<SilverMaterialCount;s++)inventoryNum[400+s]=parseInt(n.substr(4*s,4),36);for(s=0;s<GoldMaterialCount;s++)inventoryNum[500+s]=parseInt(i.substr(4*s,4),36);saveLocalStorageInventory(),$("#handover_code").val("アイテムコード読込み完了")}else{if(e.length<349)for(s=e.length;s<349;s++)e+="0";a=e.substr(0,189),t=e.substr(189,45),n=e.substr(234,75),i=e.substr(309,60),inventoryNum[900]=parseInt(a.substr(0,9)),inventoryNum[800]=parseInt(a.substr(9,5));for(s=0;s<7;s++)inventoryNum[100+s]=parseInt(a.substr(14+5*s,5));for(s=0;s<7;s++)inventoryNum[110+s]=parseInt(a.substr(49+5*s,5));for(s=0;s<7;s++)inventoryNum[200+s]=parseInt(a.substr(84+5*s,5));for(s=0;s<7;s++)inventoryNum[210+s]=parseInt(a.substr(119+5*s,5));for(s=0;s<7;s++)inventoryNum[220+s]=parseInt(a.substr(154+5*s,5));for(s=0;s<BronzeMaterialCount;s++)inventoryNum[300+s]=parseInt(t.substr(5*s,5));for(s=0;s<SilverMaterialCount;s++)inventoryNum[400+s]=parseInt(n.substr(5*s,5));for(s=0;s<GoldMaterialCount;s++)inventoryNum[500+s]=parseInt(i.substr(5*s,5));saveLocalStorageInventory(),$("#handover_code").val("アイテムコード読込み完了")}for(var l in inventoryNum)900==l?document.getElementById("inv_"+l).rows[0].cells[1].innerText=separate(inventoryNum[l]):l>=600&&l<=620||(document.getElementById("inv_"+l).innerText=separate(inventoryNum[l])),inventoryNum[l]>0&&(useInv=1,$("[name='result-btn']:checked").prop("checked",!1),$("[name='result-btn'][value='1']").prop("checked",!0),$("[name='result-chaldea']:checked").prop("checked",!1),$("[name='result-chaldea'][value='1']").prop("checked",!0))}function statusSetting(){$(".status-filter").slideToggle(),$(".filterBox").slideToggle()}function attrSetting(){$(".filterABox").is(":hidden")?$({deg:0}).animate({deg:180},{duration:100,easing:"linear",progress:function(){$("#arrow-a").css({transform:"rotate("+this.deg+"deg)"})}}):$({deg:180}).animate({deg:0},{duration:100,easing:"linear",progress:function(){$("#arrow-a").css({transform:"rotate("+this.deg+"deg)"})}}),$(".filterABox").slideToggle()}function NPSetting(){$(".filterNPBox").is(":hidden")?$({deg:0}).animate({deg:180},{duration:100,easing:"linear",progress:function(){$("#arrow-np").css({transform:"rotate("+this.deg+"deg)"})}}):$({deg:180}).animate({deg:0},{duration:100,easing:"linear",progress:function(){$("#arrow-np").css({transform:"rotate("+this.deg+"deg)"})}}),$(".filterNPBox").slideToggle()}function SkillSetting(){$(".filterSBox").is(":hidden")?$({deg:0}).animate({deg:180},{duration:100,easing:"linear",progress:function(){$("#arrow-s").css({transform:"rotate("+this.deg+"deg)"})}}):$({deg:180}).animate({deg:0},{duration:100,easing:"linear",progress:function(){$("#arrow-s").css({transform:"rotate("+this.deg+"deg)"})}}),$(".filterSBox").slideToggle()}function centeringModalSyncer(e){var a=$(window).width(),t=$(window).height();switch(e){case 1:var n=$("#modal-content").outerWidth(),i=$("#modal-content").outerHeight();break;case 2:n=$("#footer").outerWidth(),i=$("#footer").outerHeight();break;case 3:n=$("#select-servant").outerWidth(),i=$("#select-servant").outerHeight();$(".select-slide").css({width:n+"px"});break;case 4:n=$("#reverse-search").outerWidth(),i=$("#reverse-search").outerHeight();break;case 5:n=$("#modal-inventory").outerWidth(),i=$("#modal-inventory").outerHeight();break;case 6:n=$("#inventory-input").outerWidth(),i=$("#inventory-input").outerHeight();break;case 7:n=$("#check-delete").outerWidth(),i=$("#check-delete").outerHeight();break;case 8:n=$("#changeLng").outerWidth(),i=$("#changeLng").outerHeight();break;case 9:n=$(".filterBox").outerWidth(),i=$(".filterBox").outerHeight()}switch(e){case 1:$("#modal-content").css({left:(a-n)/2+"px",top:"0px"});break;case 2:$("#footer").css({left:(a-n)/2+"px",top:"0px"});break;case 3:$("#select-servant").css({left:(a-n)/2+"px",top:"0px"});break;case 4:$("#reverse-search").css({left:(a-n)/2+"px",top:"0px"});break;case 5:$("#modal-inventory").css({left:(a-n)/2+"px",top:"0px"});break;case 6:$("#inventory-input").css({left:(a-n)/2+"px",top:"50px"});break;case 7:$("#check-delete").css({left:(a-n)/2+"px",top:(t-i)/2+"px"});break;case 8:$("#changeLng").css({left:(a-n)/2+"px",top:(t-i)/2+"px"});break;case 9:$(".filterBox").css({left:(a-n)/2+"px",top:(t-i)/2+"px"})}}var BronzeMaterialCount=14,SilverMaterialCount=24,GoldMaterialCount=19,EventMaterialCount=42,ServantClassCount=15;const myServantdbRowidxAppend1From=11,myServantdbRowidxAppend1To=12,myServantdbRowidxAppend2From=13,myServantdbRowidxAppend2To=14,myServantdbRowidxAppend3From=15,myServantdbRowidxAppend3To=16,TargetPatternAppend1=4,TargetPatternAppend2=5,TargetPatternAppend3=6,lockingPatternAll=-1,NameAppend1LockSelect="stage3_1_",NameAppend2LockSelect="stage3_2_",NameAppend3LockSelect="stage3_3_",IDAppend1From="#askill1_from_",IDAppend1To="#askill1_to_",IDAppend2From="#askill2_from_",IDAppend2To="#askill2_to_",IDAppend3From="#askill3_from_",IDAppend3To="#askill3_to_",GetTextAscension=0,GetTextNoServantReg=1,GetTextDeleteAllServants=2;var mTotalNum=InitMaterialDictionary();mTotalNum.sithona=0;var mTotalUsed=InitMaterialDictionary(),mTotalChaldea=InitMaterialDictionary(),mUsedChaldea=InitMaterialDictionary(),inventoryNum=InitMaterialDictionary(),sairinQP=new Array;sairinQP=[[1e4,3e4,9e4,3e5],[15e3,45e3,15e4,45e4],[3e4,1e5,3e5,9e5],[5e4,15e4,5e5,15e5],[1e5,3e5,1e6,3e6]];var skillQP=new Array;skillQP=[[1e4,2e4,6e4,8e4,2e5,25e4,5e5,6e5,1e6],[2e4,4e4,12e4,16e4,4e5,5e5,1e6,12e5,2e6],[5e4,1e5,3e5,4e5,1e6,125e4,25e5,3e6,5e6],[1e5,2e5,6e5,8e5,2e6,25e5,5e6,6e6,1e7],[2e5,4e5,12e5,16e5,4e6,5e6,1e7,12e6,2e7]];var numServantSelect,tempNum,tempNumtotal,numInv,language=0,showBox=0,numCalcServantId=new Array,numCalcServantMaterial=new Object,numIndividual=0,lockSetting=new Array,FormidNum=new Object,FormidUsed=new Object,FormChaldeaNum=new Object,FormChaldeaUsed=new Object,myServantdb=new Array,clnum=200,renum=0,rev=10,statusnum=0,filternum=0,statusArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],chaldeanum=0,chaldeaFuncnum=0,numItems=64,useInv=0;$(function(){$(document).ready(function(){for(var e=0;e<Servantdb.length;e++)numCalcServantId[e]=0,numCalcServantMaterial[e]={},numCalcServantMaterial[e]={100:[0,0,0,0,0,0,0],101:[0,0,0,0,0,0,0],102:[0,0,0,0,0,0,0],103:[0,0,0,0,0,0,0],104:[0,0,0,0,0,0,0],105:[0,0,0,0,0,0,0],106:[0,0,0,0,0,0,0],110:[0,0,0,0,0,0,0],111:[0,0,0,0,0,0,0],112:[0,0,0,0,0,0,0],113:[0,0,0,0,0,0,0],114:[0,0,0,0,0,0,0],115:[0,0,0,0,0,0,0],116:[0,0,0,0,0,0,0],200:[0,0,0,0,0,0,0],201:[0,0,0,0,0,0,0],202:[0,0,0,0,0,0,0],203:[0,0,0,0,0,0,0],204:[0,0,0,0,0,0,0],205:[0,0,0,0,0,0,0],206:[0,0,0,0,0,0,0],210:[0,0,0,0,0,0,0],211:[0,0,0,0,0,0,0],212:[0,0,0,0,0,0,0],213:[0,0,0,0,0,0,0],214:[0,0,0,0,0,0,0],215:[0,0,0,0,0,0,0],216:[0,0,0,0,0,0,0],220:[0,0,0,0,0,0,0],221:[0,0,0,0,0,0,0],222:[0,0,0,0,0,0,0],223:[0,0,0,0,0,0,0],224:[0,0,0,0,0,0,0],225:[0,0,0,0,0,0,0],226:[0,0,0,0,0,0,0],300:[0,0,0,0,0,0,0],301:[0,0,0,0,0,0,0],302:[0,0,0,0,0,0,0],303:[0,0,0,0,0,0,0],304:[0,0,0,0,0,0,0],305:[0,0,0,0,0,0,0],306:[0,0,0,0,0,0,0],307:[0,0,0,0,0,0,0],308:[0,0,0,0,0,0,0],309:[0,0,0,0,0,0,0],310:[0,0,0,0,0,0,0],311:[0,0,0,0,0,0,0],312:[0,0,0,0,0,0,0],313:[0,0,0,0,0,0,0],400:[0,0,0,0,0,0,0],401:[0,0,0,0,0,0,0],402:[0,0,0,0,0,0,0],403:[0,0,0,0,0,0,0],404:[0,0,0,0,0,0,0],405:[0,0,0,0,0,0,0],406:[0,0,0,0,0,0,0],407:[0,0,0,0,0,0,0],408:[0,0,0,0,0,0,0],409:[0,0,0,0,0,0,0],410:[0,0,0,0,0,0,0],411:[0,0,0,0,0,0,0],412:[0,0,0,0,0,0,0],413:[0,0,0,0,0,0,0],414:[0,0,0,0,0,0,0],415:[0,0,0,0,0,0,0],416:[0,0,0,0,0,0,0],417:[0,0,0,0,0,0,0],418:[0,0,0,0,0,0,0],419:[0,0,0,0,0,0,0],420:[0,0,0,0,0,0,0],421:[0,0,0,0,0,0,0],422:[0,0,0,0,0,0,0],423:[0,0,0,0,0,0,0],500:[0,0,0,0,0,0,0],501:[0,0,0,0,0,0,0],502:[0,0,0,0,0,0,0],503:[0,0,0,0,0,0,0],504:[0,0,0,0,0,0,0],505:[0,0,0,0,0,0,0],506:[0,0,0,0,0,0,0],507:[0,0,0,0,0,0,0],508:[0,0,0,0,0,0,0],509:[0,0,0,0,0,0,0],510:[0,0,0,0,0,0,0],511:[0,0,0,0,0,0,0],512:[0,0,0,0,0,0,0],513:[0,0,0,0,0,0,0],514:[0,0,0,0,0,0,0],515:[0,0,0,0,0,0,0],516:[0,0,0,0,0,0,0],517:[0,0,0,0,0,0,0],518:[0,0,0,0,0,0,0],600:[0,0,0,0,0,0,0],601:[0,0,0,0,0,0,0],602:[0,0,0,0,0,0,0],603:[0,0,0,0,0,0,0],604:[0,0,0,0,0,0,0],605:[0,0,0,0,0,0,0],606:[0,0,0,0,0,0,0],607:[0,0,0,0,0,0,0],608:[0,0,0,0,0,0,0],609:[0,0,0,0,0,0,0],610:[0,0,0,0,0,0,0],611:[0,0,0,0,0,0,0],612:[0,0,0,0,0,0,0],613:[0,0,0,0,0,0,0],614:[0,0,0,0,0,0,0],615:[0,0,0,0,0,0,0],616:[0,0,0,0,0,0,0],617:[0,0,0,0,0,0,0],618:[0,0,0,0,0,0,0],619:[0,0,0,0,0,0,0],620:[0,0,0,0,0,0,0],621:[0,0,0,0,0,0,0],622:[0,0,0,0,0,0,0],623:[0,0,0,0,0,0,0],624:[0,0,0,0,0,0,0],625:[0,0,0,0,0,0,0],626:[0,0,0,0,0,0,0],627:[0,0,0,0,0,0,0],628:[0,0,0,0,0,0,0],629:[0,0,0,0,0,0,0],630:[0,0,0,0,0,0,0],631:[0,0,0,0,0,0,0],632:[0,0,0,0,0,0,0],633:[0,0,0,0,0,0,0],634:[0,0,0,0,0,0,0],635:[0,0,0,0,0,0,0],636:[0,0,0,0,0,0,0],637:[0,0,0,0,0,0,0],638:[0,0,0,0,0,0,0],639:[0,0,0,0,0,0,0],640:[0,0,0,0,0,0,0],641:[0,0,0,0,0,0,0],800:[0,0,0,0,0,0,0],900:[0,0,0,0,0,0,0]},lockSetting[e]=initLockSettingRow(),FormidNum[e]=InitMaterialDictionary(),myServantdb[e]=initmyServantdbRow(),FormidUsed[e]=InitMaterialDictionary(),FormChaldeaNum[e]=InitMaterialDictionary(),FormChaldeaUsed[e]=InitMaterialDictionary();if(null!=Cookies.get("fgosm_com")||null!=Cookies.get("fgosm_brnz")||null!=Cookies.get("fgosm_slv")||null!=Cookies.get("fgosm_gld")){var a="",t="";if(null!=Cookies.get("fgosm_com")){if(t=Cookies.get("fgosm_com"),t.length<152)for(e=t.length;e<152;e++)t+="0";a+=t,Cookies.remove("fgosm_com")}else for(e=0;e<189;e++)a+="0";if(null!=Cookies.get("fgosm_brnz")){if(t=Cookies.get("fgosm_brnz"),t.length<38)for(e=t.length;e<38;e++)t+="0";a+=t,Cookies.remove("fgosm_brnz")}else for(e=0;e<45;e++)a+="0";if(null!=Cookies.get("fgosm_slv")){if(t=Cookies.get("fgosm_slv"),t.length<54)for(e=t.length;e<54;e++)t+="0";a+=t,Cookies.remove("fgosm_slv")}else for(e=0;e<65;e++)a+="0";if(null!=Cookies.get("fgosm_gld")){if(t=Cookies.get("fgosm_gld"),t.length<50)for(e=t.length;e<50;e++)t+="0";a+=t,Cookies.remove("fgosm_gld")}else for(e=0;e<60;e++)a+="0";loadInventory(a)}else if("undefined"!=typeof localStorage)try{localStorage.setItem("dummy","1"),"1"===localStorage.getItem("dummy")?(localStorage.removeItem("dummy"),loadLocalStorageInventory()):alert("LocalStorageの機能が使えないため、入力されたデータが保存できません。LocalStorageの機能が無効化されているかもしれません。\nブラウザの設定を見直してください。")}catch(e){alert("LocalStorageの機能が使えないため、入力されたデータが保存できません。\nブラウザの設定等を見直してください。")}else alert("LocalStorageの機能が使えないため、入力されたデータが保存できません。LocalStorageの機能がご使用のブラウザで非対応の可能性があります。");if(null!=Cookies.get("fgosm_smmn")){var n="";n=Cookies.get("fgosm_smmn"),loadServant(n),Cookies.remove("fgosm_smmn")}else loadLocalStorageServant()})});var predicate=function(e,a,t){return 0==e};$(function(){$(document).on("click","#modal-overlay,[name='close-btn']",function(){$("#select-servant,#modal-inventory,#modal-content,#modal-overlay").fadeOut(200,function(){$(".reverseBox").hide(),$(".status-filter").show(),$(".filterBox").hide(),$("[name='class-btn']:checked").prop("checked",!1),$("[name='class-btn'][value='0']").prop("checked",!0),$('div[class="box_focus_total"]:has(.selected-material-icon)').remove(),$(".setting-btn").hide(),clnum=200,renum=0,statusnum=0,chaldeanum=0,$("#modal-overlay").remove()})}),$(document).on("click","[name='reverse-func']",function(){switch($("[name='reverse-func']:checked").val()){case"0":$(".reverse-content").show(),$(".reverse-login").hide(),$(".reverse-event").hide();break;case"1":$(".reverse-login").show(),$(".reverse-content").hide(),$(".reverse-event").hide();break;case"2":$(".reverse-event").show(),$(".reverse-content").hide(),$(".reverse-login").hide()}0==renum?$(".select-slide").css({height:Math.floor($(window).height()-($(".select-servant-title").outerHeight()+$(".select-class").outerHeight()))+"px"}):$(".select-slide").css({height:Math.floor($(window).height()-($(".select-servant-title").outerHeight()+$(".reverseBox").outerHeight()+$(".select-class").outerHeight()))+"px"}),1==statusnum&&$(".select-slide").css({height:Math.floor($(window).height()-($(".select-servant-title").outerHeight()+$(".status-filter").outerHeight()+$(".select-class").outerHeight()))+"px"})}),$("[name='class-btn'],[name='reverse-btn']").click(function(){clnum=$("[name='class-btn']:checked").val(),ChangeServantIcon(),0==renum?$(".select-slide").css({height:Math.floor($(window).height()-($(".select-servant-title").outerHeight()+$(".select-class").outerHeight()))+"px"}):$(".select-slide").css({height:Math.floor($(window).height()-($(".select-servant-title").outerHeight()+$(".reverseBox").outerHeight()+$(".select-class").outerHeight()))+"px"}),1==statusnum&&$(".select-slide").css({height:Math.floor($(window).height()-($(".select-servant-title").outerHeight()+$(".status-filter").outerHeight()+$(".select-class").outerHeight()))+"px"})}),$("[name='policy-btn']").click(function(){$(this).val()==statusArray[0]?($(this).prop("checked",!1),statusArray[0]=0,$(".filterIcon-policy").hide(),1==statusArray.every(predicate)&&$("#filter-nofilter").show()):(statusArray[0]=$(this).val(),$("#filter-nofilter,.filterIcon-policy").hide(),$("#filter-policy"+statusArray[0]).show()),ChangeServantIcon()}),$("[name='personal-btn']").click(function(){$(this).val()==statusArray[1]?($(this).prop("checked",!1),statusArray[1]=0,$(".filterIcon-personal").hide(),1==statusArray.every(predicate)&&$("#filter-nofilter").show()):(statusArray[1]=$(this).val(),$("#filter-nofilter,.filterIcon-personal").hide(),$("#filter-personal"+statusArray[1]).show()),ChangeServantIcon()}),$("[name='attribute-btn']").click(function(){$(this).val()==statusArray[2]?($(this).prop("checked",!1),statusArray[2]=0,$(".filterIcon-attribute").hide(),1==statusArray.every(predicate)&&$("#filter-nofilter").show()):(statusArray[2]=$(this).val(),$("#filter-nofilter,.filterIcon-attribute").hide(),$("#filter-attribute"+statusArray[2]).show()),ChangeServantIcon()}),$("#status_divinity").click(function(){$("#status_divinity").prop("checked")?(statusArray[3]=1,$("#filter-nofilter").hide(),$("#filter-divinity").show()):(statusArray[3]=0,1==statusArray.every(predicate)&&$("#filter-nofilter").show(),$("#filter-divinity").hide()),ChangeServantIcon()}),$("#status_dragon").click(function(){$("#status_dragon").prop("checked")?(statusArray[4]=1,$("#filter-nofilter").hide(),$("#filter-dragon").show()):(statusArray[4]=0,1==statusArray.every(predicate)&&$("#filter-nofilter").show(),$("#filter-dragon").hide()),ChangeServantIcon()}),$("#status_roma").click(function(){$("#status_roma").prop("checked")?(statusArray[5]=1,$("#filter-nofilter").hide(),$("#filter-roma").show()):(statusArray[5]=0,1==statusArray.every(predicate)&&$("#filter-nofilter").show(),$("#filter-roma").hide()),ChangeServantIcon()}),$("#status_savagebeast").click(function(){$("#status_savagebeast").prop("checked")?(statusArray[6]=1,$("#filter-nofilter").hide(),$("#filter-savagebeast").show(),filternum++):(statusArray[6]=0,1==statusArray.every(predicate)&&$("#filter-nofilter").show(),$("#filter-savagebeast").hide()),ChangeServantIcon()}),$("#status_riding").click(function(){$("#status_riding").prop("checked")?(statusArray[7]=1,$("#filter-nofilter").hide(),$("#filter-riding").show()):(statusArray[7]=0,1==statusArray.every(predicate)&&$("#filter-nofilter").show(),$("#filter-riding").hide()),ChangeServantIcon()}),$("#status_love").click(function(){$("#status_love").prop("checked")?(statusArray[8]=1,$("#filter-nofilter").hide(),$("#filter-love").show()):(statusArray[8]=0,1==statusArray.every(predicate)&&$("#filter-nofilter").show(),$("#filter-love").hide()),ChangeServantIcon()}),$("#status_devilish").click(function(){$("#status_devilish").prop("checked")?(statusArray[9]=1,$("#filter-nofilter").hide(),$("#filter-devilish").show()):(statusArray[9]=0,1==statusArray.every(predicate)&&$("#filter-nofilter").show(),$("#filter-devilish").hide()),ChangeServantIcon()}),$("#status_davinci").click(function(){$("#status_davinci").prop("checked")?(statusArray[10]=1,$("#filter-nofilter").hide(),$("#filter-davinci").show()):(statusArray[10]=0,1==statusArray.every(predicate)&&$("#filter-nofilter").show(),$("#filter-davinci").hide()),ChangeServantIcon()}),$("#status_face").click(function(){$("#status_face").prop("checked")?(statusArray[11]=1,$("#filter-nofilter").hide(),$("#filter-face").show()):(statusArray[11]=0,1==statusArray.every(predicate)&&$("#filter-nofilter").show(),$("#filter-face").hide()),ChangeServantIcon()}),$("#status_arthur").click(function(){$("#status_arthur").prop("checked")?(statusArray[12]=1,$("#filter-nofilter").hide(),$("#filter-arthur").show()):(statusArray[12]=0,1==statusArray.every(predicate)&&$("#filter-nofilter").show(),$("#filter-arthur").hide()),ChangeServantIcon()}),$("[name='nptype-btn']").click(function(){$(this).val()==statusArray[13]?($(this).prop("checked",!1),statusArray[13]=0,$(".filterIcon-npType").hide(),1==statusArray.every(predicate)&&$("#filter-nofilter").show()):(statusArray[13]=$(this).val(),$("#filter-nofilter,.filterIcon-npType").hide(),$("#filter-nptype"+statusArray[13]).show()),ChangeServantIcon()}),$("[name='npeffect-btn']").click(function(){$(this).val()==statusArray[14]?($(this).prop("checked",!1),statusArray[14]=0,$(".filterIcon-npEffect").hide(),1==statusArray.every(predicate)&&$("#filter-nofilter").show()):(statusArray[14]=$(this).val(),$("#filter-nofilter,.filterIcon-npEffect").hide(),$("#filter-npeffect"+statusArray[14]).show()),ChangeServantIcon()}),$("[name='npEX-btn']").click(function(){if($(this).val()==statusArray[15])$(this).prop("checked",!1),statusArray[15]=0,$(".filterIcon-npEX").hide(),1==statusArray.every(predicate)&&$("#filter-nofilter").show();else switch(statusArray[15]=$(this).val(),$("#filter-nofilter,.filterIcon-npEX").hide(),statusArray[15]){case"1":$("#filter-npEXmale").show();break;case"2":$("#filter-npEXfemale").show();break;case"3":$("#filter-npEXdivine").show();break;case"4":$("#filter-npEXdragon").show();break;case"5":$("#filter-npEXpoison").show();break;case"6":$("#filter-npEXriding").show();break;case"7":$("#filter-npEXlove").show();break;case"8":$("#filter-npEXevil").show();break;case"9":$("#filter-npEXdemonic").show();break;case"10":$("#filter-npEXskyearth").show();break;case"11":$("#filter-pEXservant").show();break;case"12":$("#filter-npEXface").show();break;case"13":$("#filter-npEXarthur").show();break;case"14":$("#filter-npEXsaber").show()}ChangeServantIcon()}),$("[name='sEX-btn']").click(function(){if($(this).val()==statusArray[16])$(this).prop("checked",!1),statusArray[16]=0,$(".filterIcon-sEX").hide(),1==statusArray.every(predicate)&&$("#filter-nofilter").show();else switch(statusArray[16]=$(this).val(),$("#filter-nofilter,.filterIcon-sEX").hide(),statusArray[16]){case"1":$("#filter-sEXmale").show();break;case"2":$("#filter-sEXdivine").show();break;case"3":$("#filter-sEXdragon").show();break;case"4":$("#filter-sEXroma").show();break;case"5":$("#filter-sEXsavagebeast").show();break;case"6":$("#filter-sEXevil").show();break;case"7":$("#filter-sEXdemonic").show();break;case"8":$("#filter-sEXskyearth").show();break;case"9":$("#filter-sEXhuman").show();break;case"10":$("#filter-sEXhumanoid").show();break;case"11":$("#filter-sEXundead").show();break;case"12":$("#filter-sEXdemon").show();break;case"13":$("#filter-sEXlarge").show();break;case"14":$("#filter-sEXsaber").show()}ChangeServantIcon()}),$("#reset_filter").click(function(){for(i=0;i<18;i++)statusArray[i]=0;$(".policyBox>input,.personalBox>input,.attributeBox>input,.etcBox>input,.nptypeBox>input,.npeffectBox>input,.exNPBox>input,.exSkillBox>input").prop({checked:!1}),$(".filterIcon-policy,.filterIcon-personal,.filterIcon-attribute,.filterIcon-etc,.filterIcon-npType,.filterIcon-npEffect,.filterIcon-npEX,.filterIcon-sEX").hide(),$("#filter-nofilter").show(),ChangeServantIcon()}),$(".material-icon").click(function(){renum=$(this).val(),$("[name='class-btn']:checked").prop("checked",!1),$("[name='class-btn'][value='0']").prop("checked",!0),clnum=$("[name='class-btn']:checked").val(),$(".reverse-show").fadeOut("fast"),ChangeServantIcon(),$(".select-show").delay(200).fadeIn("fast")}),$(".selectedMaterial").click(function(){renum=0,$(".select-show").fadeOut("fast"),$(".reverse-show").delay(200).fadeIn("fast")}),$(document).on("click",".servant-icon,.servant-focus,.input_chaldea",function(){$(this).removeClass("servant-icon"),$(this).removeClass("servant-focus"),$(this).removeClass("input_chaldea"),$(this).addClass("servant-selected"),numCalcServantId[numServantSelect-1]=parseInt($(this).val());var e=parseInt($(this).val())-1;FromSkillLvOption='<option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>',ToSkillLvOption='<option value="10">10</option><option value="9">9</option><option value="8">8</option><option value="7">7</option><option value="6">6</option><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option>',ASkill1='<tr id="stage3_1_'+numServantSelect+'" class="stage"><td colspan="2" class="stage-title"><input type="button" value="APPEND 1" class="lock_btn" name="'+numServantSelect+'"></td><td><div class="lock-select" name="stage3_1_'+numServantSelect+'"></div><select id="askill1_from_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'">'+FromSkillLvOption+'</select></td><td><img src="i/11.png" class="arrow" name="4_'+numServantSelect+'"></td><td><select id="askill1_to_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'">'+ToSkillLvOption+"</select></td></tr>",ASkill2='<tr id="stage3_2_'+numServantSelect+'" class="stage"><td colspan="2" class="stage-title"><input type="button" value="APPEND 2" class="lock_btn" name="'+numServantSelect+'"></td><td><div class="lock-select" name="stage3_2_'+numServantSelect+'"></div><select id="askill2_from_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'">'+FromSkillLvOption+'</select></td><td><img src="i/11.png" class="arrow" name="5_'+numServantSelect+'"></td><td><select id="askill2_to_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'">'+ToSkillLvOption+"</select></td></tr>",ASkill3='<tr id="stage3_3_'+numServantSelect+'" class="stage"><td colspan="2" class="stage-title"><input type="button" value="APPEND 3" class="lock_btn" name="'+numServantSelect+'"></td><td><div class="lock-select" name="stage3_3_'+numServantSelect+'"></div><select id="askill3_from_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'">'+FromSkillLvOption+'</select></td><td><img src="i/11.png" class="arrow" name="6_'+numServantSelect+'"></td><td><select id="askill3_to_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'">'+ToSkillLvOption+"</select></td></tr>",modalSkill1='<div class="box_calcicon"><figure class="fig-relative" id="sci1_'+numServantSelect+'"><img src="i/icon_skills/'+Servantdb[numCalcServantId[numServantSelect-1]-1].icon1+'.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci1_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici1_'+numServantSelect+'">0</span></div></figure></div>',modalSkill2='<div class="box_calcicon"><figure class="fig-relative" id="sci2_'+numServantSelect+'"><img src="i/icon_skills/'+Servantdb[numCalcServantId[numServantSelect-1]-1].icon2+'.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci2_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici2_'+numServantSelect+'">0</span></div></figure></div>',modalSkill3='<div class="box_calcicon"><figure class="fig-relative" id="sci3_'+numServantSelect+'"><img src="i/icon_skills/'+Servantdb[numCalcServantId[numServantSelect-1]-1].icon3+'.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci3_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici3_'+numServantSelect+'">0</span></div></figure></div>',modalASkill1='<div class="box_calcicon"><figure class="fig-relative" id="sci4_'+numServantSelect+'"><img src="i/icon_skills/107.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci4_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici4_'+numServantSelect+'">0</span></div></figure></div>',modalASkill2='<div class="box_calcicon"><figure class="fig-relative" id="sci5_'+numServantSelect+'"><img src="i/icon_skills/600.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci5_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici5_'+numServantSelect+'">0</span></div></figure></div>',modalASkill3='<div class="box_calcicon"><figure class="fig-relative" id="sci6_'+numServantSelect+'"><img src="i/icon_skills/105.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci6_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici6_'+numServantSelect+'">0</span></div></figure></div>';var a="";a=0==language?Servantdb[numCalcServantId[numServantSelect-1]-1].text:Servantdb[numCalcServantId[numServantSelect-1]-1].text2,
numServantSelect>showBox?($(".boxContainer").append('<div id="sBox_'+numServantSelect+'"class="box"><table border="0" id="calc_'+numServantSelect+'" class="totaltable"><tr id="stage0_'+numServantSelect+'"><form id="'+numServantSelect+'"><td class="box-servant-icon" name="'+numServantSelect+'"><img src="i/icon_servants/missing.jpg?20190827"></td><td colspan="4" class="servantName" name="'+numServantSelect+'"><span id="servantName_'+numServantSelect+'">NO DATA</span></td></tr><tr id="stage2_0_'+numServantSelect+'" class="stage"><td colspan="2" class="stage-title"><input type="button" value="'+GetText(GetTextAscension)+'" class="lock_btn" name="'+numServantSelect+'"></td><td><div class="lock-select" name="stage2_0_'+numServantSelect+'"></div><select id="sairin_from_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'"><option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option></select></td><td><img src="i/11.png" class="arrow" name="0_'+numServantSelect+'"></td><td><select id="sairin_to_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'"><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option><option value="0">0</option></select></td></tr><tr id="stage2_1_'+numServantSelect+'" class="stage"><td colspan="2" class="stage-title"><input type="button" value="SKILL 1" class="lock_btn" name="'+numServantSelect+'"></td><td><div class="lock-select" name="stage2_1_'+numServantSelect+'"></div><select id="skill1_from_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option></select></td><td><img src="i/11.png" class="arrow" name="1_'+numServantSelect+'"></td><td><select id="skill1_to_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'"><option value="10">10</option><option value="9">9</option><option value="8">8</option><option value="7">7</option><option value="6">6</option><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option></select></td></tr><tr id="stage2_2_'+numServantSelect+'" class="stage"><td colspan="2" class="stage-title"><input type="button" value="SKILL 2" class="lock_btn" name="'+numServantSelect+'"></td><td><div class="lock-select" name="stage2_2_'+numServantSelect+'"></div><select id="skill2_from_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option></select></td><td><img src="i/11.png" class="arrow" name="2_'+numServantSelect+'"></td><td><select id="skill2_to_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'"><option value="10">10</option><option value="9">9</option><option value="8">8</option><option value="7">7</option><option value="6">6</option><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option></select></td></tr><tr id="stage2_3_'+numServantSelect+'" class="stage"><td colspan="2" class="stage-title"><input type="button" value="SKILL 3" class="lock_btn" name="'+numServantSelect+'"></td><td><div class="lock-select" name="stage2_3_'+numServantSelect+'"></div><select id="skill3_from_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option></select></td><td><img src="i/11.png" class="arrow" name="3_'+numServantSelect+'"></td><td><select id="skill3_to_'+numServantSelect+'" class="calcSet_btn" name="'+numServantSelect+'"><option value="10">10</option><option value="9">9</option><option value="8">8</option><option value="7">7</option><option value="6">6</option><option value="5">5</option><option value="4">4</option><option value="3">3</option><option value="2">2</option><option value="1">1</option></select></td></tr>'+ASkill1+ASkill2+ASkill3+'</form></table><div class="delete-btn" name="'+numServantSelect+'">Delete</div><div class="change-btn" name="'+numServantSelect+'">Change</div></div>'),$("#modai_CalcIcon").append('<div class="boxCalcIconContainer" id="CalcIcon'+numServantSelect+'"><div style="display: grid; grid-template-columns: repeat(4, 1fr);"><div class="box_calcicon" style="grid-row-start: 1; grid-row-end: 3;"><figure class="fig-relative" id="sci0_'+numServantSelect+'"><img src="i/icon_servants/'+numCalcServantId[numServantSelect-1]+'.jpg?20190827"><figcaption class="num-CalcIcon"><span id="bci0_'+numServantSelect+'"></span></figcaption><div class="num-Individual"><span id="ici0_'+numServantSelect+'">0</span></div></figure></div>'+modalSkill1+modalSkill2+modalSkill3+modalASkill1+modalASkill2+modalASkill3+"</div></div>")):(document.getElementById("sci0_"+numServantSelect).innerHTML='<img src="i/icon_servants/'+numCalcServantId[numServantSelect-1]+'.jpg?20190827"><figcaption class="num-CalcIcon"><span id="bci0_'+numServantSelect+'"></span></figcaption>',document.getElementById("sci1_"+numServantSelect).innerHTML='<img src="i/icon_skills/'+Servantdb[numCalcServantId[numServantSelect-1]-1].icon1+'.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci1_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption>',document.getElementById("sci2_"+numServantSelect).innerHTML='<img src="i/icon_skills/'+Servantdb[numCalcServantId[numServantSelect-1]-1].icon2+'.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci2_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption>',document.getElementById("sci3_"+numServantSelect).innerHTML='<img src="i/icon_skills/'+Servantdb[numCalcServantId[numServantSelect-1]-1].icon3+'.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci3_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption>',document.getElementById("sci4_"+numServantSelect).innerHTML='<img src="i/icon_skills/107.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci4_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption>',document.getElementById("sci5_"+numServantSelect).innerHTML='<img src="i/icon_skills/600.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci5_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption>',document.getElementById("sci6_"+numServantSelect).innerHTML='<img src="i/icon_skills/105.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci6_'+numServantSelect+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption>'),document.getElementById("servantName_"+numServantSelect).innerText=a,document.getElementById("calc_"+numServantSelect).rows[0].cells[0].innerHTML='<img src="i/icon_servants/'+numCalcServantId[numServantSelect-1]+'.jpg?20190827">',$("#sairin_from_"+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][1]),$("#sairin_to_"+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][2]),$("#skill1_from_"+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][3]),$("#skill1_to_"+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][4]),$("#skill2_from_"+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][5]),$("#skill2_to_"+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][6]),$("#skill3_from_"+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][7]),$("#skill3_to_"+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][8]),myServantdb[numCalcServantId[numServantSelect-1]-1][10]=1,$(IDAppend1From+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][myServantdbRowidxAppend1From]),$(IDAppend1To+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][myServantdbRowidxAppend1To]),$(IDAppend2From+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][myServantdbRowidxAppend2From]),$(IDAppend2To+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][myServantdbRowidxAppend2To]),$(IDAppend3From+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][myServantdbRowidxAppend3From]),$(IDAppend3To+numServantSelect).val(myServantdb[numCalcServantId[numServantSelect-1]-1][myServantdbRowidxAppend3To]),locking(numServantSelect,lockingPatternAll),renum>0&&(13==clnum?10==rev?(renum in Servantdb[e].AdAgain1==1&&(tempNumtotal-=Servantdb[e].AdAgain1[renum]),renum in Servantdb[e].AdAgain2==1&&(tempNumtotal-=Servantdb[e].AdAgain2[renum]),renum in Servantdb[e].AdAgain3==1&&(tempNumtotal-=Servantdb[e].AdAgain3[renum]),renum in Servantdb[e].AdAgain4==1&&(tempNumtotal-=Servantdb[e].AdAgain4[renum])):(renum in Servantdb[e].skill1==1&&(tempNumtotal-=3*Servantdb[e].skill1[renum]),renum in Servantdb[e].skill2==1&&(tempNumtotal-=3*Servantdb[e].skill2[renum]),renum in Servantdb[e].skill3==1&&(tempNumtotal-=3*Servantdb[e].skill3[renum]),renum in Servantdb[e].skill4==1&&(tempNumtotal-=3*Servantdb[e].skill4[renum]),renum in Servantdb[e].skill5==1&&(tempNumtotal-=3*Servantdb[e].skill5[renum]),renum in Servantdb[e].skill6==1&&(tempNumtotal-=3*Servantdb[e].skill6[renum]),renum in Servantdb[e].skill7==1&&(tempNumtotal-=3*Servantdb[e].skill7[renum]),renum in Servantdb[e].skill8==1&&(tempNumtotal-=3*Servantdb[e].skill8[renum]),renum in Servantdb[e].skill9==1&&(tempNumtotal-=3*Servantdb[e].skill9[renum])):10==rev?(Servantdb[e].kind==clnum&&renum in Servantdb[e].AdAgain1==1&&(tempNumtotal-=Servantdb[e].AdAgain1[renum]),Servantdb[e].kind==clnum&&renum in Servantdb[e].AdAgain2==1&&(tempNumtotal-=Servantdb[e].AdAgain2[renum]),Servantdb[e].kind==clnum&&renum in Servantdb[e].AdAgain3==1&&(tempNumtotal-=Servantdb[e].AdAgain3[renum]),Servantdb[e].kind==clnum&&renum in Servantdb[e].AdAgain4==1&&(tempNumtotal-=Servantdb[e].AdAgain4[renum])):(Servantdb[e].kind==clnum&&renum in Servantdb[e].skill1==1&&(tempNumtotal-=3*Servantdb[e].skill1[renum]),Servantdb[e].kind==clnum&&renum in Servantdb[e].skill2==1&&(tempNumtotal-=3*Servantdb[e].skill2[renum]),Servantdb[e].kind==clnum&&renum in Servantdb[e].skill3==1&&(tempNumtotal-=3*Servantdb[e].skill3[renum]),Servantdb[e].kind==clnum&&renum in Servantdb[e].skill4==1&&(tempNumtotal-=3*Servantdb[e].skill4[renum]),Servantdb[e].kind==clnum&&renum in Servantdb[e].skill5==1&&(tempNumtotal-=3*Servantdb[e].skill5[renum]),Servantdb[e].kind==clnum&&renum in Servantdb[e].skill6==1&&(tempNumtotal-=3*Servantdb[e].skill6[renum]),Servantdb[e].kind==clnum&&renum in Servantdb[e].skill7==1&&(tempNumtotal-=3*Servantdb[e].skill7[renum]),Servantdb[e].kind==clnum&&renum in Servantdb[e].skill8==1&&(tempNumtotal-=3*Servantdb[e].skill8[renum]),Servantdb[e].kind==clnum&&renum in Servantdb[e].skill9==1&&(tempNumtotal-=3*Servantdb[e].skill9[renum]))),document.getElementById("focus_total").innerText=tempNumtotal,numServantSelect>showBox&&(showBox++,numServantSelect++),numServantSelect<=showBox&&$("#select-servant,#modal-overlay").fadeOut("fast",function(){$(".reverseBox").hide(),$(".filterBox").hide(),$("[name='class-btn']:checked").prop("checked",!1),$("[name='class-btn'][value='0']").prop("checked",!0),$('div[class="box_focus_total"]:has(.selected-material-icon)').remove(),$(".setting-btn").hide(),clnum=200,renum=0,statusnum=0,$("#modal-overlay").remove()}),numServantSelect>Servantdb.length&&($(".box_plus").fadeOut("fast"),showBox=Servantdb.length,$("#select-servant,#modal-overlay").fadeOut("fast",function(){$(".reverseBox").hide(),$(".status-filter").show(),$(".filterBox").hide(),$("[name='class-btn']:checked").prop("checked",!1),$("[name='class-btn'][value='0']").prop("checked",!0),$('div[class="box_focus_total"]:has(.selected-material-icon)').remove(),$(".setting-btn").hide(),clnum=200,renum=0,statusnum=0,$("#modal-overlay").remove()}))}),$("#modal-open").click(function(){if(materialTotal(),$(this).blur(),$("#modal-overlay")[0])return!1;$("body").append('<div id="modal-overlay"></div>'),$("#modal-overlay").fadeIn("fast"),centeringModalSyncer(1),$("#modal-content").fadeIn("fast")}),$("[name='result-btn']").click(function(){var e=$("[name='result-btn']:checked").val();for(var a in useInv=0==e?0:1==e?1:2,mTotalNum)mTotalNum[a]>0&&$("#box_"+a).show("fast");for($(".num-Individual").hide("fast"),numIndividual=0,i=0;i<showBox;i++){var t=i+1;$("#ici0_"+t).css("color","Silver"),$("#ici1_"+t).css("color","Silver"),$("#ici2_"+t).css("color","Silver"),$("#ici3_"+t).css("color","Silver"),$("#ici4_"+t).css("color","Silver"),$("#ici5_"+t).css("color","Silver"),$("#ici6_"+t).css("color","Silver"),$(".num-Individual").css("fontSize","1.7em")}materialTotal()}),$("[name='result-chaldea']").click(function(){var e=$("[name='result-chaldea']:checked").val();for(var a in useInv=0==e?0:1==e?1:2,mTotalChaldea)mTotalChaldea[a]>0&&$("#chaldea_box_"+a).show("fast");for($(".num-Individual").hide("fast"),numIndividual=0,i=0;i<showBox;i++){var t=i+1;$("#ici0_"+t).css("color","Silver"),$("#ici1_"+t).css("color","Silver"),$("#ici2_"+t).css("color","Silver"),$("#ici3_"+t).css("color","Silver"),$("#ici4_"+t).css("color","Silver"),$("#ici5_"+t).css("color","Silver"),$("#ici6_"+t).css("color","Silver"),$(".num-Individual").css("fontSize","1.7em")}chaldeaTotal()}),$(".box_item").click(function(){var e=$(this).attr("id");if(e=Number(e.slice(4)),0==useInv)if(0==numIndividual){for(i=0;i<showBox;i++){var a=i+1;900==e&&$(".num-Individual").css("fontSize","0.6em"),Number(numCalcServantMaterial[i][e][0])>0?(900==e?$("#ici0_"+a).text(separate(Number(numCalcServantMaterial[i][e][0]))):$("#ici0_"+a).text(Number(numCalcServantMaterial[i][e][0])),$("#ici0_"+a).css("color","Black")):$("#ici0_"+a).text(Number(numCalcServantMaterial[i][e][0])),Number(numCalcServantMaterial[i][e][1])>0?(900==e?$("#ici1_"+a).text(separate(Number(numCalcServantMaterial[i][e][1]))):$("#ici1_"+a).text(Number(numCalcServantMaterial[i][e][1])),$("#ici1_"+a).css("color","Black")):$("#ici1_"+a).text(Number(numCalcServantMaterial[i][e][1])),Number(numCalcServantMaterial[i][e][2])>0?(900==e?$("#ici2_"+a).text(separate(Number(numCalcServantMaterial[i][e][2]))):$("#ici2_"+a).text(Number(numCalcServantMaterial[i][e][2])),$("#ici2_"+a).css("color","Black")):$("#ici2_"+a).text(Number(numCalcServantMaterial[i][e][2])),Number(numCalcServantMaterial[i][e][3])>0?(900==e?$("#ici3_"+a).text(separate(Number(numCalcServantMaterial[i][e][3]))):$("#ici3_"+a).text(Number(numCalcServantMaterial[i][e][3])),$("#ici3_"+a).css("color","Black")):$("#ici3_"+a).text(Number(numCalcServantMaterial[i][e][3])),Number(numCalcServantMaterial[i][e][4])>0?(900==e?$("#ici4_"+a).text(separate(Number(numCalcServantMaterial[i][e][4]))):$("#ici4_"+a).text(Number(numCalcServantMaterial[i][e][4])),$("#ici4_"+a).css("color","Black")):$("#ici4_"+a).text(Number(numCalcServantMaterial[i][e][4])),Number(numCalcServantMaterial[i][e][5])>0?(900==e?$("#ici5_"+a).text(separate(Number(numCalcServantMaterial[i][e][5]))):$("#ici5_"+a).text(Number(numCalcServantMaterial[i][e][5])),$("#ici5_"+a).css("color","Black")):$("#ici5_"+a).text(Number(numCalcServantMaterial[i][e][5])),Number(numCalcServantMaterial[i][e][6])>0?(900==e?$("#ici6_"+a).text(separate(Number(numCalcServantMaterial[i][e][6]))):$("#ici6_"+a).text(Number(numCalcServantMaterial[i][e][6])),$("#ici6_"+a).css("color","Black")):$("#ici6_"+a).text(Number(numCalcServantMaterial[i][e][6]))}$(".box_item").not("#box_"+e).hide("fast"),$(".num-Individual").show("fast"),numIndividual=1}else{for(var t in mTotalNum)mTotalNum[t]>0&&$("#box_"+t).show("fast");for($(".num-Individual").hide("fast"),numIndividual=0,i=0;i<showBox;i++){a=i+1;$("#ici0_"+a).css("color","Silver"),$("#ici1_"+a).css("color","Silver"),$("#ici2_"+a).css("color","Silver"),$("#ici3_"+a).css("color","Silver"),$("#ici4_"+a).css("color","Silver"),$("#ici5_"+a).css("color","Silver"),$("#ici6_"+a).css("color","Silver"),$(".num-Individual").css("fontSize","1.7em")}}}),$("#show-inst").click(function(){if($(this).blur(),$("#modal-overlay")[0])return!1;$("body").append('<div id="modal-overlay"></div>'),$("#modal-overlay").fadeIn("fast"),centeringModalSyncer(2),$("#footer").fadeIn("fast"),$("#modal-overlay,.input-close").unbind().click(function(){$("#footer,#modal-overlay").fadeOut("fast",function(){$("#modal-overlay").remove()})})}),$(window).resize(centeringModalSyncer),$("#add-servant1,#add-servant2").click(function(){$(".select-title").show(),$(".select-show").show(),$(".reverse-title").hide(),$(".reverse-show").hide(),$(".reverseBox").hide(),$(".status-title").hide(),$(".statusBox").hide(),numServantSelect=showBox+1,ServantSearch(showBox+1),showBox>=Servantdb.length&&$(".box_plus").fadeOut("fast")}),$("#add-reverse").click(function(){$(".select-title").hide(),$(".select-show").hide(),$(".status-title").hide(),$(".statusBox").hide(),$(".reverse-show").css({height:Math.floor($(window).height()-$(".select-servant-title").outerHeight())+"px"}),$(".reverse-title").show(),$(".reverse-show").show(),$(".reverseBox").show(),numServantSelect=showBox+1,ReverseSearch(showBox+1),showBox>=Servantdb.length&&$(".box_plus").fadeOut("fast")}),$("#add-status").click(function(){$(".select-title").hide(),$(".select-show").show(),$(".reverse-title").hide(),$(".reverse-show").hide(),$(".reverseBox").hide(),$(".status-title").show(),$(".statusBox").show(),numServantSelect=showBox+1,StatusSearch(showBox+1),showBox>=Servantdb.length&&$(".box_plus").fadeOut("fast")}),$("#all-clear").click(function(){if($(this).blur(),$("#modal-overlay")[0])return!1;showBox<1?($(".checkText").html('<span class="checkText">'+GetText(GetTextNoServantReg)+"</span>"),$("#checkTool").hide(),$("#check-no").val("OK")):($(".checkText").html('<span class="checkText">'+GetText(GetTextDeleteAllServants)+"</span>"),$("#checkTool").show(),$("#check-no").val("No")),$("body").append('<div id="modal-overlay"></div>'),$("#modal-overlay").fadeIn("fast"),centeringModalSyncer(7),$("#check-delete").fadeIn("fast"),$("#modal-overlay,#check-no").unbind().click(function(){$("#check-delete,#modal-overlay").fadeOut("fast",function(){$("#modal-overlay").remove()})}),$("#check-yes").click(function(){for(i=1;i<=Servantdb.length;i++){for($("#sBox_"+i).remove(),$("#CalcIcon"+i).remove(),j=0;j<4;j++)lockSetting[i-1][j]=0;for(var e in numCalcServantId[i-1]=0,FormidNum[i-1])FormidNum[i-1][e]=0;for(var e in FormidUsed[i-1])FormidUsed[i-1][e]=0}for(var e in mTotalNum)mTotalNum[e]=0;for(var e in mTotalUsed)mTotalUsed[e]=0;for(i=0;i<Servantdb.length;i++)myServantdb[i][10]=0;chaldeaCalc(),materialTotal(),showBox=0,$(".box_plus").fadeIn("fast"),$("#check-delete,#modal-overlay").fadeOut("fast",function(){$("#modal-overlay").remove()})})}),$(document).on("click",".delete-btn",function(){var e,a;if(myServantdb[numCalcServantId[parseInt($(this).attr("name"))-1]-1][10]=0,showBox>1){var t="";for(e=parseInt($(this).attr("name"));e<showBox;e++)for(a=e+1,t=0==language?Servantdb[numCalcServantId[e]-1].text:Servantdb[numCalcServantId[e]-1].text2,document.getElementById("calc_"+e).rows[0].cells[0].innerHTML='<img src="i/icon_servants/'+numCalcServantId[e]+'.jpg?20190827">',document.getElementById("calc_"+e).rows[0].cells[1].innerText=t,$("#sairin_from_"+e).val($("#sairin_from_"+a).val()),$("#sairin_to_"+e).val($("#sairin_to_"+a).val()),$("#skill1_from_"+e).val($("#skill1_from_"+a).val()),$("#skill1_to_"+e).val($("#skill1_to_"+a).val()),$("#skill2_from_"+e).val($("#skill2_from_"+a).val()),$("#skill2_to_"+e).val($("#skill2_to_"+a).val()),$("#skill3_from_"+e).val($("#skill3_from_"+a).val()),$("#skill3_to_"+e).val($("#skill3_to_"+a).val()),$(IDAppend1From+e).val($(IDAppend1From+a).val()),$(IDAppend1To+e).val($(IDAppend1To+a).val()),$(IDAppend2From+e).val($(IDAppend2From+a).val()),$(IDAppend2To+e).val($(IDAppend2To+a).val()),$(IDAppend3From+e).val($(IDAppend3From+a).val()),$(IDAppend3To+e).val($(IDAppend3To+a).val()),modalSkill1='<div class="box_calcicon"><figure class="fig-relative" id="sci1_'+e+'"><img src="i/icon_skills/'+Servantdb[numCalcServantId[a-1]-1].icon1+'.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci1_'+e+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici1_'+e+'">0</span></div></figure></div>',modalSkill2='<div class="box_calcicon"><figure class="fig-relative" id="sci2_'+e+'"><img src="i/icon_skills/'+Servantdb[numCalcServantId[a-1]-1].icon2+'.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci2_'+e+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici2_'+e+'">0</span></div></figure></div>',modalSkill3='<div class="box_calcicon"><figure class="fig-relative" id="sci3_'+e+'"><img src="i/icon_skills/'+Servantdb[numCalcServantId[a-1]-1].icon3+'.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci3_'+e+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici3_'+e+'">0</span></div></figure></div>',modalASkill1='<div class="box_calcicon"><figure class="fig-relative" id="sci4_'+e+'"><img src="i/icon_skills/107.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci4_'+e+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici4_'+e+'">0</span></div></figure></div>',modalASkill2='<div class="box_calcicon"><figure class="fig-relative" id="sci5_'+e+'"><img src="i/icon_skills/600.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci5_'+e+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici5_'+e+'">0</span></div></figure></div>',modalASkill3='<div class="box_calcicon"><figure class="fig-relative" id="sci6_'+e+'"><img src="i/icon_skills/105.jpg?20190827" style="width: 50%;"><figcaption class="num-CalcIcon" style="left: 38px;font-size: 80%;"><span id="bci6_'+e+'" style="color: black; text-shadow: none; font-weight: bold;"></span></figcaption><div class="num-Individual"><span id="ici6_'+e+'">0</span></div></figure></div>',document.getElementById("CalcIcon"+e).innerHTML='<div style="display: grid; grid-template-columns: repeat(4, 1fr);"><div class="box_calcicon" style="grid-row-start: 1; grid-row-end: 3;"><figure class="fig-relative" id="sci0_'+e+'"><img src="i/icon_servants/'+numCalcServantId[a-1]+'.jpg?20190827"><figcaption class="num-CalcIcon"><span id="bci0_'+e+'"></span></figcaption><div class="num-Individual"><span id="ici0_'+e+'">0</span></div></figure></div>'+modalSkill1+modalSkill2+modalSkill3+modalASkill1+modalASkill2+modalASkill3+"</div>",numCalcServantId[e-1]=numCalcServantId[e],locking(e,lockingPatternAll),j=0;j<4;j++)lockSetting[e][j]=0;for(var n in $("#sBox_"+showBox).remove(),$("#CalcIcon"+showBox).remove(),lockSetting[e-1]=initLockSettingRow(),numCalcServantId[showBox-1]=0,FormidNum[showBox-1])FormidNum[showBox-1][n]=0;for(var n in FormidUsed[showBox-1])FormidUsed[showBox-1][n]=0;showBox--,$(".box_plus").fadeIn("fast")}else{for(var n in $("#sBox_"+showBox).remove(),$("#CalcIcon"+showBox).remove(),lockSetting[showBox-1]=initLockSettingRow(),numCalcServantId[showBox-1]=0,FormidNum[showBox-1])FormidNum[showBox-1][n]=0;for(var n in FormidUsed[showBox-1])FormidUsed[showBox-1][n]=0;showBox=0}}),$(document).on("click",".change-btn",function(){numServantSelect=parseInt($(this).attr("name")),ServantSearch(parseInt($(this).attr("name")))}),$(document).on("click",".lock_btn",function(){switch($(this).val()){case"霊基再臨":case"Ascension":locking(parseInt($(this).attr("name")),0);break;case"SKILL 1":locking(parseInt($(this).attr("name")),1);break;case"SKILL 2":locking(parseInt($(this).attr("name")),2);break;case"SKILL 3":locking(parseInt($(this).attr("name")),3);break;case"APPEND 1":locking(parseInt($(this).attr("name")),TargetPatternAppend1);break;case"APPEND 2":locking(parseInt($(this).attr("name")),TargetPatternAppend2);break;case"APPEND 3":locking(parseInt($(this).attr("name")),TargetPatternAppend3)}}),$(document).on("click",".arrow",function(){var e=$(this).attr("name"),a=$(this).attr("name");aiming(parseInt(e.slice(0,1)),parseInt(a.slice(2)))}),$(document).on("change",".calcSet_btn",function(){materialCalc(parseInt($(this).attr("name")))}),$("#inventory-setting").click(function(){if($(this).blur(),$("#modal-overlay")[0])return!1;$("body").append('<div id="modal-overlay"></div>'),$("#modal-overlay").fadeIn(200),centeringModalSyncer(5),$(".chaldea-slide").css({height:Math.floor($(window).height()-($("#inv-title").outerHeight()+$("#chaldea_select").outerHeight()+$(".select-class").outerHeight()))+"px"}),renum=0,statusnum=0,chaldeanum=1,numServantSelect=showBox+1,$("div.box-chaldea").remove(),$("[name='chaldea-class-btn']:checked").prop("checked",!1),$("[name='chaldea-class-btn'][value='0']").prop("checked",!0),clnum=$("[name='chaldea-class-btn']:checked").val(),$("[name='chaldea-btn']:checked").prop("checked",!1),$("[name='chaldea-btn'][value='0']").prop("checked",!0),chaldeaFuncnum=0,ChangeServantIcon(),$("#chaldea_inventory").hide(),$("#chaldea_handover").hide(),$("#chaldea_calc").hide(),$(".chaldea-slide").css({height:Math.floor($(window).innerHeight()-($("#inv-title").outerHeight()+$("#chaldea_select").outerHeight()+$(".select-class").outerHeight()))+"px"}),$("#chaldea_servant").show(),$("#modal-inventory").fadeIn(200)}),$("[name='chaldea-class-btn']").click(function(){switch(clnum=$("[name='chaldea-class-btn']:checked").val(),console.log(clnum),clnum){case"0":$("input[name='chaldea-calcclass-btn']:eq(0)").prop("checked",!0);break;case"1":$("input[name='chaldea-calcclass-btn']:eq(1)").prop("checked",!0);break;case"2":$("input[name='chaldea-calcclass-btn'][value='2']").prop("checked",!0);break;case"3":$("[name='chaldea-calcclass-btn']").val(["3"]);break;case"4":$("input[name='chaldea-calcclass-btn']").val(["4"]);break;case"5":$("input[name='chaldea-calcclass-btn']").val(["5"]);break;case"6":$("input[name='chaldea-calcclass-btn']").val(["6"]);break;case"7":$("input[name='chaldea-calcclass-btn']").val(["7"]);break;case"8":$("input[name='chaldea-calcclass-btn']").val(["8"]);break;case"9":$("input[name='chaldea-calcclass-btn']").val(["9"]);break;case"10":$("input[name='chaldea-calcclass-btn']").val(["10"]);break;case"11":$("input[name='chaldea-calcclass-btn']").val(["11"]);break;case"12":$("input[name='chaldea-calcclass-btn']").val(["12"]);break;case"13":$("input[name='chaldea-calcclass-btn']").val(["13"])}ChangeServantIcon(),$(".chaldea-slide").css({height:Math.floor($(window).innerHeight()-($("#inv-title").outerHeight()+$("#chaldea_select").outerHeight()+$(".select-class").outerHeight()))+"px"})}),$("[name='chaldea-calcclass-btn']").click(function(){switch(clnum=$("[name='chaldea-calcclass-btn']:checked").val(),console.log(clnum),clnum){case"0":$("input[name='chaldea-class-btn']:eq(0)").prop("checked",!0);break;case"1":$("input[name='chaldea-class-btn']:eq(1)").prop("checked",!0);break;case"2":$("input[name='chaldea-class-btn'][value='2']").prop("checked",!0);break;case"3":$("[name='chaldea-class-btn']").val(["3"]);break;case"4":$("input[name='chaldea-class-btn']").val(["4"]);break;case"5":$("input[name='chaldea-class-btn']").val(["5"]);break;case"6":$("input[name='chaldea-class-btn']").val(["6"]);break;case"7":$("input[name='chaldea-class-btn']").val(["7"]);break;case"8":$("input[name='chaldea-class-btn']").val(["8"]);break;case"9":$("input[name='chaldea-class-btn']").val(["9"]);break;case"10":$("input[name='chaldea-class-btn']").val(["10"]);break;case"11":$("input[name='chaldea-class-btn']").val(["11"]);break;case"12":$("input[name='chaldea-class-btn']").val(["12"]);break;case"13":$("input[name='chaldea-class-btn']").val(["13"])}chaldeaCalc(clnum),$("#chaldea_calc").css({height:Math.floor($(window).height()-($("#inv-title").outerHeight()+$("#chaldea_select").outerHeight()))+"px"})}),$("[name='chaldea-btn']").click(function(){if($(this).val()!=chaldeaFuncnum)switch(chaldeaFuncnum=parseInt($(this).val()),chaldeaFuncnum){case 0:ChangeServantIcon(),$("#chaldea_inventory").hide(),$("#chaldea_handover").hide(),$("#chaldea_calc").hide(),$(".chaldea-slide").css({height:Math.floor($(window).innerHeight()-($("#inv-title").outerHeight()+$("#chaldea_select").outerHeight()+$(".select-class").outerHeight()))+"px"}),$("#chaldea_servant").fadeIn(200);break;case 1:$("#chaldea_servant").hide(),$("#chaldea_handover").hide(),$("#chaldea_calc").hide(),$("#chaldea_inventory").css({height:Math.floor($(window).innerHeight()-($("#inv-title").outerHeight()+$("#chaldea_select").outerHeight()))+"px"}),$("#chaldea_inventory").fadeIn(200);break;case 2:switch($('[name="cho-select2-btn"]:checked').val()){case"0":0==$('[name="cho-select1-btn"]:checked').val()?saveLocalStorageServant():saveLocalStorageInventory();break;case"1":$("#handover_code").val("")}$("#chaldea_servant").hide(),$("#chaldea_inventory").hide(),$("#chaldea_calc").hide(),$("#chaldea_handover").fadeIn(200);break;case 3:chaldeaCalc(clnum),$("#chaldea_servant").hide(),$("#chaldea_inventory").hide(),$("#chaldea_handover").hide(),$("#chaldea_calc").css({height:Math.floor($(window).height()-($("#inv-title").outerHeight()+$("#chaldea_select").outerHeight()))+"px"}),$("#chaldea_calc").fadeIn(200)}}),$(".inv_item").click(function(){$(this).blur(),numInv=$(this).attr("id"),numInv=parseInt(numInv.slice(9)),document.getElementById("table-invinput").rows[0].cells[0].innerHTML='<img src="i/icon/item_'+numInv+'.jpg?20190827" class="icon">';var e=inventoryNum[numInv];$("#inventory-overlay").fadeIn("fast"),centeringModalSyncer(6),$("#inventory-input-form").val(e),$("#inventory-input-slider").val(e),$("#inventory-input").fadeIn("fast"),$("#inventory-input-form").select(),$("#inventory-input-form").focus(function(){$(this).select()}),$("#inventory-input-form").on("input",function(){e=parseInt($(this).val()),900==numInv?e<0?(e=0,$("#inventory-input-form").val(e)):e>999999999&&(e=999999999,$("#inventory-input-form").val(e)):e<0?(e=0,$("#inventory-input-form").val(e)):e>99999&&(e=99999,$("#inventory-input-form").val(e))}),$("#inventory-input-form").change(function(){e=parseInt($(this).val()),900==numInv?e<0?(e=0,$("#inventory-input-form").val(e)):e>999999999&&(e=999999999,$("#inventory-input-form").val(e)):e<0?(e=0,$("#inventory-input-form").val(e)):e>99999&&(e=99999,$("#inventory-input-form").val(e))}),$("#inventory-input-form").keydown(function(a){if(13==a.keyCode){
for(var t in 900==numInv?document.getElementById("inv_"+numInv).rows[0].cells[1].innerText=separate(e):document.getElementById("inv_"+numInv).innerText=separate(e),inventoryNum[numInv]=e,e=0,inventoryNum)e+=inventoryNum[t];e>0?(useInv=1,$("[name='result-btn']:checked").prop("checked",!1),$("[name='result-btn'][value='1']").prop("checked",!0),$("[name='result-chaldea']:checked").prop("checked",!1),$("[name='result-chaldea'][value='1']").prop("checked",!0)):(useInv=0,$("[name='result-btn']:checked").prop("checked",!1),$("[name='result-btn'][value='0']").prop("checked",!0),$("[name='result-chaldea']:checked").prop("checked",!1),$("[name='result-chaldea'][value='0']").prop("checked",!0)),saveLocalStorageInventory(),$("#inv-input-minus10,#inv-input-minus1,#inv-input-plus1,#inv-input-plus10").unbind(),$("#inventory-overlay,#inventory-input").fadeOut("fast")}}),$("#inputnum-inventory").click(function(){for(var a in 900==numInv?document.getElementById("inv_"+numInv).rows[0].cells[1].innerText=separate(e):document.getElementById("inv_"+numInv).innerText=separate(e),inventoryNum[numInv]=e,e=0,inventoryNum)e+=inventoryNum[a];e>0?(useInv=1,$("[name='result-btn']:checked").prop("checked",!1),$("[name='result-btn'][value='1']").prop("checked",!0),$("[name='result-chaldea']:checked").prop("checked",!1),$("[name='result-chaldea'][value='1']").prop("checked",!0)):(useInv=0,$("[name='result-btn']:checked").prop("checked",!1),$("[name='result-btn'][value='0']").prop("checked",!0),$("[name='result-chaldea']:checked").prop("checked",!1),$("[name='result-chaldea'][value='0']").prop("checked",!0)),saveLocalStorageInventory(),$("[name='result-btn']:checked").prop("checked",!1),$("[name='result-btn'][value='1']").prop("checked",!0),$("[name='result-chaldea']:checked").prop("checked",!1),$("[name='result-chaldea'][value='1']").prop("checked",!0),$("#inv-input-minus10,#inv-input-minus1,#inv-input-plus1,#inv-input-plus10").unbind(),$("#inventory-overlay,#inventory-input").fadeOut("fast")}),$("#inventory-overlay,.input-close").click(function(){$("#inv-input-minus10,#inv-input-minus1,#inv-input-plus1,#inv-input-plus10").unbind(),$("#inventory-overlay,#inventory-input").fadeOut("fast")})}),$('[name="cho-select1-btn"]').click(function(){if($("#handover_code").val(""),$("#cho_issue").prop("checked"))switch($(this).val()){case"0":saveLocalStorageServant();break;case"1":saveLocalStorageInventory()}}),$('[name="cho-select2-btn"]').click(function(){if($("#handover_code").val(""),1==$(this).val())$("#load_handover").fadeIn(100);else{switch($('[name="cho-select1-btn"]:checked').val()){case"0":saveLocalStorageServant();break;case"1":saveLocalStorageInventory()}$("#load_handover").fadeOut(100)}}),$("#handover_code").focus(function(){$("#handover_code").select()}),$("#load_handover").click(function(){if(""!=$("#handover_code").val())switch($('[name="cho-select1-btn"]:checked').val()){case"0":loadServant($("#handover_code").val());break;case"1":loadInventory($("#handover_code").val())}}),$(".lngChangeBtn").click(function(){if($(this).blur(),$("#modal-overlay")[0])return!1;$("body").append('<div id="modal-overlay"></div>'),$("#modal-overlay").fadeIn("fast"),centeringModalSyncer(8),$("#changeLng").fadeIn("fast"),$("#lngJp").click(function(){if(language=0,document.getElementById("all-clear").innerHTML="登録<br>全解除",document.getElementById("add-servant2").innerHTML="検索",document.getElementById("add-reverse").innerHTML="逆引き<br>検索",document.getElementById("add-status").innerHTML="ステータス<br>検索",document.getElementById("modal-open").innerText="結果表示",document.getElementById("show-inst").innerText="説明書",$(".personalModeration").css("width","50px"),$(".personalInsanity").css("width","50px"),$(".personalSummer").css("width","50px"),document.getElementById("check-title").innerText="確認",$("span.select-title").text("サーヴァント検索"),$("span.reverse-title").text("サーヴァント逆引き検索"),$("span.status-title").text("サーヴァントステータス検索"),$("span.result_title").text("結果表示"),$("label.Result").text("計算結果"),$("label.Required").text("不足分"),$("label.Consumed").text("使用済"),$("label.Ascention").text("霊基再臨"),$("label.skillReinforce").text("スキル"),$("label.askillReinforce").text("アペンド"),$("#titleFilterAttr").text("属性系フィルター"),$("#titleFilterNP").text("宝具系フィルター"),$("#titleFilterSkills").text("スキル系フィルター"),$("#filTitleReset").text("フィルターの初期化"),$("label.policyLaw").text("秩序"),$("label.policyNeutral").text("中立"),$("label.policyChaos").text("混沌"),$("label.personalGood").text("善"),$("label.personalModeration").text("中庸"),$("label.personalBad").text("悪"),$("label.personalInsanity").text("狂"),$("label.personalBride").text("花嫁"),$("label.personalSummer").text("夏"),$("label.attributeSky").text("天"),$("label.attributeEarth").text("地"),$("label.attributeMan").text("人"),$("label.attributeStar").text("星"),$("label.attributeBeast").text("獣"),$("label.etcDivinity").text("神性"),$("label.etcDragon").text("龍"),$("label.etcRoma").text("ローマ"),$("label.etcSavageBeast").text("猛獣"),$("label.etcRiding").text("騎乗"),$("label.etcLove").text("愛する"),$("label.etcDevilish").text("魔性"),$("label.etcDavinci").text("ダヴィンチ"),$("label.etcFace").text("アルトリア顔"),$("label.etcArthur").text("アーサー"),$("label.np_typeQ").text("Ｑ宝具"),$("label.np_typeA").text("Ａ宝具"),$("label.np_typeB").text("Ｂ宝具"),$("label.np-effectA").text("全体"),$("label.np-effectO").text("単体"),$("label.np-effectS").text("補助"),$("label.np_EXmale").text("男性"),$("label.np_EXfemale").text("女性"),$("label.np_EXdivine").text("神性"),$("label.np_EXdragon").text("竜"),$("label.np_EXpoison").text("毒"),$("label.np_EXriding").text("騎乗"),$("label.np_EXlove").text("愛する"),$("label.np_EXevil").text("悪"),$("label.np_EXdemonic").text("魔性"),$("label.np_EXskyearth").text("天地"),$("label.np_EXservant").text("サーヴァント"),$("label.np_EXface").text("アルトリア顔"),$("label.np_EXarthur").text("アーサー"),$("label.np_EXsaber").text("セイバー"),$("label.s_EXmale").text("男性"),$("label.s_EXdivine").text("神性"),$("label.s_EXdragon").text("竜"),$("label.s_EXroma").text("ローマ"),$("label.s_EXsavagebeast").text("猛獣"),$("label.s_EXevil").text("悪"),$("label.s_EXdemonic").text("魔性"),$("label.s_EXskyearth").text("天地"),$("label.s_EXhuman").text("人間"),$("label.s_EXhumanoid").text("人型"),$("label.s_EXundead").text("死霊"),$("label.s_EXdemon").text("悪魔"),$("label.s_EXlarge").text("巨大"),$("label.s_EXsaber").text("セイバー"),$("label.reset_filter").text("リセット"),$("#filter-policy1").text("秩序"),$("#filter-policy2").text("中立"),$("#filter-policy3").text("混沌"),$("#filter-personal1").text("善"),$("#filter-personal2").text("中庸"),$("#filter-personal3").text("悪"),$("#filter-personal4").text("狂"),$("#filter-personal5").text("花嫁"),$("#filter-personal6").text("夏"),$("#filter-attribute1").text("天"),$("#filter-attribute2").text("地"),$("#filter-attribute3").text("人"),$("#filter-attribute4").text("星"),$("#filter-attribute5").text("獣"),$("#filter-divinity").text("神性"),$("#filter-dragon").text("竜"),$("#filter-roma").text("ローマ"),$("#filter-savagebeast").text("猛獣"),$("#filter-riding").text("騎乗"),$("#filter-love").text("愛する"),$("#filter-devilish").text("魔性"),$("#filter-davinci").text("ダヴィンチ"),$("#filter-face").text("アルトリア顔"),$("#filter-arthur").text("アーサー"),$("#filter-nptype1").text("Ｑ宝具"),$("#filter-nptype2").text("Ａ宝具"),$("#filter-nptype3").text("Ｂ宝具"),$("#filter-npeffect1").text("全体宝具"),$("#filter-npeffect2").text("単体宝具"),$("#filter-npeffect3").text("補助宝具"),$("#filter-npEXmale").text("宝具 男性特攻"),$("#filter-npEXfemale").text("宝具 女性特攻"),$("#filter-npEXdivine").text("宝具 神性特攻"),$("#filter-npEXdragon").text("宝具 竜特攻"),$("#filter-npEXpoison").text("宝具 毒特攻"),$("#filter-npEXriding").text("宝具 騎乗特攻"),$("#filter-npEXlove").text("宝具 愛する者特攻"),$("#filter-npEXevil").text("宝具 悪特攻"),$("#filter-npEXdemonic").text("宝具 魔性特攻"),$("#filter-npEXskyearth").text("宝具 天地特攻"),$("#filter-npEXservant").text("宝具 サーヴァント特攻"),$("#filter-npEXface").text("宝具 アルトリア顔特攻"),$("#filter-npEXarthur").text("宝具 アーサー特攻"),$("#filter-npEXsaber").text("宝具 セイバー特攻"),$("#filter-sEXmale").text("スキル 男性特攻"),$("#filter-sEXdivine").text("スキル 神性特攻"),$("#filter-sEXdragon").text("スキル 竜特攻"),$("#filter-sEXroma").text("スキル ローマ特攻"),$("#filter-sEXsavagebeast").text("スキル 猛獣特攻"),$("#filter-sEXevil").text("スキル 悪特攻"),$("#filter-sEXdemonic").text("スキル 魔性特攻"),$("#filter-sEXskyearth").text("スキル 天地特攻"),$("#filter-sEXhuman").text("スキル 人間特攻"),$("#filter-sEXhumanoid").text("スキル 人型特攻"),$("#filter-sEXundead").text("スキル 死霊特攻"),$("#filter-sEXdemon").text("スキル 悪魔特攻"),$("#filter-sEXlarge").text("スキル 超巨大特攻"),$("#filter-sEXsaber").text("スキル セイバー特攻"),$("h2.instTitle").text("説明書"),document.getElementById("instText1").innerHTML='　Fate/Grand Order専用素材計算シミュレータです。<br />　霊基再臨、スキル強化に必要な素材やＱＰ等を合計します。<br /><big><font color="red">　※スマホ等で利用される場合、縦向きでの使用を推奨しています。</font></big><br /><br />',document.getElementById("instText2").innerHTML="1.<br />　サーヴァントの登録は「検索」ボタン、「＋」アイコンまたは「逆引き検索」をクリックしてください。<br />「検索」ボタン、「＋」アイコンからはクラス別の検索が行なえます。上段からレアリティ順にサーヴァントのアイコンが表示されます。<br />「逆引き検索」ボタンは、サーヴァントを使用する素材から逆引きに検索することができます。<br /><br />",document.getElementById("instText3").innerHTML="2.<br />　霊基再臨・SKILLの各項目を設定してください。設定数値の左側から右側までの間を計算します。<br />　入力補助として「霊基再臨」「SKILL」の各項目名をクリックすることで、それぞれ個別に計算から除外することができます。<br />　インスタントで設定できるので、ご活用ください<br />　サーヴァントに設定した内容は全てCookie機能で自動保存されます。Cookie機能がオフになっていると保存されません。<br /><br />",document.getElementById("instText4").innerHTML="3.<br />　アイコン画像すぐ上の「Delete」ボタンをクリックすることで、サーヴァントを個別に登録解除できます。<br />　「登録全解除」ボタンで登録している全てのサーヴァントを解除できます。<br /><br />",document.getElementById("instText5").innerHTML="4.<br />　名前表示欄すぐ上の「Change」をクリックすることで、登録済みのサーヴァントを個別に変更できます。<br /><br />",document.getElementById("instText6").innerHTML="5.<br />　「結果表示」で、設定内容に応じた計算結果が「計算結果」に表示されます。<br /><br />「不足分」は、「所持アイテム」との連携機能です。「計算結果」から現在所持している数を差し引き、不足している数を表示します。不足していない素材等は表示から消えます。<br />「所持アイテム」ボタンから設定できます。自身の今所持しているアイテムの数を入力してください。<br />　一度入力した内容はCookieで保存されます。Cookie機能がオフになっていると保存されません。<br /><br />「使用済」は、登録されているサーヴァントの左側の設定数値を参照しています。<br />「初期状態から現在の状態になるまで」を表示しています。<br />　たまには、サーヴァント達に投資してきた今までを振り返ってみるのもいいかもしれません。<br /><br />",document.getElementById("instText7").innerHTML="6.<br />　同時に計算するサーヴァント数に制限はありません。<br />　ただし、端末の性能によっては一部機能の動作が重くなりますのでご注意ください。<br /><br />",document.getElementById("instText8").innerHTML="7.<br />　新規実装でデータが不足しているサーヴァントなど、霊基再臨、またはスキル強化のアイテムデータが存在していない場合があります。<br />　また、イベント配布サーヴァントの霊基再臨に必要な特殊アイテムには対応していません。<br /><br />",document.getElementById("instText9").innerHTML="8.<br />　各種必要素材、アイテムやＱＰ等のデータは、攻略ｗｉｋｉ等を参照しています。<br />　誤りを発見された場合、ご連絡ください。<br /><br />",document.getElementById("instText10").innerHTML="9.<br />　サーヴァントによっては3つ目のスキルが無い場合がありますが、設定項目を非表示にするなどの対応はしていません。<br /><br />",document.getElementById("instText11").innerHTML="10.<br />　ソロモンはジョークです。<br /><br />",document.getElementById("instText12").innerHTML="このページは「Fate/Grand Order」の開発・運営等とは一切関係のない、ただの１ユーザが趣味で作ったものです。このシミュレータを使用したことによる何らかの損害があっても一切責任は負いかねます。",document.getElementById("instText13").innerHTML="フォームに入力後、<br />このウインドウに必要なアイテムが表示されます。",$(".tools").css("font-family","ヒラギノ角ゴシック"),window.innerWidth<480?($(".tools > #all-clear").css("font-size","90%"),$(".tools > #inventory-setting").css("font-size","90%")):($(".tools > #all-clear").css("font-size","110%"),$(".tools > #inventory-setting").css("font-size","110%")),showBox>1)for(i=1;i<=showBox;i++)document.getElementById("servantName_"+i).innerText=Servantdb[numCalcServantId[i-1]-1].text;else 1==showBox&&(document.getElementById("servantName_1").innerText=Servantdb[numCalcServantId[showBox]-1].text);$('input[value="Ascension"]').val("霊基再臨"),$("#changeLng,#modal-overlay").fadeOut("fast",function(){$("#modal-overlay").remove()})}),$("#lngEn").click(function(){if(language=1,document.getElementById("all-clear").innerText="AllDelete",document.getElementById("add-servant2").innerHTML="Look up<br>Servant",document.getElementById("add-reverse").innerHTML="Reverse<br>Look up",document.getElementById("add-status").innerHTML="Attributes<br>Look up",document.getElementById("modal-open").innerText="Result",document.getElementById("show-inst").innerText="Inst.",$(".personalModeration").css("width","80px"),$(".personalInsanity").css("width","60px"),$(".personalSummer").css("width","60px"),document.getElementById("check-title").innerText="Confirmation",$("span.select-title").text("Look up Servant"),$("span.reverse-title").text("Reverse Look up Servant"),$("span.status-title").text("Attributes Look up Servant"),$("span.result_title").text("Result"),$("label.Result").text("Result"),$("label.Required").text("Shortage"),$("label.Consumed").text("Consumed"),$("label.Ascention").text("Ascention"),$("label.skillReinforce").text("Skill"),$("label.askillReinforce").text("Append"),$("#titleFilterAttr").text("Attributes"),$("#titleFilterNP").text("Noble Phantasm"),$("#titleFilterSkills").text("Skills"),$("#filTitleReset").text("Reset All Settings"),$("label.policyLaw").text("Lawful"),$("label.policyNeutral").text("Neutral"),$("label.policyChaos").text("Chaotic"),$("label.personalGood").text("Good"),$("label.personalModeration").text("Neutral"),$("label.personalBad").text("Evil"),$("label.personalInsanity").text("Mad"),$("label.personalBride").text("Bride"),$("label.personalSummer").text("Smmr"),$("label.attributeSky").text("Sky"),$("label.attributeEarth").text("Earth"),$("label.attributeMan").text("Man"),$("label.attributeStar").text("Star"),$("label.attributeBeast").text("Beast"),$("label.etcDivinity").text("Divine"),$("label.etcDragon").text("Dragon"),$("label.etcRoma").text("Roman"),$("label.etcSavageBeast").text("Beast"),$("label.etcRiding").text("Riding"),$("label.etcLove").text("Beloved"),$("label.etcDevilish").text("Demon"),$("label.etcDavinci").text("Davinci"),$("label.etcFace").text("Saberface"),$("label.etcArthur").text("Arthur / Artoria"),$("label.np_typeQ").text("NP Q"),$("label.np_typeA").text("NP A"),$("label.np_typeB").text("NP B"),$("label.np-effectA").text("All"),$("label.np-effectO").text("One"),$("label.np-effectS").text("Support"),$("label.np_EXmale").text("EX Male"),$("label.np_EXfemale").text("EX Female"),$("label.np_EXdivine").text("EX Divine"),$("label.np_EXdragon").text("EX Dragon"),$("label.np_EXpoison").text("EX Poison"),$("label.np_EXriding").text("EX Riding"),$("label.np_EXlove").text("EX Beloved"),$("label.np_EXevil").text("EX Evil"),$("label.np_EXdemonic").text("EX Demonic"),$("label.np_EXskyearth").text("EX SkyEarth"),$("label.np_EXservant").text("EX Servant"),$("label.np_EXface").text("EX Saberface"),$("label.np_EXarthur").text("EX Arthur"),$("label.np_EXsaber").text("EX Saber"),$("label.s_EXmale").text("EX Male"),$("label.s_EXdivine").text("EX Divine"),$("label.s_EXdragon").text("EX Dragon"),$("label.s_EXroma").text("EX Roman"),$("label.s_EXsavagebeast").text("EX Beast"),$("label.s_EXevil").text("EX Evil"),$("label.s_EXdemonic").text("EX Demonic"),$("label.s_EXskyearth").text("EX SkyEarth"),$("label.s_EXhuman").text("EX Human"),$("label.s_EXhumanoid").text("EX Humanoid"),$("label.s_EXundead").text("EX Undead"),$("label.s_EXdemon").text("EX Demon"),$("label.s_EXlarge").text("EX LargeEnemies"),$("label.s_EXsaber").text("EX Saber"),$("label.reset_filter").text("Reset"),$("#filter-policy1").text("Lawful"),$("#filter-policy2").text("Neutral"),$("#filter-policy3").text("Chaotic"),$("#filter-personal1").text("Good"),$("#filter-personal2").text("Neutral"),$("#filter-personal3").text("Evil"),$("#filter-personal4").text("Mad"),$("#filter-personal5").text("Bride"),$("#filter-personal6").text("Summer"),$("#filter-attribute1").text("Sky"),$("#filter-attribute2").text("Earth"),$("#filter-attribute3").text("Man"),$("#filter-attribute4").text("Star"),$("#filter-attribute5").text("Beast"),$("#filter-divinity").text("Divine"),$("#filter-dragon").text("Dragon"),$("#filter-roma").text("Roman"),$("#filter-savagebeast").text("Beast"),$("#filter-riding").text("Riding"),$("#filter-love").text("Beloved"),$("#filter-devilish").text("Demon"),$("#filter-davinci").text("Davinci"),$("#filter-face").text("Saberface"),$("#filter-arthur").text("Arthur"),$("#filter-nptype1").text("NP Q"),$("#filter-nptype2").text("NP A"),$("#filter-nptype3").text("NP B"),$("#filter-npeffect1").text("NP All"),$("#filter-npeffect2").text("NP One"),$("#filter-npeffect3").text("NP Support"),$("#filter-npEXmale").text("NP EX Male"),$("#filter-npEXfemale").text("NP EX Female"),$("#filter-npEXdivine").text("NP EX Divine"),$("#filter-npEXdragon").text("NP EX Dragon"),$("#filter-npEXpoison").text("NP EX Poison"),$("#filter-npEXriding").text("NP EX Riding"),$("#filter-npEXlove").text("NP EX Beloved"),$("#filter-npEXevil").text("NP EX Evil"),$("#filter-npEXdemonic").text("NP EX Demonic"),$("#filter-npEXskyearth").text("NP EX Sky Earth"),$("#filter-npEXservant").text("NP EX Servant"),$("#filter-npEXface").text("NP EX Saberface"),$("#filter-npEXarthur").text("NP EX Arthur"),$("#filter-npEXsaber").text("NP EX Saber"),$("#filter-sEXmale").text("Skill EX Male"),$("#filter-sEXdivine").text("Skill EX Divine"),$("#filter-sEXdragon").text("Skill EX Dragon"),$("#filter-sEXroma").text("Skill EX Roman"),$("#filter-sEXsavagebeast").text("Skill EX Beast"),$("#filter-sEXevil").text("Skill EX Evil"),$("#filter-sEXdemonic").text("Skill EX Demonic"),$("#filter-sEXskyearth").text("Skill EX SkyEarth"),$("#filter-sEXhuman").text("Skill EX Human"),$("#filter-sEXhumanoid").text("Skill EX Humanoid"),$("#filter-sEXundead").text("Skill EX Undead"),$("#filter-sEXdemon").text("Skill EX Demon"),$("#filter-sEXlarge").text("Skill EX LargeEnemies"),$("#filter-sEXsaber").text("Skill EX Saber"),$("h2.instTitle").text("Instructions"),document.getElementById("instText1").innerHTML='　This simulator is material calculator for Fate/ Grand Order.<br />　This instructions is translated by Google translation.<br />　Sorry if wrong English.<br /><font color="red">　When using on a smartphone, we recommend in portrait orientation.</font><br /><br />',document.getElementById("instText2").innerHTML='1.<br />　When you register a servant, you click the "Look up Servant" button, "+" icon or "Reverse Look up" button.<br />　You can look up the servants by class from "Look up Servant" button or "+" icon. The servants icon will be displayed in descending order of reality.<br />　You can reverse look up from the material that the servant uses for "Ascension" or "Skill Reinforcement" with the "Reverse Look up" button.<br /><br />',document.getElementById("instText3").innerHTML='2.<br />　After registering the servants, set the value of "Ascension" and "SKILL". Calculate from left to right of the set value.<br /> As an input assist function, you can exclude items individually from the calculation by clicking "Ascension" or "SKILL".<br />　You can set it instantly.<br />　All your settings are automatically saved in the "Cookie". If the "Cookie" function is turned off, we can not save.<br /><br />',document.getElementById("instText4").innerHTML='3.<br />　You can unregister servants individually by click the "Delete" button above the icon.<br />　You can unregister all servants by click "AllDelete" button.<br /><br />',document.getElementById("instText5").innerHTML='4.<br />　You can change registered servants individually by click "Change".<br /><br />',document.getElementById("instText6").innerHTML='5.<br />　When you click "Result", the calculation result of the registered content is displayed in "Result".<br /><br />　"Shortage" is a linkage function with "Inventory".<br />　"Shortage" displays the missing number by subtracting the number of items you have from "Result". Not missing materials will disappear from the display.<br />　You can set it by click the "Inventory" button. Please enter the number of items you have now.<br /><br />　"Consumed" is calculated by referring to the set value on the left side of the registered servant.<br />　In other words, "the number of materials consumed from the initial state to the current state" is displayed.<br />　You can look back on materials have been invested in servants by "Consumed".<br /><br />',document.getElementById("instText7").innerHTML="6.<br />　You can register and calculate all the servants at the same time.<br />　However, some functions may be delayed depending on your terminal performance. Please be careful.<br /><br />",document.getElementById("instText8").innerHTML='7.<br />　There may be a shortage of data on "Ascension" or "SKILL" for reasons a new servant coming.<br />　Moreover, we do not correspond to special items of event.<br /><br />',document.getElementById("instText9").innerHTML="8.<br />　All data used for calculation refers to the wiki. If you find a mistake in the data, please contact us.<br /><br />",document.getElementById("instText10").innerHTML="9.<br />　Some servants do not have the third skill, but the setting items are not hidden.<br /><br />",document.getElementById("instText11").innerHTML="10.<br />　Solomon is unimplemented. This is joke.<br /><br />",document.getElementById("instText12").innerHTML='　This page has nothing to do with the development / management etc of "Fate / Grand Order", just one user made it with hobby.<br />　Even if there is any damage caused by using this simulator, we can not take responsibility at all.',document.getElementById("instText13").innerHTML="　NO DATA",$(".tools").css("font-family","Times New Roman"),window.innerWidth<480?($(".tools > #all-clear").css("font-size","90%"),$(".tools > #inventory-setting").css("font-size","90%")):($(".tools > #all-clear").css("font-size","110%"),$(".tools > #inventory-setting").css("font-size","110%")),showBox>1)for(i=1;i<=showBox;i++)document.getElementById("servantName_"+i).innerText=Servantdb[numCalcServantId[i-1]-1].text2;else 1==showBox&&(document.getElementById("servantName_1").innerText=Servantdb[numCalcServantId[showBox-1]-1].text2);$('input[value="霊基再臨"]').val("Ascension"),$("#changeLng,#modal-overlay").fadeOut("fast",function(){$("#modal-overlay").remove()})}),$("#modal-overlay").unbind().click(function(){$("#changeLng,#modal-overlay").fadeOut("fast",function(){$("#modal-overlay").remove()})})}),$(".custom-select").each(function(){var e=$(this).attr("class"),a=($(this).attr("id"),$(this).attr("name"),'<div class="'+e+'">');a+='<span class="custom-select-trigger">'+$(this).attr("placeholder")+"</span>",a+='<div class="custom-options">',$(this).find("option").each(function(){a+='<span class="custom-option '+$(this).attr("class")+'" data-value="'+$(this).attr("value")+'">'+$(this).html()+"</span>"}),a+="</div></div>",$(this).wrap('<div class="custom-select-wrapper"></div>'),$(this).hide(),$(this).after(a)}),$(".custom-option:first-of-type").hover(function(){$(this).parents(".custom-options").addClass("option-hover")},function(){$(this).parents(".custom-options").removeClass("option-hover")}),$(".custom-select-trigger").on("click",function(){$("html").one("click",function(){$(".custom-select").removeClass("opened")}),$(this).parents(".custom-select").toggleClass("opened"),event.stopPropagation()}),$(".custom-option").on("click",function(){$(this).parents(".custom-select-wrapper").find("select").val($(this).data("value")),$(this).parents(".custom-options").find(".custom-option").removeClass("selection"),$(this).addClass("selection"),$(this).parents(".custom-select").removeClass("opened"),$(this).parents(".custom-select").find(".custom-select-trigger").text($(this).text())});var e=!1;$(window).resize(function(){!1!==e&&clearTimeout(e),e=setTimeout(function(){window.innerWidth<480?($(".tools > #all-clear").css("font-size","90%"),$(".tools > #inventory-setting").css("font-size","90%")):($(".tools > #all-clear").css("font-size","110%"),$(".tools > #inventory-setting").css("font-size","110%"))},200)});var a=$("#pageTop");$(window).scroll(function(){$(this).scrollTop()>80?a.fadeIn():a.fadeOut()}),a.click(function(){return $("body,html").animate({scrollTop:0},500),!1}),$(window).keydown(function(e){if(9==e.keyCode)return!1})});